!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xe.test(n)?Z.parseJSON(n):n)}catch(e){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(t,i,l[i][n])}ye.hasData(e)&&(a=ye.access(e),u=Z.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$e[e];return n||(n=x(e,t),"none"!==n&&n||(We=(We||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=x(e,t),We.detach()),$e[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Be.test(s)&&Ie.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if(t=Ge[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(e,n+Te[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Te[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Te[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Te[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Te[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_e(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Be.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=ve.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qe=void 0}),Qe=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ce(e),g=ve.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ke.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tt.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qe||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Nt.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=ye.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(be,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xe.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},P=[],F=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?ee(j,e)-ee(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!O||P&&P.test(n)||F&&F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){(!r||(i=le.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in T.filter)!(i=he[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(we,Te),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){
for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,ue=Z(J);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pe[e]||Z.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function t(n){Z.each(n,function(n,r){var i=Z.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Z.isArray(n)?r=ve.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var Ee=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!De.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,De.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,qe=/<|&#?\w+;/,He=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qe.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=Me[s]||Me._default,o.innerHTML=a[1]+i.replace(Ae,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Fe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Me[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Oe.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;o>u;u++)s=i[u],Fe.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var We,$e={},Ie=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),_e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?ze.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_e(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Te[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_e(e),i=t.length;i>s;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qe,Je,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[q],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var st=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Q.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},xt={},bt="*/".concat("*"),wt=e.location.href,Tt=vt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ht.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(yt),ajaxTransport:F(xt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,Tt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Tt[1]&&u[2]===Tt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(yt,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(xt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(e){if(!(2>x))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,Nt=/\[\]$/,kt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,jt={},At={0:200,1223:204},Lt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in jt)jt[e]()}),Q.cors=!!Lt&&"withCredentials"in Lt,Q.ajax=Lt=!!Lt,Z.ajaxTransport(function(e){var t;return Q.cors||Lt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++Dt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete jt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=jt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Ht=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||Z.expando+"_"+lt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ht,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,qt.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return me(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){return n?(n=w(e,t),Be.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Pt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Pt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),
o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&n<=i?"top":null!=o&&l+h>=t-o&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,a){"use strict";function r(e){var n,a,o="a aa ai ao as b fn i m o s ",i={};t.each(e,function(t,s){n=t.match(/^([^A-Z]+?)([A-Z])/),n&&o.indexOf(n[1]+" ")!==-1&&(a=t.replace(n[0],n[2].toLowerCase()),i[a]=t,"o"===n[1]&&r(e[t]))}),e._hungarianMap=i}function o(e,n,i){e._hungarianMap||r(e);var s;t.each(n,function(r,l){s=e._hungarianMap[r],s===a||!i&&n[s]!==a||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[r]),o(e[s],n[s],i)):n[s]=n[r])})}function i(t){var e=qt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Nt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Nt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var a=t.sDecimal;a&&Vt(a)}function s(t){be(t,"ordering","bSort"),be(t,"orderMulti","bSortMulti"),be(t,"orderClasses","bSortClasses"),be(t,"orderCellsTop","bSortCellsTop"),be(t,"order","aaSorting"),be(t,"orderFixed","aaSortingFixed"),be(t,"paging","bPaginate"),be(t,"pagingType","sPaginationType"),be(t,"pageLength","iDisplayLength"),be(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,a=e.length;n<a;n++)e[n]&&o(qt.models.oSearch,e[n])}function l(e){be(e,"orderable","bSortable"),be(e,"orderData","aDataSort"),be(e,"orderSequence","asSorting"),be(e,"orderDataType","sortDataType");var n=e.aDataSort;n&&!t.isArray(n)&&(e.aDataSort=[n])}function u(e){if(!qt.__browser){var n={};qt.__browser=n;var a=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=a.children(),o=r.children();n.barWidth=r[0].offsetWidth-r[0].clientWidth,n.bScrollOversize=100===o[0].offsetWidth&&100!==r[0].clientWidth,n.bScrollbarLeft=1!==Math.round(o.offset().left),n.bBounding=!!a[0].getBoundingClientRect().width,a.remove()}t.extend(e.oBrowser,qt.__browser),e.oScroll.iBarWidth=qt.__browser.barWidth}function c(t,e,n,r,o,i){var s,l=r,u=!1;for(n!==a&&(s=n,u=!0);l!==o;)t.hasOwnProperty(l)&&(s=u?e(s,t[l],l,t):t[l],u=!0,l+=i);return s}function f(e,a){var r=qt.defaults.column,o=e.aoColumns.length,i=t.extend({},qt.models.oColumn,r,{nTh:a?a:n.createElement("th"),sTitle:r.sTitle?r.sTitle:a?a.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(i);var s=e.aoPreSearchCols;s[o]=t.extend({},qt.models.oSearch,s[o]),d(e,o,t(a).data())}function d(e,n,r){var i=e.aoColumns[n],s=e.oClasses,u=t(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(i.sWidthOrig=c[1])}r!==a&&null!==r&&(l(r),o(qt.defaults.column,r),r.mDataProp===a||r.mData||(r.mData=r.mDataProp),r.sType&&(i._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),t.extend(i,r),Nt(i,r,"sWidth","sWidthOrig"),r.iDataSort!==a&&(i.aDataSort=[r.iDataSort]),Nt(i,r,"aDataSort"));var f=i.mData,d=I(f),h=i.mRender?I(i.mRender):null,p=function(t){return"string"==typeof t&&t.indexOf("@")!==-1};i._bAttrSrc=t.isPlainObject(f)&&(p(f.sort)||p(f.type)||p(f.filter)),i._setter=null,i.fnGetData=function(t,e,n){var r=d(t,e,a,n);return h&&e?h(r,e,t,n):r},i.fnSetData=function(t,e,n){return A(f)(t,e,n)},"number"!=typeof f&&(e._rowReadObject=!0),e.oFeatures.bSort||(i.bSortable=!1,u.addClass(s.sSortableNone));var g=t.inArray("asc",i.asSorting)!==-1,b=t.inArray("desc",i.asSorting)!==-1;i.bSortable&&(g||b)?g&&!b?(i.sSortingClass=s.sSortableAsc,i.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&b?(i.sSortingClass=s.sSortableDesc,i.sSortingClassJUI=s.sSortJUIDescAllowed):(i.sSortingClass=s.sSortable,i.sSortingClassJUI=s.sSortJUI):(i.sSortingClass=s.sSortableNone,i.sSortingClassJUI="")}function h(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;St(t);for(var n=0,a=e.length;n<a;n++)e[n].nTh.style.width=e[n].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||bt(t),Wt(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function g(e,n){var a=v(e,"bVisible"),r=t.inArray(n,a);return r!==-1?r:null}function b(e){return t(ce(e.aoColumns,"nTh")).filter(":visible").length}function v(e,n){var a=[];return t.map(e.aoColumns,function(t,e){t[n]&&a.push(e)}),a}function S(t){var e,n,r,o,i,s,l,u,c,f=t.aoColumns,d=t.aoData,h=qt.ext.type.detect;for(e=0,n=f.length;e<n;e++)if(l=f[e],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(i=0,s=d.length;i<s&&(c[i]===a&&(c[i]=T(t,i,e,"type")),u=h[r](c[i],t),u||r===h.length-1)&&"html"!==u;i++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function m(e,n,r,o){var i,s,l,u,c,d,h,p=e.aoColumns;if(n)for(i=n.length-1;i>=0;i--){h=n[i];var g=h.targets!==a?h.targets:h.aTargets;for(t.isArray(g)||(g=[g]),l=0,u=g.length;l<u;l++)if("number"==typeof g[l]&&g[l]>=0){for(;p.length<=g[l];)f(e);o(g[l],h)}else if("number"==typeof g[l]&&g[l]<0)o(p.length+g[l],h);else if("string"==typeof g[l])for(c=0,d=p.length;c<d;c++)("_all"==g[l]||t(p[c].nTh).hasClass(g[l]))&&o(c,h)}if(r)for(i=0,s=r.length;i<s;i++)o(i,r[i])}function D(e,n,r,o){var i=e.aoData.length,s=t.extend(!0,{},qt.models.oRow,{src:r?"dom":"data",idx:i});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;e.aiDisplayMaster.push(i);var f=e.rowIdFn(n);return f!==a&&(e.aIds[f]=s),!r&&e.oFeatures.bDeferRender||H(e,i,r,o),i}function y(e,n){var a;return n instanceof t||(n=t(n)),n.map(function(t,n){return a=j(e,n),D(e,a.data,n,a.cells)})}function _(t,e){return e._DT_RowIndex!==a?e._DT_RowIndex:null}function C(e,n,a){return t.inArray(a,e.aoData[n].anCells)}function T(t,e,n,r){var o=t.iDraw,i=t.aoColumns[n],s=t.aoData[e]._aData,l=i.sDefaultContent,u=i.fnGetData(s,r,{settings:t,row:e,col:n});if(u===a)return t.iDrawError!=o&&null===l&&(Ht(t,0,"Requested unknown parameter "+("function"==typeof i.mData?"{function}":"'"+i.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=o),l;if(u!==s&&null!==u||null===l||r===a){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function w(t,e,n,a){var r=t.aoColumns[n],o=t.aoData[e]._aData;r.fnSetData(o,a,{settings:t,row:e,col:n})}function x(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function I(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=I(e))}),function(t,e,r,o){var i=n[e]||n._;return i!==a?i(t,e,r,o):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,a,r){return e(t,n,a,r)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){return t[e]};var r=function(e,n,o){var i,s,l,u;if(""!==o)for(var c=x(o),f=0,d=c.length;f<d;f++){if(i=c[f].match(ve),s=c[f].match(Se),i){if(c[f]=c[f].replace(ve,""),""!==c[f]&&(e=e[c[f]]),l=[],c.splice(0,f+1),u=c.join("."),t.isArray(e))for(var h=0,p=e.length;h<p;h++)l.push(r(e[h],n,u));var g=i[0].substring(1,i[0].length-1);e=""===g?l:l.join(g);break}if(s)c[f]=c[f].replace(Se,""),e=e[c[f]]();else{if(null===e||e[c[f]]===a)return a;e=e[c[f]]}}return e};return function(t,n){return r(t,n,e)}}function A(e){if(t.isPlainObject(e))return A(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,a){e(t,"set",n,a)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){t[e]=n};var n=function(e,r,o){for(var i,s,l,u,c,f=x(o),d=f[f.length-1],h=0,p=f.length-1;h<p;h++){if(s=f[h].match(ve),l=f[h].match(Se),s){if(f[h]=f[h].replace(ve,""),e[f[h]]=[],i=f.slice(),i.splice(0,h+1),c=i.join("."),t.isArray(r))for(var g=0,b=r.length;g<b;g++)u={},n(u,r[g],c),e[f[h]].push(u);else e[f[h]]=r;return}l&&(f[h]=f[h].replace(Se,""),e=e[f[h]](r)),null!==e[f[h]]&&e[f[h]]!==a||(e[f[h]]={}),e=e[f[h]]}d.match(Se)?e=e[d.replace(Se,"")](r):e[d.replace(ve,"")]=r};return function(t,a){return n(t,a,e)}}function F(t){return ce(t.aoData,"_aData")}function L(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function P(t,e,n){for(var r=-1,o=0,i=t.length;o<i;o++)t[o]==e?r=o:t[o]>e&&t[o]--;r!=-1&&n===a&&t.splice(r,1)}function R(t,e,n,r){var o,i,s=t.aoData[e],l=function(n,a){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=T(t,e,a,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(r!==a)l(u[r],r);else for(o=0,i=u.length;o<i;o++)l(u[o],o)}else s._aData=j(t,s,r,r===a?a:s._aData).data;s._aSortData=null,s._aFilterData=null;var c=t.aoColumns;if(r!==a)c[r].sType=null;else{for(o=0,i=c.length;o<i;o++)c[o].sType=null;N(t,s)}}function j(e,n,r,o){var i,s,l,u=[],c=n.firstChild,f=0,d=e.aoColumns,h=e._rowReadObject;o=o!==a?o:h?{}:[];var p=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(n!==-1){var a=t.substring(n+1),r=A(t);r(o,e.getAttribute(a))}}},g=function(e){if(r===a||r===f)if(s=d[f],l=t.trim(e.innerHTML),s&&s._bAttrSrc){var n=A(s.mData._);n(o,l),p(s.mData.sort,e),p(s.mData.type,e),p(s.mData.filter,e)}else h?(s._setter||(s._setter=A(s.mData)),s._setter(o,l)):o[f]=l;f++};if(c)for(;c;)i=c.nodeName.toUpperCase(),"TD"!=i&&"TH"!=i||(g(c),u.push(c)),c=c.nextSibling;else{u=n.anCells;for(var b=0,v=u.length;b<v;b++)g(u[b])}var S=n.firstChild?n:n.nTr;if(S){var m=S.getAttribute("id");m&&A(e.rowId)(o,m)}return{data:o,cells:u}}function H(e,a,r,o){var i,s,l,u,c,f=e.aoData[a],d=f._aData,h=[];if(null===f.nTr){for(i=r||n.createElement("tr"),f.nTr=i,f.anCells=h,i._DT_RowIndex=a,N(e,f),u=0,c=e.aoColumns.length;u<c;u++)l=e.aoColumns[u],s=r?o[u]:n.createElement(l.sCellType),s._DT_CellIndex={row:a,column:u},h.push(s),r&&!l.mRender&&l.mData===u||t.isPlainObject(l.mData)&&l.mData._===u+".display"||(s.innerHTML=T(e,a,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?i.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,T(e,a,u),d,a,u);Wt(e,"aoRowCreatedCallback",null,[i,d,a])}f.nTr.setAttribute("role","row")}function N(e,n){var a=n.nTr,r=n._aData;if(a){var o=e.rowIdFn(r);if(o&&(a.id=o),r.DT_RowClass){var i=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?ge(n.__rowc.concat(i)):i,t(a).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&t(a).attr(r.DT_RowAttr),r.DT_RowData&&t(a).data(r.DT_RowData)}}function O(e){var n,a,r,o,i,s=e.nTHead,l=e.nTFoot,u=0===t("th, td",s).length,c=e.oClasses,f=e.aoColumns;for(u&&(o=t("<tr/>").appendTo(s)),n=0,a=f.length;n<a;n++)i=f[n],r=t(i.nTh).addClass(i.sClass),u&&r.appendTo(o),e.oFeatures.bSort&&(r.addClass(i.sSortingClass),i.bSortable!==!1&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),At(e,i.nTh,n))),i.sTitle!=r[0].innerHTML&&r.html(i.sTitle),Bt(e,"header")(e,r,i,c);if(u&&B(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var d=e.aoFooter[0];for(n=0,a=d.length;n<a;n++)i=f[n],i.nTf=d[n].cell,i.sClass&&t(i.nTf).addClass(i.sClass)}}function k(e,n,r){var o,i,s,l,u,c,f,d,h,p=[],g=[],b=e.aoColumns.length;if(n){for(r===a&&(r=!1),o=0,i=n.length;o<i;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,s=b-1;s>=0;s--)e.aoColumns[s].bVisible||r||p[o].splice(s,1);g.push([])}for(o=0,i=p.length;o<i;o++){if(f=p[o].nTr)for(;c=f.firstChild;)f.removeChild(c);for(s=0,l=p[o].length;s<l;s++)if(d=1,h=1,g[o][s]===a){for(f.appendChild(p[o][s].cell),g[o][s]=1;p[o+d]!==a&&p[o][s].cell==p[o+d][s].cell;)g[o+d][s]=1,d++;for(;p[o][s+h]!==a&&p[o][s].cell==p[o][s+h].cell;){for(u=0;u<d;u++)g[o+u][s+h]=1;h++}t(p[o][s].cell).attr("rowspan",d).attr("colspan",h)}}}}function M(e){var n=Wt(e,"aoPreDrawCallback","preDraw",[e]);if(t.inArray(!1,n)!==-1)return void pt(e,!1);var r=[],o=0,i=e.asStripeClasses,s=i.length,l=(e.aoOpenRows.length,e.oLanguage),u=e.iInitDisplayStart,c="ssp"==Et(e),f=e.aiDisplay;e.bDrawing=!0,u!==a&&u!==-1&&(e._iDisplayStart=c?u:u>=e.fnRecordsDisplay()?0:u,e.iInitDisplayStart=-1);var d=e._iDisplayStart,h=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,pt(e,!1);else if(c){if(!e.bDestroying&&!V(e))return}else e.iDraw++;if(0!==f.length)for(var p=c?0:d,g=c?e.aoData.length:h,v=p;v<g;v++){var S=f[v],m=e.aoData[S];null===m.nTr&&H(e,S);var D=m.nTr;if(0!==s){var y=i[o%s];m._sRowStripe!=y&&(t(D).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}Wt(e,"aoRowCallback",null,[D,m._aData,o,v]),r.push(D),o++}else{var _=l.sZeroRecords;1==e.iDraw&&"ajax"==Et(e)?_=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(_=l.sEmptyTable),r[0]=t("<tr/>",{class:s?i[0]:""}).append(t("<td />",{valign:"top",colSpan:b(e),class:e.oClasses.sRowEmpty}).html(_))[0]}Wt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],F(e),d,h,f]),Wt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],F(e),d,h,f]);var C=t(e.nTBody);C.children().detach(),C.append(t(r)),Wt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function W(t,e){var n=t.oFeatures,a=n.bSort,r=n.bFilter;a&&wt(t),r?z(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,M(t),t._drawHold=!1}function U(e){var n=e.oClasses,a=t(e.nTable),r=t("<div/>").insertBefore(a),o=e.oFeatures,i=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=i[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,u,c,f,d,h=e.sDom.split(""),p=0;p<h.length;p++){if(s=null,l=h[p],"<"==l){if(u=t("<div/>")[0],c=h[p+1],"'"==c||'"'==c){for(f="",d=2;h[p+d]!=c;)f+=h[p+d],d++;if("H"==f?f=n.sJUIHeader:"F"==f&&(f=n.sJUIFooter),f.indexOf(".")!=-1){var g=f.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==f.charAt(0)?u.id=f.substr(1,f.length-1):u.className=f;p+=d}i.append(u),i=t(u)}else if(">"==l)i=i.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=ct(e);else if("f"==l&&o.bFilter)s=$(e);else if("r"==l&&o.bProcessing)s=ht(e);else if("t"==l)s=gt(e);else if("i"==l&&o.bInfo)s=rt(e);else if("p"==l&&o.bPaginate)s=ft(e);else if(0!==qt.ext.feature.length)for(var b=qt.ext.feature,v=0,S=b.length;v<S;v++)if(l==b[v].cFeature){s=b[v].fnInit(e);break}if(s){var m=e.aanFeatures;m[l]||(m[l]=[]),m[l].push(s),i.append(s)}}r.replaceWith(i),e.nHolding=null}function B(e,n){var a,r,o,i,s,l,u,c,f,d,h,p=t(n).children("tr"),g=function(t,e,n){for(var a=t[e];a[n];)n++;return n};for(e.splice(0,e.length),o=0,l=p.length;o<l;o++)e.push([]);for(o=0,l=p.length;o<l;o++)for(a=p[o],c=0,r=a.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(f=1*r.getAttribute("colspan"),d=1*r.getAttribute("rowspan"),f=f&&0!==f&&1!==f?f:1,d=d&&0!==d&&1!==d?d:1,u=g(e,o,c),h=1===f,s=0;s<f;s++)for(i=0;i<d;i++)e[o+i][u+s]={cell:r,unique:h},e[o+i].nTr=a;r=r.nextSibling}}function E(t,e,n){var a=[];n||(n=t.aoHeader,e&&(n=[],B(n,e)));for(var r=0,o=n.length;r<o;r++)for(var i=0,s=n[r].length;i<s;i++)!n[r][i].unique||a[i]&&t.bSortCellsTop||(a[i]=n[r][i].cell);return a}function J(e,n,a){if(Wt(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var r={},o=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(o);if(n){var a=n[0];r[a]||(r[a]=[]),r[a].push(e.value)}else r[e.name]=e.value}),n=r}var i,s=e.ajax,l=e.oInstance,u=function(t){Wt(e,null,"xhr",[e,t,e.jqXHR]),a(t)};if(t.isPlainObject(s)&&s.data){i=s.data;var c=t.isFunction(i)?i(n,e):i;n=t.isFunction(i)&&c?c:t.extend(!0,n,c),delete s.data}var f={data:n,success:function(t){var n=t.error||t.sError;n&&Ht(e,0,n),e.json=t,u(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,a,r){var o=Wt(e,null,"xhr",[e,null,e.jqXHR]);t.inArray(!0,o)===-1&&("parsererror"==a?Ht(e,0,"Invalid JSON response",1):4===n.readyState&&Ht(e,0,"Ajax error",7)),pt(e,!1)}};e.oAjaxData=n,Wt(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(f,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(l,n,u,e):(e.jqXHR=t.ajax(t.extend(f,s)),s.data=i)}function V(t){return!t.bAjaxDataGet||(t.iDraw++,pt(t,!0),J(t,X(t),function(e){q(t,e)}),!1)}function X(e){var n,a,r,o,i=e.aoColumns,s=i.length,l=e.oFeatures,u=e.oPreviousSearch,c=e.aoPreSearchCols,f=[],d=Tt(e),h=e._iDisplayStart,p=l.bPaginate!==!1?e._iDisplayLength:-1,g=function(t,e){f.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",ce(i,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",p);var b={draw:e.iDraw,columns:[],order:[],start:h,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=i[n],o=c[n],a="function"==typeof r.mData?"function":r.mData,b.columns.push({data:a,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+n,a),l.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),l.bSort&&g("bSortable_"+n,r.bSortable);l.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),l.bSort&&(t.each(d,function(t,e){b.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",d.length));var v=qt.ext.legacy.ajax;return null===v?e.sAjaxSource?f:b:v?f:b}function q(t,e){var n=function(t,n){return e[t]!==a?e[t]:e[n]},r=G(t,e),o=n("sEcho","draw"),i=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<t.iDraw)return;t.iDraw=1*o}L(t),t._iRecordsTotal=parseInt(i,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,u=r.length;l<u;l++)D(t,r[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,M(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,pt(t,!1)}function G(e,n){var r=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==a?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?I(r)(n):n}function $(e){var a=e.oClasses,r=e.sTableId,o=e.oLanguage,i=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+a.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=t("<div/>",{id:s.f?null:r+"_filter",class:a.sFilter}).append(t("<label/>").append(u)),f=function(){var t=(s.f,this.value?this.value:"");t!=i.sSearch&&(z(e,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),e._iDisplayStart=0,M(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===Et(e)?400:0,h=t("input",c).val(i.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",d?mt(f,d):f).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",function(t,a){if(e===a)try{h[0]!==n.activeElement&&h.val(i.sSearch)}catch(t){}}),c[0]}function z(t,e,n){var r=t.oPreviousSearch,o=t.aoPreSearchCols,i=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==a?!t.bEscapeRegex:t.bRegex};if(S(t),"ssp"!=Et(t)){Q(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive),i(e);for(var l=0;l<o.length;l++)Z(t,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);Y(t)}else i(e);t.bFiltered=!0,Wt(t,null,"search",[t])}function Y(e){for(var n,a,r=qt.ext.search,o=e.aiDisplay,i=0,s=r.length;i<s;i++){for(var l=[],u=0,c=o.length;u<c;u++)a=o[u],n=e.aoData[a],r[i](e,n._aFilterData,a,n._aData,u)&&l.push(a);o.length=0,t.merge(o,l)}}function Z(t,e,n,a,r,o){if(""!==e)for(var i,s=t.aiDisplay,l=K(e,a,r,o),u=s.length-1;u>=0;u--)i=t.aoData[s[u]]._aFilterData[n],l.test(i)||s.splice(u,1)}function Q(t,e,n,a,r,o){var i,s,l,u=K(e,a,r,o),c=t.oPreviousSearch.sSearch,f=t.aiDisplayMaster;if(0!==qt.ext.search.length&&(n=!0),s=et(t),e.length<=0)t.aiDisplay=f.slice();else for((s||n||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=f.slice()),i=t.aiDisplay,l=i.length-1;l>=0;l--)u.test(t.aoData[i[l]]._sFilterRow)||i.splice(l,1)}function K(e,n,a,r){if(e=n?e:tt(e),a){var o=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}function tt(t){return t.replace(ne,"\\$1")}function et(t){var e,n,a,r,o,i,s,l,u=t.aoColumns,c=qt.ext.type.search,f=!1;for(n=0,r=t.aoData.length;n<r;n++)if(l=t.aoData[n],!l._aFilterData){for(i=[],a=0,o=u.length;a<o;a++)e=u[a],e.bSearchable?(s=T(t,n,a,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&s.indexOf("&")!==-1&&(me.innerHTML=s,s=De?me.textContent:me.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),i.push(s);l._aFilterData=i,l._sFilterRow=i.join("  "),f=!0}return f}function nt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function at(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function rt(e){var n=e.sTableId,a=e.aanFeatures.i,r=t("<div/>",{class:e.oClasses.sInfo,id:a?null:n+"_info"});return a||(e.aoDrawCallback.push({fn:ot,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),r[0]}function ot(e){var n=e.aanFeatures.i;if(0!==n.length){var a=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?a.sInfo:a.sInfoEmpty;s!==i&&(l+=" "+a.sInfoFiltered),l+=a.sInfoPostFix,l=it(e,l);var u=a.fnInfoCallback;null!==u&&(l=u.call(e.oInstance,e,r,o,i,s,l)),t(n).html(l)}}function it(t,e){var n=t.fnFormatNumber,a=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),i=r===-1;return e.replace(/_START_/g,n.call(t,a)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,i?1:Math.ceil(a/r))).replace(/_PAGES_/g,n.call(t,i?1:Math.ceil(o/r)))}function st(t){var e,n,a,r=t.iInitDisplayStart,o=t.aoColumns,i=t.oFeatures,s=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){st(t)},200);for(U(t),O(t),k(t,t.aoHeader),k(t,t.aoFooter),pt(t,!0),i.bAutoWidth&&St(t),e=0,n=o.length;e<n;e++)a=o[e],a.sWidth&&(a.nTh.style.width=Ct(a.sWidth));Wt(t,null,"preInit",[t]),W(t);var l=Et(t);("ssp"!=l||s)&&("ajax"==l?J(t,[],function(n){var a=G(t,n);for(e=0;e<a.length;e++)D(t,a[e]);t.iInitDisplayStart=r,W(t),pt(t,!1),lt(t,n)},t):(pt(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&h(t),Wt(t,null,"plugin-init",[t,e]),Wt(t,"aoInitComplete","init",[t,e])}function ut(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ut(t),Wt(t,null,"length",[t,n])}function ct(e){for(var n=e.oClasses,a=e.sTableId,r=e.aLengthMenu,o=t.isArray(r[0]),i=o?r[0]:r,s=o?r[1]:r,l=t("<select/>",{name:a+"_length","aria-controls":a,class:n.sLengthSelect}),u=0,c=i.length;u<c;u++)l[0][u]=new Option(s[u],i[u]);var f=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(f[0].id=a+"_length"),f.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",f).val(e._iDisplayLength).bind("change.DT",function(n){ut(e,t(this).val()),M(e)}),t(e.nTable).bind("length.dt.DT",function(n,a,r){e===a&&t("select",f).val(r)}),f[0]}function ft(e){var n=e.sPaginationType,a=qt.ext.pager[n],r="function"==typeof a,o=function(t){M(t)},i=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return r||a.fnInit(e,i,o),s.p||(i.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,n,i=t._iDisplayStart,l=t._iDisplayLength,u=t.fnRecordsDisplay(),c=l===-1,f=c?0:Math.ceil(i/l),d=c?1:Math.ceil(u/l),h=a(f,d);for(e=0,n=s.p.length;e<n;e++)Bt(t,"pageButton")(t,s.p[e],e,h,f,d)}else a.fnUpdate(t,o)},sName:"pagination"})),i}function dt(t,e,n){var a=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();0===o||r===-1?a=0:"number"==typeof e?(a=e*r,a>o&&(a=0)):"first"==e?a=0:"previous"==e?(a=r>=0?a-r:0,a<0&&(a=0)):"next"==e?a+r<o&&(a+=r):"last"==e?a=Math.floor((o-1)/r)*r:Ht(t,0,"Unknown paging action: "+e,5);var i=t._iDisplayStart!==a;return t._iDisplayStart=a,i&&(Wt(t,null,"page",[t]),n&&M(t)),i}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function pt(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Wt(e,null,"processing",[e,n])}function gt(e){var n=t(e.nTable);n.attr("role","grid");var a=e.oScroll;if(""===a.sX&&""===a.sY)return e.nTable;var r=a.sX,o=a.sY,i=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),f=n.children("tfoot"),d="<div/>",h=function(t){return t?Ct(t):null};f.length||(f=null);var p=t(d,{class:i.sScrollWrapper}).append(t(d,{class:i.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?h(r):"100%"}).append(t(d,{class:i.sScrollHeadInner}).css({"box-sizing":"content-box",width:a.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t(d,{class:i.sScrollBody}).css({position:"relative",overflow:"auto",width:h(r)}).append(n));f&&p.append(t(d,{class:i.sScrollFoot}).css({overflow:"hidden",border:0,width:r?h(r):"100%"}).append(t(d,{class:i.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var g=p.children(),b=g[0],v=g[1],S=f?g[2]:null;return r&&t(v).on("scroll.DT",function(t){var e=this.scrollLeft;b.scrollLeft=e,f&&(S.scrollLeft=e)}),t(v).css(o&&a.bCollapse?"max-height":"height",o),e.nScrollHead=b,e.nScrollBody=v,e.nScrollFoot=S,e.aoDrawCallback.push({fn:bt,sName:"scrolling"}),p[0]}function bt(e){var n,r,o,i,s,l,u,c,f,d=e.oScroll,g=d.sX,b=d.sXInner,v=d.sY,S=d.iBarWidth,m=t(e.nScrollHead),D=m[0].style,y=m.children("div"),_=y[0].style,C=y.children("table"),T=e.nScrollBody,w=t(T),x=T.style,I=t(e.nScrollFoot),A=I.children("div"),F=A.children("table"),L=t(e.nTHead),P=t(e.nTable),R=P[0],j=R.style,H=e.nTFoot?t(e.nTFoot):null,N=e.oBrowser,O=N.bScrollOversize,k=ce(e.aoColumns,"nTh"),M=[],W=[],U=[],B=[],J=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},V=T.scrollHeight>T.clientHeight;if(e.scrollBarVis!==V&&e.scrollBarVis!==a)return e.scrollBarVis=V,void h(e);e.scrollBarVis=V,P.children("thead, tfoot").remove(),H&&(l=H.clone().prependTo(P),r=H.find("tr"),i=l.find("tr")),s=L.clone().prependTo(P),n=L.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),g||(x.width="100%",m[0].style.width="100%"),t.each(E(e,s),function(t,n){u=p(e,t),n.style.width=e.aoColumns[u].sWidth}),H&&vt(function(t){t.style.width=""},i),f=P.outerWidth(),""===g?(j.width="100%",O&&(P.find("tbody").height()>T.offsetHeight||"scroll"==w.css("overflow-y"))&&(j.width=Ct(P.outerWidth()-S)),f=P.outerWidth()):""!==b&&(j.width=Ct(b),f=P.outerWidth()),vt(J,o),vt(function(e){U.push(e.innerHTML),M.push(Ct(t(e).css("width")))},o),vt(function(e,n){t.inArray(e,k)!==-1&&(e.style.width=M[n])},n),t(o).height(0),H&&(vt(J,i),vt(function(e){B.push(e.innerHTML),W.push(Ct(t(e).css("width")))},i),vt(function(t,e){t.style.width=W[e]},r),t(i).height(0)),vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+U[e]+"</div>",t.style.width=M[e]},o),H&&vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+B[e]+"</div>",t.style.width=W[e]},i),P.outerWidth()<f?(c=T.scrollHeight>T.offsetHeight||"scroll"==w.css("overflow-y")?f+S:f,O&&(T.scrollHeight>T.offsetHeight||"scroll"==w.css("overflow-y"))&&(j.width=Ct(c-S)),""!==g&&""===b||Ht(e,1,"Possible column misalignment",6)):c="100%",x.width=Ct(c),D.width=Ct(c),H&&(e.nScrollFoot.style.width=Ct(c)),v||O&&(x.height=Ct(R.offsetHeight+S));var X=P.outerWidth();C[0].style.width=Ct(X),_.width=Ct(X);var q=P.height()>T.clientHeight||"scroll"==w.css("overflow-y"),G="padding"+(N.bScrollbarLeft?"Left":"Right");_[G]=q?S+"px":"0px",H&&(F[0].style.width=Ct(X),A[0].style.width=Ct(X),A[0].style[G]=q?S+"px":"0px"),P.children("colgroup").insertBefore(P.children("thead")),w.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(T.scrollTop=0)}function vt(t,e,n){for(var a,r,o=0,i=0,s=e.length;i<s;){for(a=e[i].firstChild,r=n?n[i].firstChild:null;a;)1===a.nodeType&&(n?t(a,r,o):t(a,o),o++),a=a.nextSibling,r=n?r.nextSibling:null;i++}}function St(n){var a,r,o,i=n.nTable,s=n.aoColumns,l=n.oScroll,u=l.sY,c=l.sX,f=l.sXInner,d=s.length,g=v(n,"bVisible"),S=t("th",n.nTHead),m=i.getAttribute("width"),D=i.parentNode,y=!1,_=n.oBrowser,C=_.bScrollOversize,T=i.style.width;for(T&&T.indexOf("%")!==-1&&(m=T),a=0;a<g.length;a++)r=s[g[a]],null!==r.sWidth&&(r.sWidth=Dt(r.sWidthOrig,D),y=!0);if(C||!y&&!c&&!u&&d==b(n)&&d==S.length)for(a=0;a<d;a++){var w=p(n,a);null!==w&&(s[w].sWidth=Ct(S.eq(a).width()))}else{var x=t(i).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var I=t("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),S=E(n,x.find("thead")[0]),a=0;a<g.length;a++)r=s[g[a]],S[a].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?Ct(r.sWidthOrig):"",r.sWidthOrig&&c&&t(S[a]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(a=0;a<g.length;a++)o=g[a],r=s[o],t(yt(n,o)).clone(!1).append(r.sContentPadding).appendTo(I);t("[name]",x).removeAttr("name");var A=t("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(D);c&&f?x.width(f):c?(x.css("width","auto"),x.removeAttr("width"),x.width()<D.clientWidth&&m&&x.width(D.clientWidth)):u?x.width(D.clientWidth):m&&x.width(m);var F=0;for(a=0;a<g.length;a++){var L=t(S[a]),P=L.outerWidth()-L.width(),R=_.bBounding?Math.ceil(S[a].getBoundingClientRect().width):L.outerWidth();F+=R,s[g[a]].sWidth=Ct(R-P)}i.style.width=Ct(F),A.remove()}if(m&&(i.style.width=Ct(m)),(m||c)&&!n._reszEvt){var j=function(){t(e).bind("resize.DT-"+n.sInstance,mt(function(){h(n)}))};C?setTimeout(j,1e3):j(),n._reszEvt=!0}}function mt(t,e){var n,r,o=e!==a?e:200;return function(){var e=this,i=+new Date,s=arguments;n&&i<n+o?(clearTimeout(r),r=setTimeout(function(){n=a,t.apply(e,s)},o)):(n=i,t.apply(e,s))}}function Dt(e,a){if(!e)return 0;var r=t("<div/>").css("width",Ct(e)).appendTo(a||n.body),o=r[0].offsetWidth;return r.remove(),o}function yt(e,n){var a=_t(e,n);if(a<0)return null;var r=e.aoData[a];return r.nTr?r.anCells[n]:t("<td/>").html(T(e,a,n,"display"))[0]}function _t(t,e){for(var n,a=-1,r=-1,o=0,i=t.aoData.length;o<i;o++)n=T(t,o,e,"display")+"",n=n.replace(ye,""),n=n.replace(/&nbsp;/g," "),n.length>a&&(a=n.length,r=o);return r}function Ct(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Tt(e){var n,r,o,i,s,l,u,c=[],f=e.aoColumns,d=e.aaSortingFixed,h=t.isPlainObject(d),p=[],g=function(e){e.length&&!t.isArray(e[0])?p.push(e):t.merge(p,e)};for(t.isArray(d)&&g(d),h&&d.pre&&g(d.pre),g(e.aaSorting),h&&d.post&&g(d.post),n=0;n<p.length;n++)for(u=p[n][0],i=f[u].aDataSort,r=0,o=i.length;r<o;r++)s=i[r],l=f[s].sType||"string",p[n]._idx===a&&(p[n]._idx=t.inArray(p[n][1],f[s].asSorting)),c.push({src:u,col:s,dir:p[n][1],index:p[n]._idx,type:l,formatter:qt.ext.type.order[l+"-pre"]});return c}function wt(t){var e,n,a,r,o,i=[],s=qt.ext.type.order,l=t.aoData,u=(t.aoColumns,0),c=t.aiDisplayMaster;for(S(t),o=Tt(t),e=0,n=o.length;e<n;e++)r=o[e],r.formatter&&u++,Lt(t,r.col);if("ssp"!=Et(t)&&0!==o.length){for(e=0,a=c.length;e<a;e++)i[c[e]]=e;
u===o.length?c.sort(function(t,e){var n,a,r,s,u,c=o.length,f=l[t]._aSortData,d=l[e]._aSortData;for(r=0;r<c;r++)if(u=o[r],n=f[u.col],a=d[u.col],s=n<a?-1:n>a?1:0,0!==s)return"asc"===u.dir?s:-s;return n=i[t],a=i[e],n<a?-1:n>a?1:0}):c.sort(function(t,e){var n,a,r,u,c,f,d=o.length,h=l[t]._aSortData,p=l[e]._aSortData;for(r=0;r<d;r++)if(c=o[r],n=h[c.col],a=p[c.col],f=s[c.type+"-"+c.dir]||s["string-"+c.dir],u=f(n,a),0!==u)return u;return n=i[t],a=i[e],n<a?-1:n>a?1:0})}t.bSorted=!0}function xt(t){for(var e,n,a=t.aoColumns,r=Tt(t),o=t.oLanguage.oAria,i=0,s=a.length;i<s;i++){var l=a[i],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),f=l.nTh;f.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==i?(f.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=u[r[0].index+1]||u[0]):n=u[0],e=c+("asc"===n?o.sSortAscending:o.sSortDescending)):e=c,f.setAttribute("aria-label",e)}}function It(e,n,r,o){var i,s=e.aoColumns[n],l=e.aaSorting,u=s.asSorting,c=function(e,n){var r=e._idx;return r===a&&(r=t.inArray(e[1],u)),r+1<u.length?r+1:n?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var f=t.inArray(n,ce(l,"0"));f!==-1?(i=c(l[f],!0),null===i&&1===l.length&&(i=0),null===i?l.splice(f,1):(l[f][1]=u[i],l[f]._idx=i)):(l.push([n,u[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(i=c(l[0]),l.length=1,l[0][1]=u[i],l[0]._idx=i):(l.length=0,l.push([n,u[0]]),l[0]._idx=0);W(e),"function"==typeof o&&o(e)}function At(t,e,n,a){var r=t.aoColumns[n];kt(e,{},function(e){r.bSortable!==!1&&(t.oFeatures.bProcessing?(pt(t,!0),setTimeout(function(){It(t,n,e.shiftKey,a),"ssp"!==Et(t)&&pt(t,!1)},0)):It(t,n,e.shiftKey,a))})}function Ft(e){var n,a,r,o=e.aLastSort,i=e.oClasses.sSortColumn,s=Tt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,a=o.length;n<a;n++)r=o[n].src,t(ce(e.aoData,"anCells",r)).removeClass(i+(n<2?n+1:3));for(n=0,a=s.length;n<a;n++)r=s[n].src,t(ce(e.aoData,"anCells",r)).addClass(i+(n<2?n+1:3))}e.aLastSort=s}function Lt(t,e){var n,a=t.aoColumns[e],r=qt.ext.order[a.sSortDataType];r&&(n=r.call(t.oInstance,t,e,g(t,e)));for(var o,i,s=qt.ext.type.order[a.sType+"-pre"],l=0,u=t.aoData.length;l<u;l++)o=t.aoData[l],o._aSortData||(o._aSortData=[]),o._aSortData[e]&&!r||(i=r?n[l]:T(t,l,e,"sort"),o._aSortData[e]=s?s(i):i)}function Pt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:nt(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:nt(e.aoPreSearchCols[n])}})};Wt(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function Rt(e,n){var r,o,i=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time){var l=Wt(e,"aoStateLoadParams","stateLoadParams",[e,s]);if(t.inArray(!1,l)===-1){var u=e.iStateDuration;if(!(u>0&&s.time<+new Date-1e3*u)&&i.length===s.columns.length){for(e.oLoadedState=t.extend(!0,{},s),s.start!==a&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==a&&(e._iDisplayLength=s.length),s.order!==a&&(e.aaSorting=[],t.each(s.order,function(t,n){e.aaSorting.push(n[0]>=i.length?[0,n[1]]:n)})),s.search!==a&&t.extend(e.oPreviousSearch,at(s.search)),r=0,o=s.columns.length;r<o;r++){var c=s.columns[r];c.visible!==a&&(i[r].bVisible=c.visible),c.search!==a&&t.extend(e.aoPreSearchCols[r],at(c.search))}Wt(e,"aoStateLoaded","stateLoaded",[e,s])}}}}}function jt(e){var n=qt.settings,a=t.inArray(e,ce(n,"nTable"));return a!==-1?n[a]:null}function Ht(t,n,a,r){if(a="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+a,r&&(a+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(a);else{var o=qt.ext,i=o.sErrMode||o.errMode;if(t&&Wt(t,null,"error",[t,r,a]),"alert"==i)alert(a);else{if("throw"==i)throw new Error(a);"function"==typeof i&&i(t,r,a)}}}function Nt(e,n,r,o){return t.isArray(r)?void t.each(r,function(a,r){t.isArray(r)?Nt(e,n,r[0],r[1]):Nt(e,n,r)}):(o===a&&(o=r),void(n[r]!==a&&(e[o]=n[r])))}function Ot(e,n,a){var r;for(var o in n)n.hasOwnProperty(o)&&(r=n[o],t.isPlainObject(r)?(t.isPlainObject(e[o])||(e[o]={}),t.extend(!0,e[o],r)):a&&"data"!==o&&"aaData"!==o&&t.isArray(r)?e[o]=r.slice():e[o]=r);return e}function kt(e,n,a){t(e).bind("click.DT",n,function(t){e.blur(),a(t)}).bind("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),a(t))}).bind("selectstart.DT",function(){return!1})}function Mt(t,e,n,a){n&&t[e].push({fn:n,sName:a})}function Wt(e,n,a,r){var o=[];if(n&&(o=t.map(e[n].slice().reverse(),function(t,n){return t.fn.apply(e.oInstance,r)})),null!==a){var i=t.Event(a+".dt");t(e.nTable).trigger(i,r),o.push(i.result)}return o}function Ut(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),a=t._iDisplayLength;e>=n&&(e=n-a),e-=e%a,(a===-1||e<0)&&(e=0),t._iDisplayStart=e}function Bt(e,n){var a=e.renderer,r=qt.ext.renderer[n];return t.isPlainObject(a)&&a[n]?r[a[n]]||r._:"string"==typeof a?r[a]||r._:r._}function Et(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Jt(t,e){var n=[],a=Ve.numbers_length,r=Math.floor(a/2);return e<=a?n=de(0,e):t<=r?(n=de(0,a-2),n.push("ellipsis"),n.push(e-1)):t>=e-1-r?(n=de(e-(a-2),e),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=de(t-r+2,t+r-1),n.push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Vt(e){t.each({num:function(t){return Xe(t,e)},"num-fmt":function(t){return Xe(t,e,ae)},"html-num":function(t){return Xe(t,e,Kt)},"html-num-fmt":function(t){return Xe(t,e,Kt,ae)}},function(t,n){Gt.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Gt.type.search[t+e]=Gt.type.search.html)})}function Xt(t){return function(){var e=[jt(this[qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qt.ext.internal[t].apply(this,e)}}var qt,Gt,$t,zt,Yt,Zt={},Qt=/[\r\n]/g,Kt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ne=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ae=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,re=function(t){return!t||t===!0||"-"===t},oe=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ie=function(t,e){return Zt[e]||(Zt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Zt[e],"."):t},se=function(t,e,n){var a="string"==typeof t;return!!re(t)||(e&&a&&(t=ie(t,e)),n&&a&&(t=t.replace(ae,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return re(t)||"string"==typeof t},ue=function(t,e,n){if(re(t))return!0;var a=le(t);return a?!!se(pe(t),e,n)||null:null},ce=function(t,e,n){var r=[],o=0,i=t.length;if(n!==a)for(;o<i;o++)t[o]&&t[o][e]&&r.push(t[o][e][n]);else for(;o<i;o++)t[o]&&r.push(t[o][e]);return r},fe=function(t,e,n,r){var o=[],i=0,s=e.length;if(r!==a)for(;i<s;i++)t[e[i]][n]&&o.push(t[e[i]][n][r]);else for(;i<s;i++)o.push(t[e[i]][n]);return o},de=function(t,e){var n,r=[];e===a?(e=0,n=t):(n=e,e=t);for(var o=e;o<n;o++)r.push(o);return r},he=function(t){for(var e=[],n=0,a=t.length;n<a;n++)t[n]&&e.push(t[n]);return e},pe=function(t){return t.replace(Kt,"")},ge=function(t){var e,n,a,r=[],o=t.length,i=0;t:for(n=0;n<o;n++){for(e=t[n],a=0;a<i;a++)if(r[a]===e)continue t;r.push(e),i++}return r},be=function(t,e,n){t[e]!==a&&(t[n]=t[e])},ve=/\[.*?\]$/,Se=/\(\)$/,me=t("<div>")[0],De=me.textContent!==a,ye=/<.*?>/g;qt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new $t(t?jt(this[Gt.iApiIndex]):this)},this.fnAddData=function(e,n){var r=this.api(!0),o=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(n===a||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;t===a||t?e.draw(!1):""===r.sX&&""===r.sY||bt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===a||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),o=r.rows(t),i=o.settings()[0],s=i.aoData[o[0][0]];return o.remove(),e&&e.call(this,i,s),(n===a||n)&&r.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,o,i){var s=this.api(!0);null===e||e===a?s.search(t,n,r,i):s.column(e).search(t,n,r,i),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==a){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==a||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==a?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var a=e.cell(t).index();return[a.row,a.columnVisible,a.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===a||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var r=this.api(!0).column(t).visible(e);(n===a||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return jt(this[Gt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,o){var i=this.api(!0);return n===a||null===n?i.row(e).data(t):i.cell(e,n).data(t),(o===a||o)&&i.columns.adjust(),(r===a||r)&&i.draw(),0},this.fnVersionCheck=Gt.fnVersionCheck;var n=this,r=e===a,c=this.length;r&&(e={}),this.oApi=this.internal=Gt.internal;for(var h in qt.ext.internal)h&&(this[h]=Xt(h));return this.each(function(){var h,p={},g=c>1?Ot(p,e,!0):e,b=0,v=this.getAttribute("id"),S=!1,_=qt.defaults,C=t(this);if("table"!=this.nodeName.toLowerCase())return void Ht(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(_),l(_.column),o(_,_,!0),o(_.column,_.column,!0),o(_,t.extend(g,C.data()));var T=qt.settings;for(b=0,h=T.length;b<h;b++){var w=T[b];if(w.nTable==this||w.nTHead.parentNode==this||w.nTFoot&&w.nTFoot.parentNode==this){var x=g.bRetrieve!==a?g.bRetrieve:_.bRetrieve,A=g.bDestroy!==a?g.bDestroy:_.bDestroy;if(r||x)return w.oInstance;if(A){w.oInstance.fnDestroy();break}return void Ht(w,0,"Cannot reinitialise DataTable",3)}if(w.sTableId==this.id){T.splice(b,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+qt.ext._unique++,this.id=v);var F=t.extend(!0,{},qt.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});F.nTable=this,F.oApi=n.internal,F.oInit=g,T.push(F),F.oInstance=1===n.length?n:C.dataTable(),s(g),g.oLanguage&&i(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Ot(t.extend(!0,{},_),g),Nt(F.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Nt(F,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Nt(F.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(F.oLanguage,g,"fnInfoCallback"),Mt(F,"aoDrawCallback",g.fnDrawCallback,"user"),Mt(F,"aoServerParams",g.fnServerParams,"user"),Mt(F,"aoStateSaveParams",g.fnStateSaveParams,"user"),Mt(F,"aoStateLoadParams",g.fnStateLoadParams,"user"),Mt(F,"aoStateLoaded",g.fnStateLoaded,"user"),Mt(F,"aoRowCallback",g.fnRowCallback,"user"),Mt(F,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Mt(F,"aoHeaderCallback",g.fnHeaderCallback,"user"),Mt(F,"aoFooterCallback",g.fnFooterCallback,"user"),Mt(F,"aoInitComplete",g.fnInitComplete,"user"),Mt(F,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),F.rowIdFn=I(g.rowId),u(F);var L=F.oClasses;if(g.bJQueryUI?(t.extend(L,qt.ext.oJUIClasses,g.oClasses),g.sDom===_.sDom&&"lfrtip"===_.sDom&&(F.sDom='<"H"lfr>t<"F"ip>'),F.renderer?t.isPlainObject(F.renderer)&&!F.renderer.header&&(F.renderer.header="jqueryui"):F.renderer="jqueryui"):t.extend(L,qt.ext.classes,g.oClasses),C.addClass(L.sTable),F.iInitDisplayStart===a&&(F.iInitDisplayStart=g.iDisplayStart,F._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){F.bDeferLoading=!0;var P=t.isArray(g.iDeferLoading);F._iRecordsDisplay=P?g.iDeferLoading[0]:g.iDeferLoading,F._iRecordsTotal=P?g.iDeferLoading[1]:g.iDeferLoading}var R=F.oLanguage;t.extend(!0,R,g.oLanguage),""!==R.sUrl&&(t.ajax({dataType:"json",url:R.sUrl,success:function(e){i(e),o(_.oLanguage,e),t.extend(!0,R,e),st(F)},error:function(){st(F)}}),S=!0),null===g.asStripeClasses&&(F.asStripeClasses=[L.sStripeOdd,L.sStripeEven]);var j=F.asStripeClasses,H=C.children("tbody").find("tr").eq(0);t.inArray(!0,t.map(j,function(t,e){return H.hasClass(t)}))!==-1&&(t("tbody tr",this).removeClass(j.join(" ")),F.asDestroyStripes=j.slice());var N,O=[],k=this.getElementsByTagName("thead");if(0!==k.length&&(B(F.aoHeader,k[0]),O=E(F)),null===g.aoColumns)for(N=[],b=0,h=O.length;b<h;b++)N.push(null);else N=g.aoColumns;for(b=0,h=N.length;b<h;b++)f(F,O?O[b]:null);if(m(F,g.aoColumnDefs,N,function(t,e){d(F,t,e)}),H.length){var M=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(H[0]).children("th, td").each(function(t,e){var n=F.aoColumns[t];if(n.mData===t){var r=M(e,"sort")||M(e,"order"),o=M(e,"filter")||M(e,"search");null===r&&null===o||(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:a,type:null!==r?t+".@data-"+r:a,filter:null!==o?t+".@data-"+o:a},d(F,t))}})}var W=F.oFeatures;if(g.bStateSave&&(W.bStateSave=!0,Rt(F,g),Mt(F,"aoDrawCallback",Pt,"state_save")),g.aaSorting===a){var U=F.aaSorting;for(b=0,h=U.length;b<h;b++)U[b][1]=F.aoColumns[b].asSorting[0]}Ft(F),W.bSort&&Mt(F,"aoDrawCallback",function(){if(F.bSorted){var e=Tt(F),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Wt(F,null,"order",[F,e,n]),xt(F)}}),Mt(F,"aoDrawCallback",function(){(F.bSorted||"ssp"===Et(F)||W.bDeferRender)&&Ft(F)},"sc");var J=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),V=C.children("thead");0===V.length&&(V=t("<thead/>").appendTo(this)),F.nTHead=V[0];var X=C.children("tbody");0===X.length&&(X=t("<tbody/>").appendTo(this)),F.nTBody=X[0];var q=C.children("tfoot");if(0===q.length&&J.length>0&&(""!==F.oScroll.sX||""!==F.oScroll.sY)&&(q=t("<tfoot/>").appendTo(this)),0===q.length||0===q.children().length?C.addClass(L.sNoFooter):q.length>0&&(F.nTFoot=q[0],B(F.aoFooter,F.nTFoot)),g.aaData)for(b=0;b<g.aaData.length;b++)D(F,g.aaData[b]);else(F.bDeferLoading||"dom"==Et(F))&&y(F,t(F.nTBody).children("tr"));F.aiDisplay=F.aiDisplayMaster.slice(),F.bInitialised=!0,S===!1&&st(F)}),n=null,this};var _e=[],Ce=Array.prototype,Te=function(e){var n,a,r=qt.settings,o=t.map(r,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(n=t.inArray(e,o),n!==-1?[r[n]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?a=t(e):e instanceof t&&(a=e),a?a.map(function(e){return n=t.inArray(this,o),n!==-1?r[n]:null}).toArray():void 0):[]};$t=function(e,n){if(!(this instanceof $t))return new $t(e,n);var a=[],r=function(t){var e=Te(t);e&&(a=a.concat(e))};if(t.isArray(e))for(var o=0,i=e.length;o<i;o++)r(e[o]);else r(e);this.context=ge(a),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},$t.extend(this,this,_e)},qt.Api=$t,t.extend($t.prototype,{any:function(){return 0!==this.count()},concat:Ce.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new $t(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new $t(this.context,e)},flatten:function(){var t=[];return new $t(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var n=e||0,a=this.length;n<a;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,r){var o,i,s,l,u,c,f,d,h=[],p=this.context,g=this.selector;for("string"==typeof t&&(r=n,n=e,e=t,t=!1),i=0,s=p.length;i<s;i++){var b=new $t(p[i]);if("table"===e)o=n.call(b,p[i],i),o!==a&&h.push(o);else if("columns"===e||"rows"===e)o=n.call(b,p[i],this[i],i),o!==a&&h.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(f=this[i],"column-rows"===e&&(c=Le(p[i],g.opts)),l=0,u=f.length;l<u;l++)d=f[l],o="cell"===e?n.call(b,p[i],d.row,d.column,i,l):n.call(b,p[i],d,i,l,c),o!==a&&h.push(o)}if(h.length||r){var v=new $t(p,t?h.concat.apply([],h):h),S=v.selector;return S.rows=g.rows,S.cols=g.cols,S.opts=g.opts,v}return this},lastIndexOf:Ce.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)e.push(t.call(this,this[n],n));return new $t(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new $t(this.context,ge(this))},unshift:Ce.unshift}),$t.extend=function(e,n,a){if(a.length&&n&&(n instanceof $t||n.__dt_wrapper)){var r,o,i,s=function(t,e,n){return function(){var a=e.apply(t,arguments);return $t.extend(a,a,n.methodExt),a}};for(r=0,o=a.length;r<o;r++)i=a[r],n[i.name]="function"==typeof i.val?s(e,i.val,i):t.isPlainObject(i.val)?{}:i.val,n[i.name].__dt_wrapper=!0,$t.extend(e,n[i.name],i.propExt)}},$t.register=zt=function(e,n){if(t.isArray(e))for(var a=0,r=e.length;a<r;a++)$t.register(e[a],n);else{var o,i,s,l,u=e.split("."),c=_e,f=function(t,e){for(var n=0,a=t.length;n<a;n++)if(t[n].name===e)return t[n];return null};for(o=0,i=u.length;o<i;o++){l=u[o].indexOf("()")!==-1,s=l?u[o].replace("()",""):u[o];var d=f(c,s);d||(d={name:s,val:{},methodExt:[],propExt:[]},c.push(d)),o===i-1?d.val=n:c=l?d.methodExt:d.propExt}}},$t.registerPlural=Yt=function(e,n,r){$t.register(e,r),$t.register(n,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof $t?e.length?t.isArray(e[0])?new $t(e.context,e[0]):e[0]:a:e})};var we=function(e,n){if("number"==typeof e)return[n[e]];var a=t.map(n,function(t,e){return t.nTable});return t(a).filter(e).map(function(e){var r=t.inArray(this,a);return n[r]}).toArray()};zt("tables()",function(t){return t?new $t(we(t,this.context)):this}),zt("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new $t(n[0]):e}),Yt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Yt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Yt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Yt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Yt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),zt("draw()",function(t){return this.iterator("table",function(e){"page"===t?M(e):("string"==typeof t&&(t="full-hold"!==t),W(e,t===!1))})}),zt("page()",function(t){return t===a?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),zt("page.info()",function(t){if(0===this.context.length)return a;var e=this.context[0],n=e._iDisplayStart,r=e.oFeatures.bPaginate?e._iDisplayLength:-1,o=e.fnRecordsDisplay(),i=r===-1;return{page:i?0:Math.floor(n/r),pages:i?1:Math.ceil(o/r),start:n,end:e.fnDisplayEnd(),length:r,recordsTotal:e.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Et(e)}}),zt("page.len()",function(t){return t===a?0!==this.context.length?this.context[0]._iDisplayLength:a:this.iterator("table",function(e){ut(e,t)})});var xe=function(t,e,n){if(n){var a=new $t(t);a.one("draw",function(){n(a.ajax.json())})}if("ssp"==Et(t))W(t,e);else{pt(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),J(t,[],function(n){L(t);for(var a=G(t,n),r=0,o=a.length;r<o;r++)D(t,a[r]);W(t,e),pt(t,!1)})}};zt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),zt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),zt("ajax.reload()",function(t,e){return this.iterator("table",function(n){xe(n,e===!1,t)})}),zt("ajax.url()",function(e){var n=this.context;return e===a?0===n.length?a:(n=n[0],n.ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),zt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){xe(n,e===!1,t)})});var Ie=function(e,n,r,o,i){var s,l,u,c,f,d,h=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==a||(n=[n]),u=0,c=n.length;u<c;u++)for(l=n[u]&&n[u].split?n[u].split(","):[n[u]],f=0,d=l.length;f<d;f++)s=r("string"==typeof l[f]?t.trim(l[f]):l[f]),s&&s.length&&(h=h.concat(s));var g=Gt.selector[e];if(g.length)for(u=0,c=g.length;u<c;u++)h=g[u](o,i,h);return ge(h)},Ae=function(e){return e||(e={}),e.filter&&e.search===a&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Fe=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Le=function(e,n){var a,r,o,i=[],s=e.aiDisplay,l=e.aiDisplayMaster,u=n.search,c=n.order,f=n.page;if("ssp"==Et(e))return"removed"===u?[]:de(0,l.length);if("current"==f)for(a=e._iDisplayStart,r=e.fnDisplayEnd();a<r;a++)i.push(s[a]);else if("current"==c||"applied"==c)i="none"==u?l.slice():"applied"==u?s.slice():t.map(l,function(e,n){return t.inArray(e,s)===-1?e:null});else if("index"==c||"original"==c)for(a=0,r=e.aoData.length;a<r;a++)"none"==u?i.push(a):(o=t.inArray(a,s),(o===-1&&"removed"==u||o>=0&&"applied"==u)&&i.push(a));return i},Pe=function(e,n,r){var o=function(n){var o=oe(n);if(null!==o&&!r)return[o];var i=Le(e,r);if(null!==o&&t.inArray(o,i)!==-1)return[o];if(!n)return i;if("function"==typeof n)return t.map(i,function(t){var a=e.aoData[t];return n(t,a._aData,a.nTr)?t:null});var s=he(fe(e.aoData,i,"nTr"));if(n.nodeName){if(n._DT_RowIndex!==a)return[n._DT_RowIndex];if(n._DT_CellIndex)return[n._DT_CellIndex.row];var l=t(n).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var u=e.aIds[n.replace(/^#/,"")];if(u!==a)return[u.idx]}return t(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Ie("row",n,o,e,r)};zt("rows()",function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=Ae(n);var r=this.iterator("table",function(t){return Pe(t,e,n)},1);return r.selector.rows=e,r.selector.opts=n,r}),zt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||a},1)}),zt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return fe(t.aoData,e,"_aData")},1)}),Yt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var a=e.aoData[n];return"search"===t?a._aFilterData:a._aSortData},1)}),Yt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){R(e,n,t)})}),Yt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Yt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,a=0,r=n.length;a<r;a++)for(var o=0,i=this[a].length;o<i;o++){var s=n[a].rowIdFn(n[a].aoData[this[a][o]]._aData);e.push((t===!0?"#":"")+s)}return new $t(n,e)}),Yt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,r){var o,i,s,l,u,c,f=e.aoData,d=f[n];for(f.splice(n,1),o=0,i=f.length;o<i;o++)if(u=f[o],c=u.anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=o),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=o;P(e.aiDisplayMaster,n),P(e.aiDisplay,n),P(t[r],n,!1),Ut(e);var h=e.rowIdFn(d._aData);h!==a&&delete e.aIds[h]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),zt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,a,r,o=[];for(a=0,r=e.length;a<r;a++)n=e[a],n.nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(y(t,n)[0]):o.push(D(t,n));return o},1),a=this.rows(-1);return a.pop(),t.merge(a,n),a}),zt("row()",function(t,e){return Fe(this.rows(t,e))}),zt("row().data()",function(t){var e=this.context;return t===a?e.length&&this.length?e[0].aoData[this[0]]._aData:a:(e[0].aoData[this[0]]._aData=t,R(e[0],this[0],"data"),this)}),zt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),zt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?y(t,e)[0]:D(t,e)});return this.row(n[0])});var Re=function(e,n,a,r){var o=[],i=function(n,a){if(t.isArray(n)||n instanceof t)for(var r=0,s=n.length;r<s;r++)i(n[r],a);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=t("<tr><td/></tr>").addClass(a);t("td",l).addClass(a).html(n)[0].colSpan=b(e),o.push(l[0])}};i(a,r),n._details&&n._details.remove(),n._details=t(o),n._detailsShow&&n._details.insertAfter(n.nTr)},je=function(t,e){var n=t.context;if(n.length){var r=n[0].aoData[e!==a?e:t[0]];r&&r._details&&(r._details.remove(),r._detailsShow=a,r._details=a)}},He=function(t,e){var n=t.context;if(n.length&&t.length){var a=n[0].aoData[t[0]];a._details&&(a._detailsShow=e,e?a._details.insertAfter(a.nTr):a._details.detach(),Ne(n[0]))}},Ne=function(t){var e=new $t(t),n=".dt.DT_details",a="draw"+n,r="column-visibility"+n,o="destroy"+n,i=t.aoData;e.off(a+" "+r+" "+o),ce(i,"_details").length>0&&(e.on(a,function(n,a){t===a&&e.rows({page:"current"}).eq(0).each(function(t){var e=i[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(r,function(e,n,a,r){if(t===n)for(var o,s=b(n),l=0,u=i.length;l<u;l++)o=i[l],o._details&&o._details.children("td[colspan]").attr("colspan",s)}),e.on(o,function(n,a){if(t===a)for(var r=0,o=i.length;r<o;r++)i[r]._details&&je(e,r)}))},Oe="",ke=Oe+"row().child",Me=ke+"()";zt(Me,function(t,e){var n=this.context;return t===a?n.length&&this.length?n[0].aoData[this[0]]._details:a:(t===!0?this.child.show():t===!1?je(this):n.length&&this.length&&Re(n[0],n[0].aoData[this[0]],t,e),this)}),zt([ke+".show()",Me+".show()"],function(t){return He(this,!0),this}),zt([ke+".hide()",Me+".hide()"],function(){return He(this,!1),this}),zt([ke+".remove()",Me+".remove()"],function(){return je(this),this}),zt(ke+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var We=/^(.+):(name|visIdx|visible)$/,Ue=function(t,e,n,a,r){for(var o=[],i=0,s=r.length;i<s;i++)o.push(T(t,r[i],e));return o},Be=function(e,n,a){var r=e.aoColumns,o=ce(r,"sName"),i=ce(r,"nTh"),s=function(n){var s=oe(n);if(""===n)return de(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof n){var l=Le(e,a);return t.map(r,function(t,a){return n(a,Ue(e,a,0,0,l),i[a])?a:null})}var u="string"==typeof n?n.match(We):"";if(u)switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var f=t.map(r,function(t,e){return t.bVisible?e:null});return[f[f.length+c]]}return[p(e,c)];case"name":return t.map(o,function(t,e){return t===u[1]?e:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var d=t(i).filter(n).map(function(){return t.inArray(this,i)}).toArray();if(d.length||!n.nodeName)return d;var h=t(n).closest("*[data-dt-column]");return h.length?[h.data("dt-column")]:[]};return Ie("column",n,s,e,a)},Ee=function(e,n,r,o){var i,s,l,u,c=e.aoColumns,f=c[n],d=e.aoData;if(r===a)return f.bVisible;if(f.bVisible!==r){if(r){var p=t.inArray(!0,ce(c,"bVisible"),n+1);for(s=0,l=d.length;s<l;s++)u=d[s].nTr,i=d[s].anCells,u&&u.insertBefore(i[n],i[p]||null)}else t(ce(e.aoData,"anCells",n)).detach();f.bVisible=r,k(e,e.aoHeader),k(e,e.aoFooter),(o===a||o)&&h(e),Wt(e,null,"column-visibility",[e,n,r,o]),Pt(e)}};zt("columns()",function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=Ae(n);var r=this.iterator("table",function(t){return Be(t,e,n)},1);return r.selector.cols=e,r.selector.opts=n,r}),Yt("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Yt("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Yt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ue,1)}),Yt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Yt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,a,r,o){return fe(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Yt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,a,r){return fe(t.aoData,r,"anCells",e)},1)}),Yt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(n,r){return t===a?n.aoColumns[r].bVisible:void Ee(n,r,t,e)})}),Yt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?g(e,n):n},1)}),zt("columns.adjust()",function(){return this.iterator("table",function(t){h(t)},1)}),zt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}}),zt("column()",function(t,e){return Fe(this.columns(t,e))});var Je=function(e,n,r){var o,i,s,l,u,c,f,d=e.aoData,h=Le(e,r),p=he(fe(d,h,"anCells")),g=t([].concat.apply([],p)),b=e.aoColumns.length,v=function(n){var r="function"==typeof n;if(null===n||n===a||r){for(i=[],s=0,l=h.length;s<l;s++)for(o=h[s],u=0;u<b;u++)c={row:o,column:u},r?(f=d[o],n(c,T(e,o,u),f.anCells?f.anCells[u]:null)&&i.push(c)):i.push(c);return i}if(t.isPlainObject(n))return[n];var p=g.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(f=t(n).closest("*[data-dt-row]"),f.length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[])};return Ie("cell",n,v,e,r)};zt("cells()",function(e,n,r){if(t.isPlainObject(e)&&(e.row===a?(r=e,e=null):(r=n,n=null)),t.isPlainObject(n)&&(r=n,n=null),null===n||n===a)return this.iterator("table",function(t){return Je(t,e,Ae(r))});var o,i,s,l,u,c=this.columns(n,r),f=this.rows(e,r),d=this.iterator("table",function(t,e){for(o=[],i=0,s=f[e].length;i<s;i++)for(l=0,u=c[e].length;l<u;l++)o.push({row:f[e][i],column:c[e][l]});return o},1);return t.extend(d.selector,{cols:n,rows:e,opts:r}),d}),Yt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var r=t.aoData[e];return r&&r.anCells?r.anCells[n]:a},1)}),zt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return T(t,e,n)},1)}),Yt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",
this.iterator("cell",function(e,n,a){return e.aoData[n][t][a]},1)}),Yt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,a){return T(e,n,a,t)},1)}),Yt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}},1)}),Yt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,a){R(e,n,t,a)})}),zt("cell()",function(t,e,n){return Fe(this.cells(t,e,n))}),zt("cell().data()",function(t){var e=this.context,n=this[0];return t===a?e.length&&n.length?T(e[0],n[0].row,n[0].column):a:(w(e[0],n[0].row,n[0].column,t),R(e[0],n[0].row,"data",n[0].column),this)}),zt("order()",function(e,n){var r=this.context;return e===a?0!==r.length?r[0].aaSorting:a:("number"==typeof e?e=[[e,n]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),zt("order.listener()",function(t,e,n){return this.iterator("table",function(a){At(a,t,e,n)})}),zt("order.fixed()",function(e){if(!e){var n=this.context,r=n.length?n[0].aaSortingFixed:a;return t.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),zt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(a,r){var o=[];t.each(n[r],function(t,n){o.push([n,e])}),a.aaSorting=o})}),zt("search()",function(e,n,r,o){var i=this.context;return e===a?0!==i.length?i[0].oPreviousSearch.sSearch:a:this.iterator("table",function(a){a.oFeatures.bFilter&&z(a,t.extend({},a.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Yt("columns().search()","column().search()",function(e,n,r,o){return this.iterator("column",function(i,s){var l=i.aoPreSearchCols;return e===a?l[s].sSearch:void(i.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),z(i,i.oPreviousSearch,1)))})}),zt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),zt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),zt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),zt("state.save()",function(){return this.iterator("table",function(t){Pt(t)})}),qt.versionCheck=qt.fnVersionCheck=function(t){for(var e,n,a=qt.version.split("."),r=t.split("."),o=0,i=r.length;o<i;o++)if(e=parseInt(a[o],10)||0,n=parseInt(r[o],10)||0,e!==n)return e>n;return!0},qt.isDataTable=qt.fnIsDataTable=function(e){var n=t(e).get(0),a=!1;return t.each(qt.settings,function(e,r){var o=r.nScrollHead?t("table",r.nScrollHead)[0]:null,i=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&i!==n||(a=!0)}),a},qt.tables=qt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var a=t.map(qt.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new $t(a):a},qt.util={throttle:mt,escapeRegex:tt},qt.camelToHungarian=o,zt("$()",function(e,n){var a=this.rows(n).nodes(),r=t(a);return t([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){zt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var a=t(this.tables().nodes());return a[n].apply(a,e),this})}),zt("clear()",function(){return this.iterator("table",function(t){L(t)})}),zt("settings()",function(){return new $t(this.context,this.context)}),zt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),zt("data()",function(){return this.iterator("table",function(t){return ce(t.aoData,"_aData")}).flatten()}),zt("destroy()",function(n){return n=n||!1,this.iterator("table",function(a){var r,o=a.nTableWrapper.parentNode,i=a.oClasses,s=a.nTable,l=a.nTBody,u=a.nTHead,c=a.nTFoot,f=t(s),d=t(l),h=t(a.nTableWrapper),p=t.map(a.aoData,function(t){return t.nTr});a.bDestroying=!0,Wt(a,"aoDestroyCallback","destroy",[a]),n||new $t(a).columns().visible(!0),h.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+a.sInstance),s!=u.parentNode&&(f.children("thead").detach(),f.append(u)),c&&s!=c.parentNode&&(f.children("tfoot").detach(),f.append(c)),a.aaSorting=[],a.aaSortingFixed=[],Ft(a),t(p).removeClass(a.asStripeClasses.join(" ")),t("th, td",u).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),a.bJUI&&(t("th span."+i.sSortIcon+", td span."+i.sSortIcon,u).detach(),t("th, td",u).each(function(){var e=t("div."+i.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),d.children().detach(),d.append(p);var g=n?"remove":"detach";f[g](),h[g](),!n&&o&&(o.insertBefore(s,a.nTableReinsertBefore),f.css("width",a.sDestroyWidth).removeClass(i.sTable),r=a.asDestroyStripes.length,r&&d.children().each(function(e){t(this).addClass(a.asDestroyStripes[e%r])}));var b=t.inArray(a,qt.settings);b!==-1&&qt.settings.splice(b,1)})}),t.each(["column","row","cell"],function(t,e){zt(e+"s().every()",function(t){var n=this.selector.opts,r=this;return this.iterator(e,function(o,i,s,l,u){t.call(r[e](i,"cell"===e?s:n,"cell"===e?n:a),i,s,l,u)})})}),zt("i18n()",function(e,n,r){var o=this.context[0],i=I(e)(o.oLanguage);return i===a&&(i=n),r!==a&&t.isPlainObject(i)&&(i=i[r]!==a?i[r]:i._),i.replace("%d",r)}),qt.version="1.10.11",qt.settings=[],qt.models={},qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(qt.defaults),qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(qt.defaults.column),qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a,oAjaxData:a,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Et(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Et(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,a=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||t===-1?e+a:Math.min(e+t,this._iRecordsDisplay):!o||n>a||t===-1?a:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qt.ext=Gt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qt.version},t.extend(Gt,{afnFiltering:Gt.search,aTypes:Gt.type.detect,ofnSearch:Gt.type.search,oSort:Gt.type.order,afnSortData:Gt.order,aoFeatures:Gt.feature,oApi:Gt.internal,oStdClasses:Gt.classes,oPagination:Gt.pager}),t.extend(qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var n=e+"ui-state-default",a=e+"css_right ui-icon ui-icon-",r=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(qt.ext.oJUIClasses,qt.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:a+"triangle-1-n",sSortJUIDesc:a+"triangle-1-s",sSortJUI:a+"carat-2-n-s",sSortJUIAscAllowed:a+"carat-1-n",sSortJUIDescAllowed:a+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var Ve=qt.ext.pager;t.extend(Ve,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Jt(t,e)]},simple_numbers:function(t,e){return["previous",Jt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Jt(t,e),"next","last"]},_numbers:Jt,numbers_length:7}),t.extend(!0,qt.ext.renderer,{pageButton:{_:function(e,a,r,o,i,s){var l,u,c,f=e.oClasses,d=e.oLanguage.oPaginate,h=e.oLanguage.oAria.paginate||{},p=0,g=function(n,a){var o,c,b,v,S=function(t){dt(e,t.data.action,!0)};for(o=0,c=a.length;o<c;o++)if(v=a[o],t.isArray(v)){var m=t("<"+(v.DT_el||"div")+"/>").appendTo(n);g(m,v)}else{switch(l=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,u=v+(i>0?"":" "+f.sPageButtonDisabled);break;case"previous":l=d.sPrevious,u=v+(i>0?"":" "+f.sPageButtonDisabled);break;case"next":l=d.sNext,u=v+(i<s-1?"":" "+f.sPageButtonDisabled);break;case"last":l=d.sLast,u=v+(i<s-1?"":" "+f.sPageButtonDisabled);break;default:l=v+1,u=i===v?f.sPageButtonActive:""}null!==l&&(b=t("<a>",{class:f.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":h[v],"data-dt-idx":p,tabindex:e.iTabIndex,id:0===r&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(n),kt(b,{action:v},S),p++)}};try{c=t(a).find(n.activeElement).data("dt-idx")}catch(t){}g(t(a).empty(),o),c&&t(a).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(qt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"num"+n:null},function(t,e){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var n=Date.parse(t);return null!==n&&!isNaN(n)||re(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n,!0)?"html-num-fmt"+n:null},function(t,e){return re(t)||"string"==typeof t&&t.indexOf("<")!==-1?"html":null}]),t.extend(qt.ext.type.search,{html:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," ").replace(Kt,""):""},string:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," "):t}});var Xe=function(t,e,n,a){return 0===t||t&&"-"!==t?(e&&(t=ie(t,e)),t.replace&&(n&&(t=t.replace(n,"")),a&&(t=t.replace(a,""))),1*t):-(1/0)};t.extend(Gt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return re(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return re(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Vt(""),t.extend(!0,qt.ext.renderer,{header:{_:function(e,n,a,r){t(e.nTable).on("order.dt.DT",function(t,o,i,s){if(e===o){var l=a.idx;n.removeClass(a.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:a.sSortingClass)}})},jqueryui:function(e,n,a,r){t("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+a.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,o,i,s){if(e===o){var l=a.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:a.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:a.sSortingClassJUI)}})}}});var qe=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return qt.render={number:function(t,e,n,a,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var i=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return qe(o);o=Math.abs(s);var l=parseInt(o,10),u=n?e+(o-l).toFixed(n).substring(2):"";return i+(a||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+u+(r||"")}}},text:function(){return{display:qe}}},t.extend(qt.ext.internal,{_fnExternApiFunc:Xt,_fnBuildAjax:J,_fnAjaxUpdate:V,_fnAjaxParameters:X,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:G,_fnAddColumn:f,_fnColumnOptions:d,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:b,_fnGetColumns:v,_fnColumnTypes:S,_fnApplyColumnDefs:m,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:i,_fnBrowserDetect:u,_fnAddData:D,_fnAddTr:y,_fnNodeToDataIndex:_,_fnNodeToColumnIndex:C,_fnGetCellData:T,_fnSetCellData:w,_fnSplitObjNotation:x,_fnGetObjectDataFn:I,_fnSetObjectDataFn:A,_fnGetDataMaster:F,_fnClearTable:L,_fnDeleteIndex:P,_fnInvalidate:R,_fnGetRowElements:j,_fnCreateTr:H,_fnBuildHead:O,_fnDrawHead:k,_fnDraw:M,_fnReDraw:W,_fnAddOptionsHtml:U,_fnDetectHeader:B,_fnGetUniqueThs:E,_fnFeatureHtmlFilter:$,_fnFilterComplete:z,_fnFilterCustom:Y,_fnFilterColumn:Z,_fnFilter:Q,_fnFilterCreateSearch:K,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:rt,_fnUpdateInfo:ot,_fnInfoMacros:it,_fnInitialise:st,_fnInitComplete:lt,_fnLengthChange:ut,_fnFeatureHtmlLength:ct,_fnFeatureHtmlPaginate:ft,_fnPageChange:dt,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:pt,_fnFeatureHtmlTable:gt,_fnScrollDraw:bt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:St,_fnThrottle:mt,_fnConvertToWidth:Dt,_fnGetWidestNode:yt,_fnGetMaxLenString:_t,_fnStringToCss:Ct,_fnSortFlatten:Tt,_fnSort:wt,_fnSortAria:xt,_fnSortListener:It,_fnSortAttachListener:At,_fnSortingClasses:Ft,_fnSortData:Lt,_fnSaveState:Pt,_fnLoadState:Rt,_fnSettingsFromNode:jt,_fnLog:Ht,_fnMap:Nt,_fnBindAction:kt,_fnCallbackReg:Mt,_fnCallbackFire:Wt,_fnLengthOverflow:Ut,_fnRenderer:Bt,_fnDataSource:Et,_fnRowAttributes:N,_fnCalculateEnd:function(){}}),t.fn.dataTable=qt,qt.$=t,t.fn.dataTableSettings=qt.settings,t.fn.dataTableExt=qt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(qt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable});!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(a){return e(a,window,document)}):"object"==typeof exports?module.exports=function(a,t){return a||(a=window),t&&t.fn.dataTable||(t=require("datatables.net")(a,t).$),e(t,a,a.document)}:e(jQuery,window,document)}(function(e,a,t,n){"use strict";var s=e.fn.dataTable;return e.extend(!0,s.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(s.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),s.ext.renderer.pageButton.bootstrap=function(a,n,i,r,o,d){var l,c,u,p=new s.Api(a),f=a.oClasses,b=a.oLanguage.oPaginate,m=a.oLanguage.oAria.paginate||{},g=0,x=function(t,n){var s,r,u,w,h=function(a){a.preventDefault(),e(a.currentTarget).hasClass("disabled")||p.page()==a.data.action||p.page(a.data.action).draw("page")};for(s=0,r=n.length;s<r;s++)if(w=n[s],e.isArray(w))x(t,w);else{switch(l="",c="",w){case"ellipsis":l="&#x2026;",c="disabled";break;case"first":l=b.sFirst,c=w+(o>0?"":" disabled");break;case"previous":l=b.sPrevious,c=w+(o>0?"":" disabled");break;case"next":l=b.sNext,c=w+(o<d-1?"":" disabled");break;case"last":l=b.sLast,c=w+(o<d-1?"":" disabled");break;default:l=w+1,c=o===w?"active":""}l&&(u=e("<li>",{class:f.sPageButton+" "+c,id:0===i&&"string"==typeof w?a.sTableId+"_"+w:null}).append(e("<a>",{href:"#","aria-controls":a.sTableId,"aria-label":m[w],"data-dt-idx":g,tabindex:a.iTabIndex}).html(l)).appendTo(t),a.oApi._fnBindAction(u,{action:w},h),g++)}};try{u=e(n).find(t.activeElement).data("dt-idx")}catch(e){}x(e(n).empty().html('<ul class="pagination"/>').children("ul"),r),u&&e(n).find("[data-dt-idx="+u+"]").focus()},s});var Twig=function(e){return e.VERSION="0.7.0",e}(Twig||{}),Twig=function(e){"use strict";function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e}function r(t,r){var n,o,s,i="/",p=[];if(t.url)n="undefined"!=typeof t.base?t.base+("/"===t.base.charAt(t.base.length-1)?"":"/"):t.url;else{if(!t.path)throw new e.Error("Cannot extend an inline template.");var a=require("path"),l=a.sep||i,c=new RegExp("^\\.{1,2}"+l.replace("\\","\\\\"));void 0!==t.base&&null==r.match(c)?(r=r.replace(t.base,""),n=t.base+l):n=t.path,n=n.replace(l+l,l),i=l}for(o=n.split(i),o.pop(),o=o.concat(r.split(i));o.length>0;)s=o.shift(),"."==s||(".."==s&&p.length>0&&".."!=p[p.length-1]?p.pop():p.push(s));return p.join(i)}return e.trace=!1,e.debug=!1,e.cache=!0,e.placeholders={parent:"{{|PARENT|}}"},e.indexOf=function(e,t){if(Array.prototype.hasOwnProperty("indexOf"))return e.indexOf(t);if(void 0===e||null===e)throw new TypeError;var r=Object(e),n=r.length>>>0;if(0===n)return-1;var o=0;if(arguments.length>0&&(o=Number(arguments[1]),o!==o?o=0:0!==o&&o!==1/0&&o!==-(1/0)&&(o=(o>0||-1)*Math.floor(Math.abs(o)))),o>=n)return-1;for(var s=o>=0?o:Math.max(n-Math.abs(o),0);s<n;s++)if(s in r&&r[s]===t)return s;return e==t?0:-1},e.forEach=function(e,t,r){if(Array.prototype.forEach)return e.forEach(t,r);var n,o;if(null==e)throw new TypeError(" this is null or not defined");var s=Object(e),i=s.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(r&&(n=r),o=0;o<i;){var p;o in s&&(p=s[o],t.call(n,p,o,s)),o++}},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console&&"undefined"!=typeof console.log?e.log.error=function(){console.log.apply(console,arguments)}:e.log.error=function(){},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var r,n,o,s={position:null,def:null};for(r=0;r<e.token.definitions.length;r++)n=e.token.definitions[r],o=t.indexOf(n.open),e.log.trace("Twig.token.findStart: ","Searching for ",n.open," found at ",o),o>=0&&(null===s.position||o<s.position)&&(s.position=o,s.def=n);return s},e.token.findEnd=function(t,r,n){for(var o,s,i=null,p=!1,a=0,l=null,c=null,u=null,f=null,h=null,y=null;!p;){if(l=null,c=null,u=t.indexOf(r.close,a),!(u>=0))throw new e.Error("Unable to find closing bracket '"+r.close+"' opened near template position "+n);if(i=u,p=!0,r.type===e.token.type.comment)break;for(s=e.token.strings.length,o=0;o<s;o+=1)h=t.indexOf(e.token.strings[o],a),h>0&&h<u&&(null===l||h<l)&&(l=h,c=e.token.strings[o]);if(null!==l)for(f=l+1,i=null,p=!1;;){if(y=t.indexOf(c,f),y<0)throw"Unclosed string in template";if("\\"!==t.substr(y-1,1)){a=y+1;break}f=y+1}}return i},e.tokenize=function(t){for(var r=[],n=0,o=null,s=null;t.length>0;)o=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",o),null!==o.position?(o.position>0&&r.push({type:e.token.type.raw,value:t.substring(0,o.position)}),t=t.substr(o.position+o.def.open.length),n+=o.position+o.def.open.length,s=e.token.findEnd(t,o.def,n),e.log.trace("Twig.tokenize: ","Token ends at ",s),r.push({type:o.def.type,value:t.substring(0,s).trim()}),"logic"===o.def.type&&"\n"===t.substr(s+o.def.close.length,1)&&(s+=1),t=t.substr(s+o.def.close.length),n+=s+o.def.close.length):(r.push({type:e.token.type.raw,value:t}),t="");return r},e.compile=function(t){try{for(var r=[],n=[],o=[],s=null,i=null,p=null,a=null,l=null,c=null,u=null,f=null,h=null;t.length>0;){switch(s=t.shift(),e.log.trace("Compiling token ",s),s.type){case e.token.type.raw:n.length>0?o.push(s):r.push(s);break;case e.token.type.logic:if(i=e.logic.compile.apply(this,[s]),u=i.type,f=e.logic.handler[u].open,h=e.logic.handler[u].next,e.log.trace("Twig.compile: ","Compiled logic token to ",i," next is: ",h," open is : ",f),void 0!==f&&!f){if(a=n.pop(),l=e.logic.handler[a.type],e.indexOf(l.next,u)<0)throw new Error(u+" not expected after a "+a.type);a.output=a.output||[],a.output=a.output.concat(o),o=[],c={type:e.token.type.logic,token:a},n.length>0?o.push(c):r.push(c)}void 0!==h&&h.length>0?(e.log.trace("Twig.compile: ","Pushing ",i," to logic stack."),n.length>0&&(a=n.pop(),a.output=a.output||[],a.output=a.output.concat(o),n.push(a),o=[]),n.push(i)):void 0!==f&&f&&(c={type:e.token.type.logic,token:i},n.length>0?o.push(c):r.push(c));break;case e.token.type.comment:break;case e.token.type.output:e.expression.compile.apply(this,[s]),n.length>0?o.push(s):r.push(s)}e.log.trace("Twig.compile: "," Output: ",r," Logic Stack: ",n," Pending Output: ",o)}if(n.length>0)throw p=n.pop(),new Error("Unable to find an end tag for "+p.type+", expecting one of "+p.next);return r}catch(t){if(e.log.error("Error compiling twig template "+this.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString()),this.options.rethrow)throw t}},e.parse=function(t,r){try{var n=[],o=!0,s=this;return r=r||{},e.forEach(t,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:n.push(t.value);break;case e.token.type.logic:var i=t.token,p=e.logic.parse.apply(s,[i,r,o]);void 0!==p.chain&&(o=p.chain),void 0!==p.context&&(r=p.context),void 0!==p.output&&n.push(p.output);break;case e.token.type.comment:break;case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),n.push(e.expression.parse.apply(s,[t.stack,r]))}}),n.join("")}catch(t){if(e.log.error("Error parsing twig template "+this.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString()),this.options.rethrow)throw t;if(e.debug)return t.toString()}},e.prepare=function(t){var r,n;return e.log.debug("Twig.prepare: ","Tokenizing ",t),n=e.tokenize.apply(this,[t]),e.log.debug("Twig.prepare: ","Compiling ",n),r=e.compile.apply(this,[n]),e.log.debug("Twig.prepare: ","Compiled ",r),r},e.Templates={registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,r,n,o){var s=r.id,i=r.method,p=r.async,a=r.precompiled,l=null;if(void 0===p&&(p=!0),void 0===s&&(s=t),r.id=s,e.cache&&e.Templates.registry.hasOwnProperty(s))return n&&n(e.Templates.registry[s]),e.Templates.registry[s];if("ajax"==i){if("undefined"==typeof XMLHttpRequest)throw new e.Error("Unsupported platform: Unable to do remote requests because there is no XMLHTTPRequest implementation");var c=new XMLHttpRequest;c.onreadystatechange=function(){var s=null;4==c.readyState&&(200==c.status?(e.log.debug("Got template ",c.responseText),s=a===!0?JSON.parse(c.responseText):c.responseText,r.url=t,r.data=s,l=new e.Template(r),n&&n(l)):o&&o(c))},c.open("GET",t,p),c.send()}else!function(){var s=require("fs"),i=(require("path"),null),c=function(s,i){return s?void(o&&o(s)):(a===!0&&(i=JSON.parse(i)),r.data=i,r.path=t,l=new e.Template(r),void(n&&n(l)))};if(p===!0)s.stat(t,function(r,n){if(r||!n.isFile())throw new e.Error("Unable to find template file "+t);s.readFile(t,"utf8",c)});else{if(!s.statSync(t).isFile())throw new e.Error("Unable to find template file "+t);i=s.readFileSync(t,"utf8"),c(void 0,i)}}();return p!==!1||l},e.Template=function(r){var n=r.data,o=r.id,s=r.blocks,i=r.macros||{},p=r.base,a=r.path,l=r.url,c=r.options;this.id=o,this.base=p,this.path=a,this.url=l,this.macros=i,this.options=c,this.reset(s),t("String",n)?this.tokens=e.prepare.apply(this,[n]):this.tokens=n,void 0!==o&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,n){n=n||{};var o,s;if(this.context=t||{},this.reset(),n.blocks&&(this.blocks=n.blocks),n.macros&&(this.macros=n.macros),o=e.parse.apply(this,[this.tokens,this.context]),this.extend){var i;return this.options.allowInlineIncludes&&(i=e.Templates.load(this.extend),i&&(i.options=this.options)),i||(s=r(this,this.extend),i=e.Templates.loadRemote(s,{method:this.url?"ajax":"fs",base:this.base,async:!1,id:s,options:this.options})),this.parent=i,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==n.output?this.blocks:"macros"==n.output?this.macros:o},e.Template.prototype.importFile=function(t){var n,o;if(!this.url&&!this.path&&this.options.allowInlineIncludes){if(o=e.Templates.load(t),o.options=this.options,o)return o;throw new e.Error("Didn't find the inline template by id")}return n=r(this,t),o=e.Templates.loadRemote(n,{method:this.url?"ajax":"fs",base:this.base,async:!1,options:this.options,id:n})},e.Template.prototype.importBlocks=function(t,r){var n=this.importFile(t),o=this.context,s=this;r=r||!1,n.render(o),e.forEach(Object.keys(n.blocks),function(e){(r||void 0===s.blocks[e])&&(s.blocks[e]=n.blocks[e])})},e.Template.prototype.importMacros=function(t){var n=r(this,t),o=e.Templates.loadRemote(n,{method:this.url?"ajax":"fs",async:!1,id:n});return o},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e}(Twig||{});!function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r})}();var Twig=function(e){e.lib={};var t=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,o){var s,i,p,a,l,c,u,f=1,h=n.length,y="",g=[];for(i=0;i<h;i++)if(y=e(n[i]),"string"===y)g.push(n[i]);else if("array"===y){if(a=n[i],a[2])for(s=o[f],p=0;p<a[2].length;p++){if(!s.hasOwnProperty(a[2][p]))throw t('[sprintf] property "%s" does not exist',a[2][p]);s=s[a[2][p]]}else s=a[1]?o[a[1]]:o[f++];if(/[^s]/.test(a[8])&&"number"!=e(s))throw t("[sprintf] expecting number but found %s",e(s));switch(a[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=a[7]?s.toExponential(a[7]):s.toExponential();break;case"f":s=a[7]?parseFloat(s).toFixed(a[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&a[7]?s.substring(0,a[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(a[8])&&a[3]&&s>=0?"+"+s:s,c=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",u=a[6]-String(s).length,l=a[6]?r(c,u):"",g.push(a[5]?s+l:l+s)}return g.join("")},n.cache={},n.parse=function(e){for(var t=e,r=[],n=[],o=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(r[2]){o|=1;var s=[],i=r[2],p=[];if(null===(p=/^([a-z_][a-z_\d]*)/i.exec(i)))throw"[sprintf] huh?";for(s.push(p[1]);""!==(i=i.substring(p[0].length));)if(null!==(p=/^\.([a-z_][a-z_\d]*)/i.exec(i)))s.push(p[1]);else{if(null===(p=/^\[(\d+)\]/.exec(i)))throw"[sprintf] huh?";s.push(p[1])}r[2]=s}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(r)}t=t.substring(r[0].length)}return n},n}(),r=function(e,r){return r.unshift(e),t.apply(null,r)};return e.lib.sprintf=t,e.lib.vsprintf=r,function(){function t(e){return(e=Math.abs(e)%100)%10==1&&11!=e?"st":e%10==2&&12!=e?"nd":e%10==3&&13!=e?"rd":"th"}function r(e){var t=new Date(e.getFullYear()+1,0,4);return(t-e)/864e5<7&&(e.getDay()+6)%7<(t.getDay()+6)%7?t.getFullYear():e.getMonth()>0||e.getDate()>=4?e.getFullYear():e.getFullYear()-((e.getDay()+6)%7-e.getDate()>2?1:0)}function n(e){var t=new Date(r(e),0,4);return t.setDate(t.getDate()-(t.getDay()+6)%7),parseInt((e-t)/6048e5)+1}var o="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),s="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),i="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),p="January,February,March,April,May,June,July,August,September,October,November,December".split(",");e.lib.formatDate=function(e,a){if("string"!=typeof a||/^\s*$/.test(a))return e+"";var l=new Date(e.getFullYear(),0,1),c=e;return a.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisuU]/g,function(e){switch(e){case"d":return("0"+c.getDate()).replace(/^.+(..)$/,"$1");case"D":return o[c.getDay()];case"j":return c.getDate();case"l":return s[c.getDay()];case"N":return(c.getDay()+6)%7+1;case"S":return t(c.getDate());case"w":return c.getDay();case"z":return Math.ceil((l-c)/864e5);case"W":return("0"+n(c)).replace(/^.(..)$/,"$1");case"F":return p[c.getMonth()];case"m":return("0"+(c.getMonth()+1)).replace(/^.+(..)$/,"$1");case"M":return i[c.getMonth()];case"n":return c.getMonth()+1;case"t":return new Date(c.getFullYear(),c.getMonth()+1,-1).getDate();case"L":return 29==new Date(c.getFullYear(),1,29).getDate()?1:0;case"o":return r(c);case"Y":return c.getFullYear();case"y":return(c.getFullYear()+"").replace(/^.+(..)$/,"$1");case"a":return c.getHours()<12?"am":"pm";case"A":return c.getHours()<12?"AM":"PM";case"B":return Math.floor(1e3*((c.getUTCHours()+1)%24+c.getUTCMinutes()/60+c.getUTCSeconds()/3600)/24);case"g":return c.getHours()%12!=0?c.getHours()%12:12;case"G":return c.getHours();case"h":return("0"+(c.getHours()%12!=0?c.getHours()%12:12)).replace(/^.+(..)$/,"$1");case"H":return("0"+c.getHours()).replace(/^.+(..)$/,"$1");case"i":return("0"+c.getMinutes()).replace(/^.+(..)$/,"$1");case"s":return("0"+c.getSeconds()).replace(/^.+(..)$/,"$1");case"u":return c.getMilliseconds();case"U":return c.getTime()/1e3}})}}(),e.lib.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,n=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(n,"").replace(r,function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""})},e.lib.parseISO8601Date=function(e){var t=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/,r=[];if(r=e.match(t),!r)throw"Couldn't parse ISO 8601 date string '"+e+"'";var n=[1,2,3,4,5,6,10,11];for(var o in n)r[n[o]]=parseInt(r[n[o]],10);r[7]=parseFloat(r[7]);var s=Date.UTC(r[1],r[2]-1,r[3],r[4],r[5],r[6]);if(r[7]>0&&(s+=Math.round(1e3*r[7])),"Z"!=r[8]&&r[10]){var i=60*r[10]*60*1e3;r[11]&&(i+=60*r[11]*1e3),"-"==r[9]?s-=i:s+=i}return new Date(s)},e.lib.strtotime=function(t,r){var n,o,s,i,p="";if(t=t.replace(/\s{2,}|^\s|\s$/g," "),t=t.replace(/[\t\r\n]/g,""),"now"===t)return null===r||isNaN(r)?(new Date).getTime()/1e3|0:0|r;if(!isNaN(p=Date.parse(t)))return p/1e3|0;r=r?new Date(1e3*r):new Date;var a=t;t=t.toLowerCase();var l={day:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},mon:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"]},c=function(e){var t=e[2]&&"ago"===e[2],n=(n="last"===e[0]?-1:1)*(t?-1:1);switch(e[0]){case"last":case"next":switch(e[1].substring(0,3)){case"yea":r.setFullYear(r.getFullYear()+n);break;case"wee":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hou":r.setHours(r.getHours()+n);break;case"min":r.setMinutes(r.getMinutes()+n);break;case"sec":r.setSeconds(r.getSeconds()+n);break;case"mon":if("month"===e[1]){r.setMonth(r.getMonth()+n);break}default:var o=l.day[e[1].substring(0,3)];if("undefined"!=typeof o){var s=o-r.getDay();0===s?s=7*n:s>0?"last"===e[0]&&(s-=7):"next"===e[0]&&(s+=7),r.setDate(r.getDate()+s),r.setHours(0,0,0,0)}}break;default:if(!/\d+/.test(e[0]))return!1;switch(n*=parseInt(e[0],10),e[1].substring(0,3)){case"yea":r.setFullYear(r.getFullYear()+n);break;case"mon":r.setMonth(r.getMonth()+n);break;case"wee":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hou":r.setHours(r.getHours()+n);break;case"min":r.setMinutes(r.getMinutes()+n);break;case"sec":r.setSeconds(r.getSeconds()+n)}}return!0};if(s=t.match(/^(\d{2,4}-\d{2}-\d{2})(?:\s(\d{1,2}:\d{2}(:\d{2})?)?(?:\.(\d+))?)?$/),null!==s)return s[2]?s[3]||(s[2]+=":00"):s[2]="00:00:00",i=s[1].split(/-/g),i[1]=l.mon[i[1]-1]||i[1],i[0]=+i[0],i[0]=i[0]>=0&&i[0]<=69?"20"+(i[0]<10?"0"+i[0]:i[0]+""):i[0]>=70&&i[0]<=99?"19"+i[0]:i[0]+"",parseInt(this.strtotime(i[2]+" "+i[1]+" "+i[0]+" "+s[2])+(s[4]?s[4]/1e3:""),10);var u="([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday)|(last|next)\\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday))(\\sago)?";if(s=t.match(new RegExp(u,"gi")),null===s){try{if(num=e.lib.parseISO8601Date(a),num)return num/1e3|0}catch(e){return!1}return!1}for(n=0,o=s.length;n<o;n++)if(!c(s[n].split(" ")))return!1;return r.getTime()/1e3|0},e.lib.is=function(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e},e.lib.copy=function(e){var t,r={};for(t in e)r[t]=e[t];return r},e.lib.replaceAll=function(e,t,r){return e.split(t).join(r)},e}(Twig||{}),Twig=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s+([^\s].+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,n){var o="",s=e.expression.parse.apply(this,[t.stack,r]);return n=!0,s&&(n=!1,o=e.parse.apply(this,[t.output,r])),{chain:n,output:o}}},{type:e.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,n){var o="";return n&&e.expression.parse.apply(this,[t.stack,r])===!0&&(n=!1,o=e.parse.apply(this,[t.output,r])),{chain:n,output:o}}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,r,n){var o="";return n&&(o=e.parse.apply(this,[t.output,r])),{chain:n,output:o}}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var r=t.match[1],n=t.match[2],o=t.match[3],s=null;if(t.key_var=null,t.value_var=null,r.indexOf(",")>=0){if(s=r.split(","),2!==s.length)throw new e.Error("Invalid expression in for loop: "+r);t.key_var=s[0].trim(),t.value_var=s[1].trim()}else t.value_var=r;return t.expression=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,o&&(t.conditional=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:o}]).stack),delete t.match,t},parse:function(t,r,n){var o,s,i=e.expression.parse.apply(this,[t.expression,r]),p=[],a=0,l=this,c=t.conditional,u=function(e,t){var n=void 0!==c;return{index:e+1,index0:e,revindex:n?void 0:t-e,revindex0:n?void 0:t-e-1,first:0===e,last:n?void 0:e===t-1,length:n?void 0:t,parent:r}},f=function(n,s){var i=e.lib.copy(r);i[t.value_var]=s,t.key_var&&(i[t.key_var]=n),i.loop=u(a,o),(void 0===c||e.expression.parse.apply(l,[c,i]))&&(p.push(e.parse.apply(l,[t.output,i])),a+=1)};return i instanceof Array?(o=i.length,e.forEach(i,function(e){var t=a;f(t,e)})):i instanceof Object&&(s=void 0!==i._keys?i._keys:Object.keys(i),o=s.length,e.forEach(s,function(e){"_keys"!==e&&f(e,i[e])})),n=0===p.length,{chain:n,output:p.join("")}}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2],o=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack;return t.key=r,t.expression=o,delete t.match,t},parse:function(t,r,n){var o=e.expression.parse.apply(this,[t.expression,r]),s=t.key;return this.context[s]=o,r[s]=o,{chain:n,context:r}}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,r,n){var o=e.parse.apply(this,[t.output,r]),s=t.key;return this.context[s]=o,r[s]=o,{chain:n,context:r}}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,n){var o=e.parse.apply(this,[t.output,r]),s=[{type:e.expression.type.string,value:o}].concat(t.stack),i=e.expression.parse.apply(this,[s,r]);return{chain:n,output:i}}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,r,n){var o="",s="",i=this.blocks[t.block]&&this.blocks[t.block].indexOf(e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||i)&&(o=e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.parse.apply(this,[t.output,r])},r]),i?this.blocks[t.block]=this.blocks[t.block].replace(e.placeholders.parent,o):this.blocks[t.block]=o),s=this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block],{chain:n,output:s}}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,n){var o=e.expression.parse.apply(this,[t.stack,r]);return this.extend=o,{chain:n,output:""}}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,n){var o=e.expression.parse.apply(this,[t.stack,r]);return this.importBlocks(o),{chain:n,output:""}}},{type:e.logic.type.include,regex:/^include\s+(ignore missing\s+)?(.+?)\s*(?:with\s+(.+?))?\s*(only)?$/,next:[],open:!0,compile:function(t){var r=t.match,n=void 0!==r[1],o=r[2].trim(),s=r[3],i=void 0!==r[4]&&r[4].length;return delete t.match,t.only=i,t.includeMissing=n,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:o}]).stack,void 0!==s&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:s.trim()}]).stack),t},parse:function(t,r,n){var o,s,i,p={};if(!t.only)for(s in r)r.hasOwnProperty(s)&&(p[s]=r[s]);if(void 0!==t.withStack){o=e.expression.parse.apply(this,[t.withStack,r]);for(s in o)o.hasOwnProperty(s)&&(p[s]=o[s])}var a=e.expression.parse.apply(this,[t.stack,p]);return i=this.importFile(a),{chain:n,output:i.render(p)}}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,r,n){var o=e.parse.apply(this,[t.output,r]),s=/>\s+</g,i=o.replace(s,"><").trim();return{chain:n,output:i}}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s?\((([a-zA-Z0-9_]+(,\s?)?)*)\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){for(var r=t.match[1],n=t.match[2].split(/[ ,]+/),o=0;o<n.length;o++)for(var s=0;s<n.length;s++)if(n[o]===n[s]&&o!==s)throw new e.Error("Duplicate arguments for parameter: "+n[o]);return t.macroName=r,t.parameters=n,delete t.match,t},parse:function(t,r,n){var o=this;return this.macros[t.macroName]=function(){for(var r={_self:o.macros},n=0;n<t.parameters.length;n++){var s=t.parameters[n];r[s]=arguments[n]||void 0}return e.parse.apply(o,[t.output,r])},{chain:n,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2].trim();return delete t.match,t.expression=r,t.contextName=n,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,n){if("_self"!==t.expression){var o=e.expression.parse.apply(this,[t.stack,r]),s=this.importMacros(o||t.expression);r[t.contextName]=s.render({},{output:"macros"})}else r[t.contextName]=this.macros;return{chain:n,output:""}}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var r=t.match[1].trim(),n=t.match[2].trim().split(/[ ,]+/),o={},s=0;s<n.length;s++){var i=n[s],p=i.match(/^([a-zA-Z0-9_]+)\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/);p?o[p[1].trim()]=p[2].trim():i.match(/^([a-zA-Z0-9_]+)$/)&&(o[i]=i)}return delete t.match,t.expression=r,t.macroNames=o,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,n){var o;if("_self"!==t.expression){var s=e.expression.parse.apply(this,[t.stack,r]),i=this.importMacros(s||t.expression);o=i.render({},{output:"macros"})}else o=this.macros;for(var p in t.macroNames)o.hasOwnProperty(p)&&(r[t.macroNames[p]]=o[p]);return{chain:n,output:""}}}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);if(e.logic.type[t.type])throw new e.Error("Unable to extend logic definitions. Type "+t.type+" is already defined.");e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var r=t.value.trim(),n=e.logic.tokenize.apply(this,[r]),o=e.logic.handler[n.type];return o.compile&&(n=o.compile.apply(this,[n]),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",n)),n},e.logic.tokenize=function(t){var r={},n=null,o=null,s=null,i=null,p=null,a=null;t=t.trim();for(n in e.logic.handler)if(e.logic.handler.hasOwnProperty(n))for(o=e.logic.handler[n].type,s=e.logic.handler[n].regex,i=[],s instanceof Array?i=s:i.push(s);i.length>0;)if(p=i.shift(),a=p.exec(t.trim()),null!==a)return r.type=o,r.match=a,e.log.trace("Twig.logic.tokenize: ","Matched a ",o," regular expression of ",a),r;throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,r,n){var o,s="";return r=r||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),o=e.logic.handler[t.type],o.parse&&(s=o.parse.apply(this,[t,r,n])),s},e}(Twig||{}),Twig=function(e){"use strict";e.expression={},e.expression.reservedWords=["true","false","null","_context"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets]),e.expression.fn={compile:{push:function(e,t,r){r.push(e)},push_both:function(e,t,r){r.push(e),t.push(e)}},parse:{push:function(e,t,r){t.push(e)},push_value:function(e,t,r){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(t,r,n){var o=r.pop(),s=t.params&&e.expression.parse.apply(this,[t.params,n]),i=e.test(t.filter,o,s);"not"==t.modifier?r.push(!i):r.push(i)}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,r,n){var o,s=r.length-1;for(delete t.match,delete t.value;s>=0;s--){if(o=r.pop(),o.type===e.expression.type.object.start||o.type===e.expression.type.parameter.start||o.type===e.expression.type.array.start){r.push(o);break}n.push(o)}n.push(t)}},{type:e.expression.type.operator.binary,regex:/(^[\+\-~%\?\:]|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^and\s+|^or\s+|^in\s+|^not in\s+|^\.\.)/,next:e.expression.set.expressions.concat([e.expression.type.operator.unary]),compile:function(t,r,n){delete t.match,t.value=t.value.trim();var o=t.value,s=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",s," from ",o);r.length>0&&(r[r.length-1].type==e.expression.type.operator.unary||r[r.length-1].type==e.expression.type.operator.binary)&&(s.associativity===e.expression.operator.leftToRight&&s.precidence>=r[r.length-1].precidence||s.associativity===e.expression.operator.rightToLeft&&s.precidence>r[r.length-1].precidence);){var i=r.pop();n.push(i)}if(":"===o){
if(!r[r.length-1]||"?"!==r[r.length-1].value){var p=n.pop();if(p.type!==e.expression.type.string&&p.type!==e.expression.type.variable&&p.type!==e.expression.type.number)throw new e.Error("Unexpected value before ':' of "+p.type+" = "+p.value);return t.key=p.value,void n.push(t)}}else r.push(s)},parse:function(t,r,n){t.key?r.push(t):e.expression.operator.parse(t.value,r)}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,r,n){delete t.match,t.value=t.value.trim();var o=t.value,s=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",s," from ",o);r.length>0&&(r[r.length-1].type==e.expression.type.operator.unary||r[r.length-1].type==e.expression.type.operator.binary)&&(s.associativity===e.expression.operator.leftToRight&&s.precidence>=r[r.length-1].precidence||s.associativity===e.expression.operator.rightToLeft&&s.precidence>r[r.length-1].precidence);){var i=r.pop();n.push(i)}r.push(s)},parse:function(t,r,n){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2.)*?\1/,next:e.expression.set.operations,compile:function(t,r,n){var o=t.value;delete t.match,o='"'===o.substring(0,1)?o.replace('\\"','"'):o.replace("\\'","'"),t.value=o.substring(1,o.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),n.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,r,n){var o,s=t;for(o=r.pop();r.length>0&&o.type!=e.expression.type.parameter.start;)n.push(o),o=r.pop();for(var i=[];t.type!==e.expression.type.parameter.start;)i.unshift(t),t=n.pop();i.unshift(t);t=n[n.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets&&t.type!==e.expression.type.key.period?(s.expression=!0,i.pop(),i.shift(),s.params=i,n.push(s)):(s.expression=!1,t.params=i)},parse:function(t,r,n){var o=[],s=!1,i=null;if(t.expression)i=e.expression.parse.apply(this,[t.params,n]),r.push(i);else{for(;r.length>0;){if(i=r.pop(),i&&i.type&&i.type==e.expression.type.parameter.start){s=!0;break}o.unshift(i)}if(!s)throw new e.Error("Expected end of parameter set.");r.push(o)}}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,r,n){for(var o,s=r.length-1;s>=0&&(o=r.pop(),o.type!==e.expression.type.array.start);s--)n.push(o);n.push(t)},parse:function(t,r,n){for(var o=[],s=!1,i=null;r.length>0;){if(i=r.pop(),i.type&&i.type==e.expression.type.array.start){s=!0;break}o.unshift(i)}if(!s)throw new e.Error("Expected end of array.");r.push(o)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,r,n){for(var o,s=r.length-1;s>=0&&(o=r.pop(),!o||o.type!==e.expression.type.object.start);s--)n.push(o);n.push(t)},parse:function(t,r,n){for(var o={},s=!1,i=null,p=!1,a=null;r.length>0;){if(i=r.pop(),i&&i.type&&i.type===e.expression.type.object.start){s=!0;break}if(i&&i.type&&(i.type===e.expression.type.operator.binary||i.type===e.expression.type.operator.unary)&&i.key){if(!p)throw new e.Error("Missing value for key '"+i.key+"' in object definition.");o[i.key]=a,void 0===o._keys&&(o._keys=[]),o._keys.unshift(i.key),a=null,p=!1}else p=!0,a=i}if(!s)throw new e.Error("Unexpected end of object.");r.push(o)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.value=e.match[1],r.push(e)},parse:function(t,r,n){var o=r.pop(),s=t.params&&e.expression.parse.apply(this,[t.params,n]);r.push(e.filter.apply(this,[t.value,o,s]))}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,transform:function(e,t){return"("},compile:function(e,t,r){var n=e.match[1];e.fn=n,delete e.match,delete e.value,r.push(e)},parse:function(t,r,n){var o,s=t.params&&e.expression.parse.apply(this,[t.params,n]),i=t.fn;if(e.functions[i])o=e.functions[i].apply(this,s);else{if("function"!=typeof n[i])throw new e.Error(i+" function does not exist and is not defined in the context");o=n[i].apply(n,s)}r.push(o)}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,r){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,r,n){var o=e.expression.resolve(n[t.value],n);r.push(o)}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(t,r,n){var o,s=t.params&&e.expression.parse.apply(this,[t.params,n]),i=t.key,p=r.pop();if(null===p||void 0===p){if(this.options.strict_variables)throw new e.Error("Can't access a key "+i+" on an null or undefined object.");return null}var a=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};o="object"==typeof p&&i in p?p[i]:void 0!==p["get"+a(i)]?p["get"+a(i)]:void 0!==p["is"+a(i)]?p["is"+a(i)]:null,r.push(e.expression.resolve(o,p,s))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,r,n){var o=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:o}).stack,n.push(t)},parse:function(t,r,n){var o,s=t.params&&e.expression.parse.apply(this,[t.params,n]),i=e.expression.parse.apply(this,[t.stack,n]),p=r.pop();if(null===p||void 0===p){if(this.options.strict_variables)throw new e.Error("Can't access a key "+i+" on an null or undefined object.");return null}o="object"==typeof p&&i in p?p[i]:null,r.push(e.expression.resolve(o,p,s))}},{type:e.expression.type._null,regex:/^null/,next:e.expression.set.operations,compile:function(e,t,r){delete e.match,e.value=null,r.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,r){t.push(r)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,r){e.value=Number(e.value),r.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.bool,regex:/^(true|false)/,next:e.expression.set.operations,compile:function(e,t,r){e.value="true"==e.match[0],delete e.match,r.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(e,t,r){return"function"==typeof e?e.apply(t,r||[]):e},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var r,n,o,s,i,p,a=[],l=0,c=null,u=[];for(p=function(){var t=Array.prototype.slice.apply(arguments);t.pop(),t.pop();return e.log.trace("Twig.expression.tokenize","Matched a ",r," regular expression of ",t),c&&e.indexOf(c,r)<0?(u.push(r+" cannot follow a "+a[a.length-1].type+" at template:"+l+" near '"+t[0].substring(0,20)+"...'"),t[0]):e.expression.handler[r].validate&&!e.expression.handler[r].validate(t,a)?t[0]:(u=[],a.push({type:r,value:t[0],match:t}),i=!0,c=s,l+=t[0].length,e.expression.handler[r].transform?e.expression.handler[r].transform(t,a):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(r in e.expression.handler)if(e.expression.handler.hasOwnProperty(r)){for(s=e.expression.handler[r].next,n=e.expression.handler[r].regex,o=n instanceof Array?n:[n],i=!1;o.length>0;)n=o.pop(),t=t.replace(n,p);if(i)break}if(!i)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",a),a},e.expression.compile=function(t){var r=t.value,n=e.expression.tokenize(r),o=null,s=[],i=[],p=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",r);n.length>0;)o=n.shift(),p=e.expression.handler[o.type],e.log.trace("Twig.expression.compile: ","Compiling ",o),p.compile&&p.compile(o,i,s),e.log.trace("Twig.expression.compile: ","Stack is",i),e.log.trace("Twig.expression.compile: ","Output is",s);for(;i.length>0;)s.push(i.pop());return e.log.trace("Twig.expression.compile: ","Final output is",s),t.stack=s,delete t.value,t},e.expression.parse=function(t,r){var n=this;t instanceof Array||(t=[t]);var o=[],s=null;return e.forEach(t,function(t){s=e.expression.handler[t.type],s.parse&&s.parse.apply(n,[t,o,r])}),o.pop()},e}(Twig||{}),Twig=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var r;for(r in t)if(t.hasOwnProperty(r)&&t[r]===e)return!0;return!1};return e.expression.operator.lookup=function(t,r){switch(t){case"..":case"not in":case"in":r.precidence=20,r.associativity=e.expression.operator.leftToRight;break;case",":r.precidence=18,r.associativity=e.expression.operator.leftToRight;break;case"?":case":":r.precidence=16,r.associativity=e.expression.operator.rightToLeft;break;case"or":r.precidence=14,r.associativity=e.expression.operator.leftToRight;break;case"and":r.precidence=13,r.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":r.precidence=6,r.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":r.precidence=5,r.associativity=e.expression.operator.leftToRight;break;case"not":r.precidence=3,r.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error(t+" is an unknown operator.")}return r.operator=t,r},e.expression.operator.parse=function(r,n){e.log.trace("Twig.expression.operator.parse: ","Handling ",r);var o,s,i;switch(r){case":":break;case"?":i=n.pop(),s=n.pop(),o=n.pop(),o?n.push(s):n.push(i);break;case"+":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(o+s);break;case"-":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(o-s);break;case"*":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(o*s);break;case"/":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(o/s);break;case"//":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(parseInt(o/s));break;case"%":s=parseFloat(n.pop()),o=parseFloat(n.pop()),n.push(o%s);break;case"~":s=n.pop(),o=n.pop(),n.push((void 0!==o?o.toString():"")+(void 0!==s?s.toString():""));break;case"not":case"!":n.push(!n.pop());break;case"<":s=n.pop(),o=n.pop(),n.push(o<s);break;case"<=":s=n.pop(),o=n.pop(),n.push(o<=s);break;case">":s=n.pop(),o=n.pop(),n.push(o>s);break;case">=":s=n.pop(),o=n.pop(),n.push(o>=s);break;case"===":s=n.pop(),o=n.pop(),n.push(o===s);break;case"==":s=n.pop(),o=n.pop(),n.push(o==s);break;case"!==":s=n.pop(),o=n.pop(),n.push(o!==s);break;case"!=":s=n.pop(),o=n.pop(),n.push(o!=s);break;case"or":s=n.pop(),o=n.pop(),n.push(o||s);break;case"and":s=n.pop(),o=n.pop(),n.push(o&&s);break;case"**":s=n.pop(),o=n.pop(),n.push(Math.pow(o,s));break;case"not in":s=n.pop(),o=n.pop(),n.push(!t(o,s));break;case"in":s=n.pop(),o=n.pop(),n.push(t(o,s));break;case"..":s=n.pop(),o=n.pop(),n.push(e.functions.range(o,s));break;default:throw new e.Error(r+" is an unknown operator.")}},e}(Twig||{}),Twig=function(e){function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.substr(1)},title:function(e){return"string"!=typeof e?e:e.replace(/(^|\s)([a-z])/g,function(e,t,r){return t+r.toUpperCase()})},length:function(e){return e instanceof Array||"string"==typeof e?e.length:e instanceof Object?void 0===e._keys?Object.keys(e).length:e._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(e instanceof Object){var r=e._keys||Object.keys(e).reverse();return e._keys=r,e}},sort:function(e){if(t("Array",e))return e.sort();if(e instanceof Object){delete e._keys;var r=Object.keys(e),n=r.sort(function(t,r){return e[t]>e[r]});return e._keys=n,e}},keys:function(t){if(void 0!==t&&null!==t){var r=t._keys||Object.keys(t),n=[];return e.forEach(r,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&n.push(e)}),n}},url_encode:function(e){if(void 0!==e&&null!==e)return encodeURIComponent(e)},join:function(t,r){if(void 0!==t&&null!==t){var n="",o=[],s=null;return r&&r[0]&&(n=r[0]),t instanceof Array?o=t:(s=t._keys||Object.keys(t),e.forEach(s,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&o.push(t[e])})),o.join(n)}},default:function(t,r){if(void 0===r||1!==r.length)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?r[0]:t},json_encode:function(e){return e&&e.hasOwnProperty("_keys")&&delete e._keys,void 0===e||null===e?"null":JSON.stringify(e)},merge:function(t,r){var n=[],o=0,s=[];if(t instanceof Array?e.forEach(r,function(e){e instanceof Array||(n={})}):n={},n instanceof Array||(n._keys=[]),t instanceof Array?e.forEach(t,function(e){n._keys&&n._keys.push(o),n[o]=e,o++}):(s=t._keys||Object.keys(t),e.forEach(s,function(e){n[e]=t[e],n._keys.push(e);var r=parseInt(e,10);!isNaN(r)&&r>=o&&(o=r+1)})),e.forEach(r,function(t){t instanceof Array?e.forEach(t,function(e){n._keys&&n._keys.push(o),n[o]=e,o++}):(s=t._keys||Object.keys(t),e.forEach(s,function(e){n[e]||n._keys.push(e),n[e]=t[e];var r=parseInt(e,10);!isNaN(r)&&r>=o&&(o=r+1)}))}),0===r.length)throw new e.Error("Filter merge expects at least one parameter");return n},date:function(t,r){if(void 0!==t&&null!==t){var n=e.functions.date(t);return e.lib.formatDate(n,r[0])}},date_modify:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||1!==r.length)throw new e.Error("date_modify filter expects 1 argument");var n,o=r[0];return e.lib.is("Date",t)&&(n=e.lib.strtotime(o,t.getTime()/1e3)),e.lib.is("String",t)&&(n=e.lib.strtotime(o,e.lib.strtotime(t))),e.lib.is("Number",t)&&(n=e.lib.strtotime(o,t)),new Date(1e3*n)}},replace:function(t,r){if(void 0!==t&&null!==t){var n,o=r[0];for(n in o)o.hasOwnProperty(n)&&"_keys"!==n&&(t=e.lib.replaceAll(t,n,o[n]));return t}},format:function(t,r){if(void 0!==t&&null!==t)return e.lib.vsprintf(t,r)},striptags:function(t){if(void 0!==t&&null!==t)return e.lib.strip_tags(t)},escape:function(e){if(void 0!==e&&null!==e)return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},e:function(t){return e.filters.escape(t)},nl2br:function(t){if(void 0!==t&&null!==t){var r="BACKSLASH_n_replace",n="<br />"+r;return t=e.filters.escape(t).replace(/\r\n/g,n).replace(/\r/g,n).replace(/\n/g,n),e.lib.replaceAll(t,r,"\n")}},number_format:function(e,t){var r=e,n=t&&t[0]?t[0]:void 0,o=t&&void 0!==t[1]?t[1]:".",s=t&&void 0!==t[2]?t[2]:",";r=(r+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+r)?+r:0,p=isFinite(+n)?Math.abs(n):0,a="",l=function(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r};return a=(p?l(i,p):""+Math.round(i)).split("."),a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(a[1]||"").length<p&&(a[1]=a[1]||"",a[1]+=new Array(p-a[1].length+1).join("0")),a.join(o)},trim:function(t,r){if(void 0!==t&&null!==t){var n,o=e.filters.escape(""+t);n=r&&r[0]?""+r[0]:" \n\r\t\f\v\u2028\u2029";for(var s=0;s<o.length;s++)if(n.indexOf(o.charAt(s))===-1){o=o.substring(s);break}for(s=o.length-1;s>=0;s--)if(n.indexOf(o.charAt(s))===-1){o=o.substring(0,s+1);break}return n.indexOf(o.charAt(0))===-1?o:""}},slice:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||r.length<1)throw new e.Error("slice filter expects at least 1 argument");var n=r[0]||0,o=r.length>1?r[1]:t.length,s=n>=0?n:Math.max(t.length+n,0);if(e.lib.is("Array",t)){for(var i=[],p=s;p<s+o&&p<t.length;p++)i.push(t[p]);return i}if(e.lib.is("String",t))return t.substr(s,o);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(void 0!==e&&null!==e)return Math.abs(e)},first:function(e){if(e instanceof Array)return e[0];if(e instanceof Object){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||r.length<1||r.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var n=r[0],o=r[1],s=t.split(n);if(void 0===o)return s;if(o<0)return t.split(n,s.length+o);var i=[];if(""==n)for(;s.length>0;){for(var p="",a=0;a<o&&s.length>0;a++)p+=s.shift();i.push(p)}else{for(var a=0;a<o-1&&s.length>0;a++)i.push(s.shift());s.length>0&&i.push(s.join(n))}return i}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var r;return r=void 0===t._keys?Object.keys(t):t._keys,t[r[r.length-1]]}return t[t.length-1]}},e.filter=function(t,r,n){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].apply(this,[r,n])},e.filter.extend=function(t,r){e.filters[t]=r},e}(Twig||{}),Twig=function(e){return e.functions={range:function(e,t,r){var n,o,s,i=[],p=r||1,a=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,n=e.charCodeAt(0),o=t.charCodeAt(0)):(n=isNaN(e)?0:e,o=isNaN(t)?0:t):(n=parseInt(e,10),o=parseInt(t,10)),s=!(n>o))for(;n<=o;)i.push(a?String.fromCharCode(n):n),n+=p;else for(;n>=o;)i.push(a?String.fromCharCode(n):n),n-=p;return i},cycle:function(e,t){var r=t%e.length;return e[r]},dump:function(){var t="\n",r="  ",n=0,o="",s=Array.prototype.slice.call(arguments),i=function(e){for(var t="";e>0;)e--,t+=r;return t},p=function(e){o+=i(n),"object"==typeof e?a(e):"function"==typeof e?o+="function()"+t:"string"==typeof e?o+="string("+e.length+') "'+e+'"'+t:"number"==typeof e?o+="number("+e+")"+t:"boolean"==typeof e&&(o+="bool("+e+")"+t)},a=function(e){var r;if(null===e)o+="NULL"+t;else if(void 0===e)o+="undefined"+t;else if("object"==typeof e){o+=i(n)+typeof e,n++,o+="("+function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r}(e)+") {"+t;for(r in e)o+=i(n)+"["+r+"]=> "+t,p(e[r]);n--,o+=i(n)+"}"+t}else p(e)};return 0==s.length&&s.push(this.context),e.forEach(s,function(e){a(e)}),o},date:function(t,r){var n;if(void 0===t)n=new Date;else if(e.lib.is("Date",t))n=t;else if(e.lib.is("String",t))n=new Date(1e3*e.lib.strtotime(t));else{if(!e.lib.is("Number",t))throw new e.Error("Unable to parse date "+t);n=new Date(1e3*t)}return n},block:function(e){return this.blocks[e]},parent:function(){return e.placeholders.parent},attribute:function(e,t,r){return e instanceof Object&&e.hasOwnProperty(t)?"function"==typeof e[t]?e[t].apply(void 0,r):e[t]:e[t]||void 0}},e._function=function(t,r,n){if(!e.functions[t])throw"Unable to find function "+t;return e.functions[t](r,n)},e._function.extend=function(t,r){e.functions[t]=r},e}(Twig||{}),Twig=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},sameas:function(e,t){return e===t[0]}},e.test=function(t,r,n){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](r,n)},e.test.extend=function(t,r){e.tests[t]=r},e}(Twig||{}),Twig=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var r=t.id,n={strict_variables:t.strict_variables||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1};if(r&&e.validateId(r),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return new e.Template({data:t.data,module:t.module,id:r,options:n});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:r,method:"ajax",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:r,method:"fs",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,r){var n,o=r.filename,s=r.filename;return n=new e.Template({data:t,path:s,id:o,options:r.settings["twig options"]}),function(e){return n.render(e)}},e.exports.renderFile=function(t,r,n){"function"==typeof r&&(n=r,r={}),r=r||{};var o={path:t,base:r.settings.views,load:function(e){n(null,e.render(r))}},s=r.settings["twig options"];if(s)for(var i in s)s.hasOwnProperty(i)&&(o[i]=s[i]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e}(Twig||{}),Twig=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,r){var n,o=JSON.stringify(t.tokens),s=t.id;if(r.module){if(void 0===e.compiler.module[r.module])throw new e.Error("Unable to find module type "+r.module);n=e.compiler.module[r.module](s,o,r.twig)}else n=e.compiler.wrap(s,o);return n},e.compiler.module={amd:function(t,r,n){return'define(["'+n+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,r)+"\n\treturn templates;\n});"},node:function(t,r){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,r)},cjs2:function(t,r,n){return'module.declare([{ twig: "'+n+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,r)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}(Twig||{});"undefined"!=typeof module&&module.declare?module.declare([],function(e,t,r){for(key in Twig.exports)Twig.exports.hasOwnProperty(key)&&(t[key]=Twig.exports[key])}):"function"==typeof define&&define.amd?define(function(){return Twig.exports}):"undefined"!=typeof module&&module.exports?module.exports=Twig.exports:(window.twig=Twig.exports.twig,window.Twig=Twig.exports);var stage=function(){var e=Array.prototype,t=(function(){e.indexOf||(e.indexOf=function(e,t){for(var r=null==t?0:t<0?Math.max(0,this.length+t):t,n=r;n<this.length;n++)if(n in this&&this[n]===e)return n;return-1})}(),function(e){var t=typeof e;if("object"===t){if(null===e)return"object";if(e instanceof Array||!(e instanceof Object)&&"[object Array]"===Object.prototype.toString.call(e)||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if(!(e instanceof Object||"[object Function]"!==Object.prototype.toString.call(e)&&("undefined"==typeof e.call||"undefined"==typeof e.propertyIsEnumerable||e.propertyIsEnumerable("call"))))return"function";if(1===e.nodeType)return"element";if(9===e.nodeType)return"document";if(e===window)return"window";if(e instanceof Date)return"date";if(e.callee)return"arguments";if(e instanceof SyntaxError)return"SyntaxError";if(e instanceof Error)return"Error"}else if("function"===t&&"undefined"==typeof e.call)return"object";return t}),r=function(){return navigator.userAgent.indexOf("MSIE")>-1?"MSIE":navigator.userAgent.indexOf("Firefox")>-1?"Firefox":navigator.userAgent.indexOf("Chrome")>-1?"Chrome":navigator.userAgent.indexOf("Safari")>-1?"Safari":navigator.userAgent.indexOf("Opera")>-1?"Opera":navigator.userAgent.indexOf("Iceweasel")>-1?"Firefox":"undefined"}(),n=function(){return/MSIE (\d+\.\d+);/.test(navigator.userAgent)?new Number(RegExp.$1):/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?new Number(RegExp.$1):/Chrome[\/\s](\d+\.\d+)/.test(navigator.userAgent)?new Number(RegExp.$1):/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&/Version[\/\s](\d+\.\d+)/.test(navigator.userAgent)?new Number(RegExp.$1):/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&/Version[\/\s](\d+\.\d+)/.test(navigator.userAgent)?new Number(RegExp.$1):/Iceweasel[\/\s](\d+\.\d+)/.test(navigator.userAgent)?new Number(RegExp.$1):"undefined"}(),o=navigator.userAgent.toLowerCase(),i=function(e){this.typeOf=t,this.extend=e.extend,this.crypto={},this.modules={},this.controllers={},this.browser={navigator:r,version:n,Ie:/msie/.test(o)&&!/opera/.test(o),Gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")===-1,Webkit:/webkit/.test(o),Opera:"[object Opera]"==Object.prototype.toString.call(window.opera),platform:navigator.userAgent.match(/ip(?:ad|od|hone)/)?"ios":(navigator.userAgent.match(/(?:webos|android)/)||navigator.platform.toLowerCase().match(/mac|win|linux/)||["other"])[0]}};i.prototype.version="1.0",i.prototype.require=function(){},i.prototype.provide=function(){},i.prototype.register=function(e,t){if("function"==typeof t)var r=t(this,e);else var r=t;return this[e]=r},i.prototype.registerModule=function(e,t){return this.register.call(this.modules,e,t)},i.prototype.registerController=function(e,t){return this.register.call(this.controllers,e,t)},i.prototype.basename=function(e){return e.replace(/\\/g,"/").replace(/.*\//,"")},i.prototype.dirname=function(e){return e.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")};try{jQuery}catch(e){throw new Error("Before kernel loading you should have jQuery registred "+e)}return new i(jQuery)}();stage.register("functions",function(){var t=function(){return!!Function.prototype.bind}(),o=function(){var t=function(){return Array.prototype.unshift?function(t,o){Array.prototype.unshift.apply(t,o)}:function(t,o){for(var r=o.length;r>0;r--)Array.prototype.splice.call(t,0,0,o[r-1])}}();return function(){var o=this,r=Array.prototype.shift.call(arguments),e=arguments;return function(){return t(arguments,e),o.apply(r,arguments)}}}();t||(Function.prototype.bind=o);var r=function(t,o,e){o.__proto__&&r(t,o.__proto__,e);for(var n in o)e[n]||"__proto__"!=n&&("function"==stage.typeOf(o[n])?t[n]=o[n].bind(t):t[n]=o[n])},e=function(t,o,r){o.__proto__&&e(t,o.__proto__,r);for(var n in o)"__proto__"!=n&&"function"==stage.typeOf(o[n])&&"constructor"!=n&&(t[n]=o[n].bind(r))},n=function(){return stage.browser.Ie?function(){if(!arguments[0]||!arguments[1])throw new Error("stage HERITE CLASS NOT DEFINED !!!!");var t=arguments,o=new function(){};o.__proto__=stage.extend({},arguments[0].prototype),o.__proto__.__proto__?o.__proto__.__proto__=stage.extend(o.__proto__.__proto__,arguments[1].prototype):o.__proto__.__proto__=arguments[1].prototype;var n=function(){this.$super={constructor:t[1].prototype.constructor.bind(this)},e(this.$super,t[1].prototype,this);var o={};for(var n in this)"function"==stage.typeOf(this[n])&&(o[n]=!0);r(this,this,o),t[0].prototype.constructor.apply(this,arguments),delete this.$super};return n.prototype=o,n.prototype.constructor=n,n}:function(){if(!arguments[0]||!arguments[1])throw new Error("stage HERITE MOTHER CLASS NOT DEFINED !!!!");var t=arguments,o=new function(){};o.__proto__=stage.extend({},arguments[0].prototype),o.__proto__.__proto__=arguments[1].prototype;var r=function(){this.$super={constructor:t[1].prototype.constructor.bind(this)};for(var o in t[1].prototype.constructor.prototype)t[1].prototype[o]&&"function"==typeof t[1].prototype.constructor.prototype[o]&&"constructor"!=o&&(this.$super[o]=t[1].prototype.constructor.prototype[o].bind(this));t[0].prototype.constructor.apply(this,arguments),delete this.$super};return r.prototype=o,r.prototype.constructor=r,r}}(),p=function(){return stage.browser.Ie?function(t,o,e,n,s){if(e.__proto__=stage.extend({},o[o.length-t].prototype),t>1){t!=o.length&&s.push(o[o.length-t].prototype.constructor);var i=p(t-1,o,e.__proto__,n,s);return i}s.push(o[o.length-t].prototype.constructor);var u=function(){this.$super=[];for(var t in s){this.$super[t]=stage.extend({},s[t].prototype),this.$super[t].constructor=s[t].bind(this);for(var e in this.$super[t])"function"==typeof this.$super[t][e]&&"constructor"!=e&&(this.$super[t][e]=this.$super[t][e].bind(this))}o[0].prototype.constructor.apply(this,arguments);var n={};for(var p in this)"function"==stage.typeOf(this[p])&&(n[p]=!0);r(this,this,n),delete this.$super};return u.prototype=n,u.prototype.constructor=u,u}:function(t,o,r,e,n){if(r.__proto__=stage.extend({},o[o.length-t].prototype),t>1){t!=o.length&&n.push(o[o.length-t].prototype.constructor);var s=p(t-1,o,r.__proto__,e,n);return s}n.push(o[o.length-t].prototype.constructor);var i=function(){this.$super=[];for(var t in n){this.$super[t]=stage.extend({},n[t].prototype),this.$super[t].constructor=n[t].bind(this);for(var r in this.$super[t])"function"==typeof this.$super[t][r]&&"constructor"!=r&&(this.$super[t][r]=this.$super[t][r].bind(this))}o[0].prototype.constructor.apply(this,arguments),delete this.$super};return i.prototype=e,i.prototype.constructor=i,i}}(),s=function(){if(arguments.length>2){var t=new function(){};return p(arguments.length,arguments,t,t,new Array)}return n.apply(this,arguments)};return Function.prototype.herite=function(){return Array.prototype.splice.call(arguments,0,0,this),s.apply(this,arguments)},{herite:s}});stage.provide("notificationsCenter"),stage.register("notificationsCenter",function(){var t=/^on(.*)$/,e=function(t,e){this.events={},this.garbageEvent={},t&&this.settingsToListen(t,e)};return e.prototype.listen=function(t,e,i){var n=arguments[1],s=this;return this.events[e]||(this.events[e]=[],this.garbageEvent[e]=[]),"function"==typeof i&&(this.garbageEvent[e].push(i),this.events[e].push(function(e){i.apply(t,e)})),function(){return Array.prototype.unshift.call(arguments,n),s.fire.apply(s,arguments)}},e.prototype.clearNotifications=function(t){if(t){if(this.events[t]){for(;this.events[t].length>0;)this.events[t].pop(),this.garbageEvent[t].pop();delete this.events[t],delete this.garbageEvent[t]}}else delete this.events,delete this.garbageEvent,this.events={},this.garbageEvent={}},e.prototype.fire=function(t){var e=!0;if(this.events[t])for(var i=Array.prototype.slice.call(arguments,1),n=0;n<this.events[t].length;n++)try{if(e=this.events[t][n](i))break}catch(t){throw new Error(t)}return e},e.prototype.settingsToListen=function(e,i){for(var n in e){var s=t.exec(n);s&&this.listen(i||this,s[0],e[n])}},e.prototype.unListen=function(t,e){if(!this.events[t])return this.clearNotifications();if(!e)return this.clearNotifications(t);for(var i=0;i<this.garbageEvent[t].length;i++)this.garbageEvent[t][i]===e&&(this.events[t].splice(i,1),this.garbageEvent[t].splice(i,1))},{notification:e,create:function(t,i){return new e(t,i)}}});stage.provide("syslog"),stage.register("syslog",function(){var t={moduleName:"SYSLOG",maxStack:100,rateLimit:!1,burstLimit:3,defaultSeverity:"DEBUG",checkConditions:"&&",async:!1},e=["EMERGENCY","ALERT","CRITIC","ERROR","WARNING","NOTICE","INFO","DEBUG"];e.EMERGENCY=0,e.ALERT=1,e.CRITIC=2,e.ERROR=3,e.WARNING=4,e.NOTICE=5,e.INFO=6,e.DEBUG=7;var r=function(){var t=0;return function(r,i,a,n,s,o){this.timeStamp=new Date(o).getTime()||(new Date).getTime(),this.uid=++t,this.severity=f(i),this.severityName=e[this.severity],this.typePayload=stage.typeOf(r),this.payload=r,this.moduleName=a,this.msgid=n||"",this.msg=s||""}}();stage.PDU=r,r.prototype.getDate=function(){return new Date(this.timeStamp).toTimeString()},r.prototype.toString=function(){return"TimeStamp:"+this.getDate()+"  Log:"+this.payload+"  ModuleName:"+this.moduleName+"  SeverityName:"+this.severityName+"  MessageID:"+this.msgid+"  UID:"+this.uid+"  Message:"+this.msg},r.prototype.parseJson=function(t){try{var e=JSON.parse(t);for(var r in e)r in this&&(this[r]=e[r])}catch(t){throw t}return e};var i={"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},RegExp:function(t,e){return e.test(t)}},a={severity:function(t,e){if("=="!==e.operator)return i[e.operator](t.severity,e.data);for(var r in e.data)if(r===t.severityName)return!0;return!1},msgid:function(t,e){if("=="!==e.operator)return i[e.operator](t.msgid,e.data);for(var r in e.data)if(r===t.msgid)return!0;return!1},date:function(t,e){return i[e.operator](t.timeStamp,e.data)}},n={"&&":function(t,e){var r=null;for(var i in t){var r=a[i](e,t[i]);if(!r)break}return r},"||":function(t,e){var r=null;for(var i in t){var r=a[i](e,t[i]);if(r)break}return r}},s=function(t){var e=!1;switch(stage.typeOf(t)){case"string":e=t.split(/,| /);break;case"number":e=t;break;default:throw new Error("checkFormatSeverity bad format "+stage.typeOf(t)+" : "+t)}return e},o=function(t){var e=!1;switch(stage.typeOf(t)){case"date":e=t.getTime();break;case"string":e=new Date(t);break;default:throw new Error("checkFormatDate bad format "+stage.typeOf(t)+" : "+t)}return e},c=function(t){var e=!1;switch(stage.typeOf(t)){case"string":e=t.split(/,| /);break;case"number":e=t;break;case"object":t instanceof RegExp&&(e=t);break;default:throw new Error("checkFormatMsgId bad format "+stage.typeOf(t)+" : "+t)}return e},h=function(t){var r=parseInt(t,10);if(isNaN(r))var i=t;else var i=e[r];return i in e&&i},u=function(t){var r=!0;if("object"!==stage.typeOf(t))return!1;for(var n in t){if(!n in a)return!1;var u=t[n];if(u.operator&&!(u.operator in i))throw new Error("Contitions bad operator : "+u.operator);if(!u.data)return!1;switch(n){case"severity":if(u.operator){if(r=s(u.data),r===!1)return!1;u.data=e[h(r[0])]}else{if(u.operator="==",r=s(u.data),r===!1)return!1;if(u.data={},"array"!==stage.typeOf(r))return!1;for(var f=0;f<r.length;f++){var g=h(r[f]);if(!g)return!1;u.data[g]=e[g]}}break;case"msgid":if(u.operator||(u.operator="=="),r=c(u.data),r===!1)return!1;if("array"===stage.typeOf(r)){u.data={};for(var f=0;f<r.length;f++)u.data[r[f]]="||"}else u.data=r;break;case"date":if(r=o(u.data),!r)return!1;u.data=r;break;default:return!1}}return t},f=function(t){if(!(t in e)){if(t)throw new Error("not stage syslog severity :"+t);return null}if("number"==typeof t)var r=e[e[t]];else var r=e[t];return r},g=function(t,i,a,n,s){if(i)var o=i;else var o=e[this.settings.defaultSeverity];return new r(t,o,a,n,s)},d=function(e){this.mother=this.$super,this.mother.constructor(e),this.settings=stage.extend({},t,e),this.ringStack=new Array,this.burstPrinted=0,this.missed=0,this.invalid=0,this.valid=0,this.start=0,this.fire=this.settings.async?this.mother.fireAsync:this.mother.fire}.herite(stage.notificationsCenter.notification);return d.prototype.pushStack=function(t){this.ringStack.length===this.settings.maxStack&&this.ringStack.shift();var e=this.ringStack.push(t);return this.valid++,e},d.prototype.logger=function(t,e,i,a){if(this.settings.rateLimit){var n=(new Date).getTime();if(this.start=this.start||n,n>this.start+this.settings.rateLimit&&(this.burstPrinted=0,this.missed=0,this.start=0),this.settings.burstLimit&&this.settings.burstLimit>this.burstPrinted){try{if(t instanceof r)var s=t;else var s=g.call(this,t,e,this.settings.moduleName,i,a)}catch(t){return this.invalid++,"INVALID"}return this.pushStack(s),this.fire("onLog",s),this.burstPrinted++,"ACCEPTED"}return this.missed++,"DROPPED"}try{if(t instanceof r)var s=t;else var s=g.call(this,t,e,this.settings.moduleName,i,a)}catch(t){return this.invalid++,"INVALID"}return this.pushStack(s),this.fire("onLog",s),"ACCEPTED"},d.prototype.clearLogStack=function(){this.ringStack.length=0},d.prototype.getLogStack=function(t,e,r){if(r)var i=this.getLogs(r);else var i=this.ringStack;return 0===arguments.length?i[i.length-1]:e?t===e?i[i.length-t-1]:i.slice(t,e):i.slice(t)},d.prototype.getLogs=function(t,e){var r=e||this.ringStack;if(t.checkConditions&&t.checkConditions in n){var i=n[t.checkConditions];delete t.checkConditions}else var i=n[this.settings.checkConditions];var a=[];try{var s=u(t)}catch(t){throw new Error("registreNotification conditions format error: "+t)}if(s)for(var o=0;o<r.length;o++){var c=i(s,r[o]);c&&a.push(r[o])}return a},d.prototype.logToJson=function(t){if(t)var e=this.getLogs(t);else var e=this.ringStack;return JSON.stringify(e)},d.prototype.loadStack=function(t,e,i){if(!t)throw new Error("syslog loadStack : not stack in arguments ");switch(stage.typeOf(t)){case"string":try{var a=JSON.parse(t);return arguments.callee.call(this,a,e)}catch(t){throw t}break;case"array":case"object":try{for(var n=0;n<t.length;n++){var s=new r(t[n].payload,t[n].severity,t[n].moduleName||this.settings.moduleName,t[n].msgid,t[n].msg,t[n].timeStamp);this.pushStack(s),e&&(i&&"function"==typeof i&&i.call(this,s,t[n]),this.fire("onLog",s))}}catch(t){throw t}break;default:throw new Error("syslog loadStack : bad stack in arguments type")}return a||t},d.prototype.listenWithConditions=function(t,e,r){if(e.checkConditions&&e.checkConditions in n){var i=n[e.checkConditions];delete e.checkConditions}else var i=n[this.settings.checkConditions];try{var a=u(e)}catch(t){throw new Error("registreNotification conditions format error: "+t)}if(a){var s=function(e){var n=i(a,e);n&&r.apply(t||this,arguments)};return this.mother.listen(this,"onLog",s),s}},d});stage.register("xml",function(){var e=function(){return document.implementation.createDocument?function(e){try{var t=(new DOMParser).parseFromString(e,"application/xml")}catch(e){throw Error("xml function stringToDocumentXML : "+e)}return t}:function(e){var t=createDocument();return t.async="false",t.loadXML(e),t}}(),t=function(e){var t=stage.typeOf(e);if("document"===t)return e.documentElement||e.childNodes[0];if("element"===t){var n=e.ownerDocument;return n.documentElement||n.childNodes[0]}},n=function(n){switch(stage.typeOf(n)){case"string":var r=t(e(n));break;case"document":var r=t(n);break;case"element":var r=n;break;default:throw new Error("parseXml  bad type arguments")}return a(r)},r=null,a=function(e){if(!e)return null;var t=null;if(r={},t)for(var n=0;n<t.length;n++)r[t[n]]=1;var a=l(e);if(r[e.nodeName]&&(a=[a]),11!=e.nodeType){var o={};o[e.nodeName]=a,a=o}return a},o="@",u=":",l=function(e){if(!e)return null;switch(e.nodeType){case 7:return null;case 3:case 4:return e.nodeValue.match(/[^\x00-\x20]/)?e.nodeValue:null}var t=null,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){var a=e.attributes[r].nodeName;if("string"==typeof a){var u=e.attributes[r].value||e.attributes[r].nodeValue;u&&(a=o+a,"undefined"==typeof n[a]&&(n[a]=0),n[a]++,i(t,a,n[a],u))}}}if(e.childNodes&&e.childNodes.length){var c=!0;t&&(c=!1);for(var r=0;r<e.childNodes.length&&c;r++){var d=e.childNodes[r].nodeType;3!=d&&4!=d&&(c=!1)}if(c){t||(t="");for(var r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r].nodeName;if("string"==typeof a){var u=l(e.childNodes[r]);u&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,i(t,a,n[a],u))}}}}return t},i=function(e,t,n,a){t=c(t),r&&r[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=a):1==n?e[t]=a:2==n?e[t]=[e[t],a]:e[t][e[t].length]=a},c=function(e){return e?e.replace(":",u):e};return{parseXml:n,stringToDocumentXML:e}});stage.provide("io"),stage.require("jquery"),stage.register("io",function(){var e=function(e){var t=window.location,r=h(e);return r.hostname==t.hostname&&r.port==t.port&&r.protocol==t.protocol},t=function(e){var t=(window.location,h(e));return"https:"===t.protocol},r=function(e,t,r){this.url="object"==typeof e?e:stage.io.urlToOject(e),this.crossDomain=!stage.io.isSameOrigin(e),this.notificationCenter=stage.notificationsCenter.create(r);var n=t["WWW-Authenticate"].split(" "),i=Array.prototype.shift.call(n),o=t["WWW-Authenticate"].replace(i+" ","");this.method="POST";var a=t.body,c=this.getAuthenticationType(i);this.authentication=new c(this.url,this.method,o,a),this.ajax=!1,r.ajax&&(this.ajax=!0)};r.prototype.getAuthenticationType=function(e){if(e in stage.io.authentication)return stage.io.authentication[e];throw new Error("SSE client can't negociate : "+e)},r.prototype.register=function(e,t){var r=this.authentication.getAuthorization(e,t);this.notificationCenter.fire("onRegister",this,r),this.ajax&&$.ajax({type:this.method,url:this.url.href,cache:!1,crossDomain:!this.crossDomain,error:function(e,t,r){this.notificationCenter.fire("onError",e,t,r)}.bind(this),beforeSend:function(e){e.setRequestHeader("Authorization",r)}.bind(this),success:function(e,t,r){this.notificationCenter.fire("onSuccess",e,t,r)}.bind(this)})};var n=function(e){return i(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")},i=function(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")},o=/^\?(.*)/,a=function(e){var t=o.exec(e);t&&(e=t[1]);var r,n,i={},a=(e||"").split("&");if(a.length)for(var c=0;c<a.length;c++)try{var r=a[c].replace(/\+/g,"%20").split("="),n=decodeURIComponent(r[0]);if(n){var s=decodeURIComponent(r[1]);if(Object.prototype.hasOwnProperty.call(i,n))switch(stage.typeOf(i[n])){case"array":i[n].push(s);break;default:i[n]=[i[n],s]}else i[n]=s}}catch(e){}return i},c=function(e){var t=[];for(var r in e)switch(stage.typeOf(e[r])){case"array":for(var n=0;n<e[r].length;n++)t.push(i(r,!0)+(e[r][n]===!0?"":"="+i(e[r][n],!0)));break;case"string":case"boolean":t.push(i(r,!0)+(e[r]===!0?"":"="+i(e[r],!0)));break;default:continue}return t.length?t.join("&"):""},s=function(e){var t=e.getResponseHeader("X-Json");if(t)try{return JSON.parse(t)}catch(e){return t}return null},h=function(e){var t={},r=document.createElement("a");r.href=e;var n="protocol hostname host pathname port search hash href".split(" ");for(keyIndex in n){var i=n[keyIndex];t[i]=r[i]}return t.toString=function(){return r.href},t.requestUri=t.pathname+t.search,t.basename=t.pathname.replace(/\\/g,"/").replace(/.*\//,""),t.dirname=t.pathname.replace(/\\/g,"/").replace(/\/[^\/]*$/,""),t},u=!!window.WebSocket,p=function(t,r,n){this.$super.constructor(r,n||this),t?(this.url=h(t),this.crossDomain=!e(t),this.error=null):this.fire("onError",new Error("Transport URL not defined"))}.herite(stage.notificationsCenter.notification);return{nativeWebSocket:u,urlToOject:h,parseKeyValue:a,toKeyValue:c,encodeUriSegment:n,encodeUriQuery:i,getHeaderJSON:s,isSameOrigin:e,isSecure:t,protocols:{},authentication:{authenticate:r,mechanisms:{}},transport:p,transports:{}}});stage.provide("base64"),stage.register.call(stage.crypto,"base64",function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=function(e){var a,t,o,h,i,c,d,f="",C=0;for(e=n(e);C<e.length;)a=e.charCodeAt(C++),t=e.charCodeAt(C++),o=e.charCodeAt(C++),h=a>>2,i=(3&a)<<4|t>>4,c=(15&t)<<2|o>>6,d=63&o,isNaN(t)?c=d=64:isNaN(o)&&(d=64),f=f+r.charAt(h)+r.charAt(i)+r.charAt(c)+r.charAt(d);return f},a=function(e){var a,t,n,h,i,c,d,f="",C=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");C<e.length;)h=r.indexOf(e.charAt(C++)),i=r.indexOf(e.charAt(C++)),c=r.indexOf(e.charAt(C++)),d=r.indexOf(e.charAt(C++)),a=h<<2|i>>4,t=(15&i)<<4|c>>2,n=(3&c)<<6|d,f+=String.fromCharCode(a),64!=c&&(f+=String.fromCharCode(t)),64!=d&&(f+=String.fromCharCode(n));if(C!=e.length)throw new Error("BASE64_BROKEN : There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");return f=o(f)},t=function(e,a){var t=r.indexOf(e.charAt(e.length-1)),n=r.indexOf(e.charAt(e.length-2)),o=e.length/4*3;64==t&&o--,64==n&&o--;var h,i,c,d,f,C,A,g,l=0,u=0;for(h=a?new Uint8Array(a):new Uint8Array(o),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),l=0;l<o;l+=3)f=r.indexOf(e.charAt(u++)),C=r.indexOf(e.charAt(u++)),A=r.indexOf(e.charAt(u++)),g=r.indexOf(e.charAt(u++)),i=f<<2|C>>4,c=(15&C)<<4|A>>2,d=(3&A)<<6|g,h[l]=i,64!=A&&(h[l+1]=c),64!=g&&(h[l+2]=d);return h},n=function(r){r=r.replace(/\r\n/g,"\n");for(var e="",a=0;a<r.length;a++){var t=r.charCodeAt(a);t<128?e+=String.fromCharCode(t):t>127&&t<2048?(e+=String.fromCharCode(t>>6|192),e+=String.fromCharCode(63&t|128)):(e+=String.fromCharCode(t>>12|224),e+=String.fromCharCode(t>>6&63|128),e+=String.fromCharCode(63&t|128))}return e},o=function(r){for(var e="",a=0,t=0,n=0;a<r.length;)if(t=r.charCodeAt(a),t<128)e+=String.fromCharCode(t),a++;else if(t>191&&t<224)n=r.charCodeAt(a+1),e+=String.fromCharCode((31&t)<<6|63&n),a+=2;else{n=r.charCodeAt(a+1);var o=r.charCodeAt(a+2);e+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&o),a+=3}return e},h=function(r){var e=r.length/4*3,a=new ArrayBuffer(e);return t(r,a),a};return{decodeArrayBuffer:h,encode:e,decode:a}});stage.provide("md5"),stage.register.call(stage.crypto,"md5",function(){var r=0,n="",t=function(r){return f(i(u(r),8*r.length))},e=function(r,n){var t=u(r);t.length>16&&(t=i(t,8*r.length));for(var e=Array(16),o=Array(16),a=0;a<16;a++)e[a]=909522486^t[a],o[a]=1549556828^t[a];var h=i(e.concat(u(n)),512+8*n.length);return f(i(o.concat(h),640))},o=function(n){for(var t,e=r?"0123456789ABCDEF":"0123456789abcdef",o="",a=0;a<n.length;a++)t=n.charCodeAt(a),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o},a=function(r){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="",o=r.length,a=0;a<o;a+=3)for(var h=r.charCodeAt(a)<<16|(a+1<o?r.charCodeAt(a+1)<<8:0)|(a+2<o?r.charCodeAt(a+2):0),c=0;c<4;c++)e+=8*a+6*c>8*r.length?n:t.charAt(h>>>6*(3-c)&63);return e},h=function(r,n){var t,e,o,a,h,c=n.length,u=Array(Math.ceil(r.length/2));for(t=0;t<u.length;t++)u[t]=r.charCodeAt(2*t)<<8|r.charCodeAt(2*t+1);var f=Math.ceil(8*r.length/(Math.log(n.length)/Math.log(2))),i=Array(f);for(e=0;e<f;e++){for(h=Array(),a=0,t=0;t<u.length;t++)a=(a<<16)+u[t],o=Math.floor(a/c),a-=o*c,(h.length>0||o>0)&&(h[h.length]=o);i[e]=a,u=h}var g="";for(t=i.length-1;t>=0;t--)g+=n.charAt(i[t]);return g},c=function(r){for(var n,t,e="",o=-1;++o<r.length;)n=r.charCodeAt(o),t=o+1<r.length?r.charCodeAt(o+1):0,55296<=n&&n<=56319&&56320<=t&&t<=57343&&(n=65536+((1023&n)<<10)+(1023&t),o++),n<=127?e+=String.fromCharCode(n):n<=2047?e+=String.fromCharCode(192|n>>>6&31,128|63&n):n<=65535?e+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|63&n):n<=2097151&&(e+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|63&n));return e},u=function(r){for(var n=Array(r.length>>2),t=0;t<n.length;t++)n[t]=0;for(var t=0;t<8*r.length;t+=8)n[t>>5]|=(255&r.charCodeAt(t/8))<<t%32;return n},f=function(r){for(var n="",t=0;t<32*r.length;t+=8)n+=String.fromCharCode(r[t>>5]>>>t%32&255);return n},i=function(r,n){r[n>>5]|=128<<n%32,r[(n+64>>>9<<4)+14]=n;for(var t=1732584193,e=-271733879,o=-1732584194,a=271733878,h=0;h<r.length;h+=16){var c=t,u=e,f=o,i=a;t=l(t,e,o,a,r[h+0],7,-680876936),a=l(a,t,e,o,r[h+1],12,-389564586),o=l(o,a,t,e,r[h+2],17,606105819),e=l(e,o,a,t,r[h+3],22,-1044525330),t=l(t,e,o,a,r[h+4],7,-176418897),a=l(a,t,e,o,r[h+5],12,1200080426),o=l(o,a,t,e,r[h+6],17,-1473231341),e=l(e,o,a,t,r[h+7],22,-45705983),t=l(t,e,o,a,r[h+8],7,1770035416),a=l(a,t,e,o,r[h+9],12,-1958414417),o=l(o,a,t,e,r[h+10],17,-42063),e=l(e,o,a,t,r[h+11],22,-1990404162),t=l(t,e,o,a,r[h+12],7,1804603682),a=l(a,t,e,o,r[h+13],12,-40341101),o=l(o,a,t,e,r[h+14],17,-1502002290),e=l(e,o,a,t,r[h+15],22,1236535329),t=d(t,e,o,a,r[h+1],5,-165796510),a=d(a,t,e,o,r[h+6],9,-1069501632),o=d(o,a,t,e,r[h+11],14,643717713),e=d(e,o,a,t,r[h+0],20,-373897302),t=d(t,e,o,a,r[h+5],5,-701558691),a=d(a,t,e,o,r[h+10],9,38016083),o=d(o,a,t,e,r[h+15],14,-660478335),e=d(e,o,a,t,r[h+4],20,-405537848),t=d(t,e,o,a,r[h+9],5,568446438),a=d(a,t,e,o,r[h+14],9,-1019803690),o=d(o,a,t,e,r[h+3],14,-187363961),e=d(e,o,a,t,r[h+8],20,1163531501),t=d(t,e,o,a,r[h+13],5,-1444681467),a=d(a,t,e,o,r[h+2],9,-51403784),o=d(o,a,t,e,r[h+7],14,1735328473),e=d(e,o,a,t,r[h+12],20,-1926607734),t=A(t,e,o,a,r[h+5],4,-378558),a=A(a,t,e,o,r[h+8],11,-2022574463),o=A(o,a,t,e,r[h+11],16,1839030562),e=A(e,o,a,t,r[h+14],23,-35309556),t=A(t,e,o,a,r[h+1],4,-1530992060),a=A(a,t,e,o,r[h+4],11,1272893353),o=A(o,a,t,e,r[h+7],16,-155497632),e=A(e,o,a,t,r[h+10],23,-1094730640),t=A(t,e,o,a,r[h+13],4,681279174),a=A(a,t,e,o,r[h+0],11,-358537222),o=A(o,a,t,e,r[h+3],16,-722521979),e=A(e,o,a,t,r[h+6],23,76029189),t=A(t,e,o,a,r[h+9],4,-640364487),a=A(a,t,e,o,r[h+12],11,-421815835),o=A(o,a,t,e,r[h+15],16,530742520),e=A(e,o,a,t,r[h+2],23,-995338651),t=m(t,e,o,a,r[h+0],6,-198630844),a=m(a,t,e,o,r[h+7],10,1126891415),o=m(o,a,t,e,r[h+14],15,-1416354905),e=m(e,o,a,t,r[h+5],21,-57434055),t=m(t,e,o,a,r[h+12],6,1700485571),a=m(a,t,e,o,r[h+3],10,-1894986606),o=m(o,a,t,e,r[h+10],15,-1051523),e=m(e,o,a,t,r[h+1],21,-2054922799),t=m(t,e,o,a,r[h+8],6,1873313359),a=m(a,t,e,o,r[h+15],10,-30611744),o=m(o,a,t,e,r[h+6],15,-1560198380),e=m(e,o,a,t,r[h+13],21,1309151649),t=m(t,e,o,a,r[h+4],6,-145523070),a=m(a,t,e,o,r[h+11],10,-1120210379),o=m(o,a,t,e,r[h+2],15,718787259),e=m(e,o,a,t,r[h+9],21,-343485551),t=C(t,c),e=C(e,u),o=C(o,f),a=C(a,i)}return Array(t,e,o,a)},g=function(r,n,t,e,o,a){return C(v(C(C(n,r),C(e,a)),o),t)},l=function(r,n,t,e,o,a,h){return g(n&t|~n&e,r,n,o,a,h)},d=function(r,n,t,e,o,a,h){return g(n&e|t&~e,r,n,o,a,h)},A=function(r,n,t,e,o,a,h){return g(n^t^e,r,n,o,a,h)},m=function(r,n,t,e,o,a,h){return g(t^(n|~e),r,n,o,a,h)},C=function(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t},v=function(r,n){return r<<n|r>>>32-n};return{hex_md5:function(r){return o(t(c(r)))},hex_md5_noUTF8:function(r){return o(t(r))},str_md5:function(r){return t(c(r))},b64_md5:function(r){return a(t(c(r)))},any_md5:function(r,n){return h(t(c(r)),n)},hex_hmac_md5:function(r,n){return o(e(c(r),c(n)))},str_hmac_md5:function(r,n){return e(c(r),c(n))},b64_hmac_md5:function(r,n){return a(e(c(r),c(n)))},any_hmac_md5:function(r,n,t){return h(e(c(r),c(n)),t)}}});stage.provide("digest-md5"),stage.require("md5"),stage.require("base64"),stage.register.call(stage.io.authentication.mechanisms,"Digest",function(){var e={realm:!0,qop:!0,charset:!0,algorithm:!0,nonce:!0},t=/^([^=]+)=(.+)$/,r=function(e){var r=e.replace(/"/g,"");r=r.replace(/Digest /g,"");for(var i=r.split(","),s={},a=0;a<i.length;a++){var n=t.exec(i[a]);n&&n[1]&&(s[n[1]]=n[2])}return s},i=stage.crypto.md5.hex_md5_noUTF8,s=stage.crypto.base64.encode,a=stage.crypto.base64.decode,n=function(e,t,r,s,a){if(a)var n=e+":"+t+":"+r+":"+s+":"+a;else var n=e+":"+t+":"+r;return i(n)},o=function(e,t,r,s){var a="";if(s&&"auth"!==s){if("auth-int"===s)if(r){var n=i(r);a=e+":"+t+":"+n}else a=e+":"+t+":d41d8cd98f00b204e9800998ecf8427e"}else a=e+":"+t;return i(a)},h=function(e,t,r,s,a,n){var o="";return o="auth"===a||"auth-int"===a?e+":"+t+":"+r+":"+s+":"+a+":"+n:e+":"+t+":"+n,i(o)},c=function(e,t,r,i){switch(this.method=t,this.entity_body=i,this.url=e,this.uri=this.url.requestUri,this.protocol=this.url.protocol.replace(":",""),this.host=this.url.host,typeof r){case"object":this.parseChallenge(r);break;default:throw new Error("digetMD5 bad format header")}};return c.prototype.parseChallenge=function(t){var i={};switch(typeof t){case"string":throw new Error("digetMD5 bad format challenge");case"object":for(var s in t)switch(s){case"challenge":if("string"==typeof t.challenge)try{this.challengeB64=a(t.challenge)}catch(e){this.challengeB64=t.challenge}break;default:i[s]=t[s]}break;default:throw new Error("digetMD5 bad format challenge")}var n=stage.extend(r(this.challengeB64),i);for(var o in n)o in e?this[o]=n[o]:console.warn("digestMd5 parser challenge header name dropped: "+o)},c.prototype.generateAuthorization=function(e,t){var r='Digest username="'+e+'"';this.realm||(this.realm=e+"@"+this.url.host);var i={nonce:'"'+this.nonce+'"',realm:'"'+this.realm+'"',response:null};this["digest-uri"]=this.protocol+"/"+this.host,i["digest-uri"]='"'+this["digest-uri"]+'"',this.qop&&(this.cnonce=s(Math.floor(1e8*Math.random()).toString()),i.cnonce='"'+this.cnonce+'"',i.qop=this.qop),this.opaque&&(i.opaque=this.opaque),this.nc="00000001",i.nc=this.nc,this.A1=n(e,this.realm,t),this.A2=o(this.method,this["digest-uri"],this.entity_body,this.qop),i.response=h(this.A1,this.nonce,this.nc,this.cnonce,this.qop,this.A2);for(var a in i)r+=","+a+"="+i[a];var c=s(r);return c},stage.io.authentication.Digest=c,c});stage.provide("sasl"),stage.require("io"),stage.require("digest-md5"),stage.register.call(stage.io.authentication,"SASL",function(){var e=/^([^=]+)=(.+)$/,t=function(t){for(var s=t.replace(/"/g,""),i=s.split(","),a={},n=0;n<i.length;n++){var r=e.exec(i[n]);r&&r[1]&&(a[r[1]]=r[2])}return a},s=function(e,s,i,a){this.method=s,this.url=e,this.headers=t(i),this.body=a,this.mechanisms=this.headers.mechanisms;var n=this.getBestMechanism(this.mechanisms);if(!n)throw new Error("SALS mechanism not found");delete this.headers.mechanisms,this.bestMechanism=n.name,this.mechanism=new n.Class(this.url,this.method,this.headers,this.body)};return s.prototype.name="sasl",s.prototype.getBestMechanism=function(e){var t=null;switch(typeof e){case"object":for(var s=0;s<e.length;s++)if(e[s]in stage.io.authentication.mechanisms){var t=stage.io.authentication.mechanisms[e[s]],i=e[s];break}break;case"string":return this.getBestMechanism(e.split(" "));default:throw new Error("FORMAT SALS mechanism bad format")}return{name:i,Class:t}},s.prototype.getAuthorization=function(e,t){return'SASL mechanism="'+this.bestMechanism+'",'+this.mechanism.generateAuthorization(e,t)},s});stage.provide("socket"),stage.register.call(stage.io,"socket",function(){var t={type:"websocket"},s=function(s,e){switch(this.settings=stage.extend({},t,e),this.$super.constructor(this.settings,this),this.settings.type){case"websocket":this.socket=stage.io.transports.websocket;break;case"poll":this.socket=stage.io.transports.ajax;break;case"longPoll":this.socket=stage.io.transports.ajax}this.listen(this,"onConnect"),this.listen(this,"onClose"),this.listen(this,"onError"),this.listen(this,"onMessage"),this.listen(this,"onTimeout")}.herite(stage.notificationsCenter.notification);return s.prototype.write=function(t){this.transport.send()},s.prototype.close=function(t){this.transport.close()},s.prototype.connect=function(t,s){this.transport=new this.socket(t,s),this.transport.onmessage=this.listen(this,"onMessage")},s.prototype.destroy=function(t){this.transport=null,this.clearNotifications()},s});stage.register.call(stage.io.protocols,"bayeux",function(){var t=function(){var t=[];stage.io.nativeWebSocket?t.push("websocket"):null,stage.io.poll?t.push("poll"):null,stage.io.longPoll?t.push("long-polling"):null,stage.io.jsonp?t.push("callback-polling"):null;return t}(),e=function(t){if(t.successful)try{var e=this.getBestConnection(t.supportedConnectionTypes);this.socket=new e.Class(e.url),this.socket.onmessage=function(t){t.data&&this.onMessage(t.data)}.bind(this),this.socket.onopen=function(){this.socket.send(this.connect(t)),this.notificationCenter.fire("onHandshake",t,this.socket)}.bind(this),this.socket.onerror=this.notificationCenter.listen(this,"onError"),this.socket.onclose=function(t){delete this.socket,this.notificationCenter.fire("onClose",t)}.bind(this)}catch(t){throw new Error(t)}else c.call(this,t)},n=function(){this.reconnect=!0,this.notificationCenter.fire("reConnect",this)},i=function(t){if(t.successful){if(this.connected=!0,this.idconnection=t.clientId,t.advice)for(var e in t.advice)switch(e){case"reconnect":"retry"===t.advice[e]&&(this.reconnect||this.notificationCenter.listen(this,"onClose",n))}this.notificationCenter.fire("onConnect",t)}else this.connected=!1,c.call(this,t)},s=function(t){t.successful?this.socket&&(this.socket.close(),this.socket=null,this.notificationCenter.fire("onDisconnect",t)):c.call(this,t)},o=function(t){t.successful?this.notificationCenter.fire("onSubscribe",t):c.call(this,t)},r=function(t){t.successful?this.notificationCenter.fire("onUnsubscribe",t):c.call(this,t)},c=function(t){if(t.error)try{switch(stage.typeOf(t.error)){case"string":var e=t.error.split(":"),n=e[0],i=e[1],s=e[2];break;case"object":if(t.error)return arguments.callee.call(this,t.error);break;case"Error":return t.error="500::"+t.error.message,arguments.callee.call(this,t.error);default:throw new Error("Bad protocole error BAYEUX")}this.notificationCenter.fire("onError",n,i,s)}catch(t){throw new Error("Bad protocole error BAYEUX"+t)}},a=function(t){this.name="bayeux",this.notificationCenter=stage.notificationsCenter.create(this.settings,this),this.url=t,this.socket=null,this.connected=!1,this.request={version:"1.0"}};return a.prototype.getBestConnection=function(t){return"https:"===this.url.protocol||"wss:"===this.url.protocol?this.url.protocol="wss:":this.url.protocol="ws:",this.socketType="WEBSOCKET",{Class:window.WebSocket,url:this.url.protocol+"//"+this.url.host+this.url.requestUri}},a.prototype.build=function(t){var e=[];return e.push(t),e},a.prototype.handshake=function(){var e=JSON.stringify(stage.extend({},this.request,{channel:"/meta/handshake",minimumVersion:"1.0",supportedConnectionTypes:t}));return this.send(e)},a.prototype.connect=function(t){return JSON.stringify({channel:"/meta/connect",clientId:t.clientId,connectionType:this.socketType})},a.prototype.stopReConnect=function(t){this.notificationCenter.unListen("onClose",n)},a.prototype.disconnect=function(){return JSON.stringify({channel:"/meta/disconnect",clientId:this.idconnection})},a.prototype.subscribe=function(t,e){return JSON.stringify({channel:"/meta/subscribe",clientId:this.idconnection,subscription:"/service/"+t,data:e})},a.prototype.unSubscribe=function(t,e,n){return JSON.stringify({channel:"/meta/unsubscribe",clientId:e,subscription:"/service/"+t,data:n})},a.prototype.sendMessage=function(t,e,n){return JSON.stringify({channel:"/service/"+t,clientId:n,id:(new Date).getTime(),data:e})},a.prototype.onMessage=function(t){try{"string"==typeof t&&(t=JSON.parse(t))}catch(e){return t.error=e,void c.call(this,t)}switch(t.channel){case"/meta/handshake":return e.call(this,t);case"/meta/connect":return i.call(this,t);case"/meta/disconnect":return s.call(this,t);case"/meta/subscribe":return o.call(this,t);case"/meta/unsubscribe":return r.call(this,t);default:this.notificationCenter.fire("onMessage",t)}},a.prototype.send=function(t){return this.socket?this.socket.send(t):$.ajax({method:"POST",cache:!1,url:this.url.href,dataType:"json",contentType:"application/json",data:t,success:function(t,e,n){this.onMessage(t)}.bind(this),error:function(t,e,n){this.notificationCenter.fire("onError",t,e,n)}.bind(this)})},a});stage.register("realtime",function(){var t={},i={moduleName:"REALTIME",defaultSeverity:"INFO"},e=function(e,n){if(!e)throw new Error("realtime url server is not defined");this.settings=stage.extend({},t,n),this.notificationCenter=stage.notificationsCenter.create(this.settings,this),this.syslog=new stage.syslog(i),this.url=stage.io.urlToOject(e),this.protocol=new stage.io.protocols.bayeux(this.url),this.services=null,this.subscribedService={},this.nbSubscribed=0,this.connected=!1,this.publicAddress=null,this.domain=null,this.notificationCenter.listen(this,"onAuthorized",function(){this.protocol.handshake(this.url.href)}),this.protocol.notificationCenter.listen(this,"onMessage",this.onMessage),this.protocol.notificationCenter.listen(this,"onHandshake",function(t,i){if(t.ext&&t.ext.address){var e=JSON.parse(t.ext.address);this.publicAddress=e.remoteAddress,this.domain=e.host}this.notificationCenter.fire("onHandshake",t,i,this)}),this.protocol.notificationCenter.listen(this,"onConnect",function(t){if(this.services=t.data,this.connected=!0,t.ext&&t.ext.address){var i=JSON.parse(t.ext.address);this.publicAddress=i.remoteAddress,this.domain=i.host}this.notificationCenter.fire("onConnect",t,this)}),this.protocol.notificationCenter.listen(this,"onDisconnect",function(t){this.services=t.data,this.connected=!1,this.notificationCenter.fire("onDisconnect",t,this)}),this.protocol.notificationCenter.listen(this,"reConnect",function(t){setTimeout(function(){this.start()}.bind(this),6e4)}),this.protocol.notificationCenter.listen(this,"onSubscribe",function(t){var i=t.subscription.split("/")[2];this.subscribedService[i]=t,this.nbSubscribed++,this.notificationCenter.fire("onSubscribe",i,t,this)}),this.protocol.notificationCenter.listen(this,"onUnsubscribe",function(t){var i=t.subscription.split("/")[2];delete this.subscribedService[i],this.nbSubscribed--,this.notificationCenter.fire("onUnSubscribe",i,t,this)}),this.protocol.notificationCenter.listen(this,"onError",function(t,i,e){this.notificationCenter.fire("onError",t,i,e)}),this.protocol.notificationCenter.listen(this,"onClose",function(t){this.connected=!1,this.notificationCenter.fire("onClose",t);for(var i in this.subscribedService)delete this.subscribedService[i]})};e.prototype.listen=function(){return this.notificationCenter.listen.apply(this.notificationCenter,arguments)},e.prototype.unListen=function(){return this.notificationCenter.unListen.apply(this.notificationCenter,arguments)},e.prototype.start=function(){if(this.connected)return this.notificationCenter.fire("onError",500,this,"connection already started"),!1;var t={401:function(t,i,e){var n=(t.getResponseHeader("WWW-Authenticate"),t.responseText,{"WWW-Authenticate":t.getResponseHeader("WWW-Authenticate"),body:t.responseText});this.authenticate=new stage.io.authentication.authenticate(this.url,n,{ajax:!0,onSuccess:function(t,i,e){this.notificationCenter.fire("onAuthorized",t,i,e)}.bind(this),onError:function(t,i,e){var n=stage.io.getHeaderJSON(t);n?this.notificationCenter.fire("onError",401,t,n):this.notificationCenter.fire("onError",401,t,e)}.bind(this)}),this.notificationCenter.fire("onUnauthorized",this.authenticate,this)}.bind(this),404:function(t,i,e){this.notificationCenter.fire("onError",404,t,e)}.bind(this),503:function(t,i,e){this.notificationCenter.fire("onError",503,t,e)}.bind(this)};return $.ajax({method:"GET",cache:!1,url:this.url.href,statusCode:t,success:function(t,i,e){this.notificationCenter.fire("onAuthorized",t,i,e)}.bind(this),error:function(i,e,n){i.status in t||this.notificationCenter.fire("onError",i.status,i,n)}.bind(this)})},e.prototype.subscribe=function(t,i){return this.connected?t in this.services?t in this.subscribedService?(this.notificationCenter.fire("onError",500,this,"already subscribed"),!1):n.call(this,this.protocol.subscribe(t,i)):(this.notificationCenter.fire("onError",500,this,"service : "+t+" not exist"),!1):(this.notificationCenter.fire("onError",500,this,"Not connected"),!1)},e.prototype.unSubscribe=function(t,i){if(!this.connected)return this.notificationCenter.fire("onError",500,this,"Not connected"),!1;if(t in this.services){if(t in this.subscribedService){var e=this.subscribedService[t].clientId;return n.call(this,this.protocol.unSubscribe(t,e,i))}return this.notificationCenter.fire("onError",500,this,"service : "+t+" not subcribed"),!1}return this.notificationCenter.fire("onError",404,this,"service : "+t+" not exist"),!1};var n=function(t){this.protocol.send(t)};return e.prototype.sendMessage=function(t,i){if(!this.connected)return this.notificationCenter.fire("onError",500,this,"Not connected"),!1;if(t in this.services){if(!(t in this.subscribedService))return this.notificationCenter.fire("onError",500,this,"service : "+t+" not subcribed"),!1;var e=this.subscribedService[t].clientId;try{var o=this.protocol.sendMessage(t,i,e);return n.call(this,o),JSON.parse(o).id}catch(t){this.fire("onError",500,t,t.message)}}else this.fire("onError",404,this,"service :"+t+" not exit");return!1},e.prototype.stop=function(){if(this.connected){this.protocol.stopReConnect();for(var t in this.subscribedService)delete this.subscribedService[t];return n.call(this,this.protocol.disconnect())}throw new Error("connection already stoped")},e.prototype.onMessage=function(t){t.error?t.channel?this.notificationCenter.fire("onError",t.error):this.notificationCenter.fire("onError",t.id,t.successful):t.channel?this.notificationCenter.fire("onMessage",t.channel.split("/")[2],t.data):this.notificationCenter.fire("onMessage",t.id,t.successful)},e});stage.register("autoload",function(){var t=function(){return(new Date).getTime()},e=function(){var t={css:{mineType:"text/css",tag:"link",media:"screen",type:"stylesheet",position:"HEAD"},js:{mineType:"text/javascript",tag:"script",position:"BODY"}},e=function(t,e){switch(t){case"HEAD":var s=document.getElementsByTagName("head")[0];s.appendChild(e);break;case"BODY":var r=document.getElementsByTagName("body")[0];r.appendChild(e)}};return function(s,r,n,i,o){switch(r){case"js":return $.ajax({url:s,async:!1,dataType:"script",success:function(t,e,s){o(null,s)}.bind(this),error:function(t,e,r){this.logger(s+" :"+r,"ERROR"),o(r,t)}.bind(this)});case"css":var a=t[r],c=document.createElement(a.tag);c.setAttribute("type",a.mineType),c.setAttribute("id",n+"_"+r),"css"===r&&(c.setAttribute("media",a.media),c.href=s,c.rel=a.type,c.async=!1),"js"===r&&(c.src=s,c.async=!1),c.onload=function(){this.cache[n]=c,this.logger("LOAD FILE :"+s,"DEBUG"),o(null,c)}.bind(this),c.onerror=function(t){this.logger(s,"ERROR"),o(t,c)}.bind(this),e(a.position,c);break;default:return this.logger(new Error("autoload  type transport error "),"ERROR"),null}return c}}(),s={transport:"script",prefix:null},r=function(t,e){this.settings=jQuery.extend({},s,e),this.cache={},this.prefix=this.settings.prefix,this.syslog=t.syslog||null,this.transport=this.settings.transport},n=/(.*)\.(js)$|(.*)\.(css)$/;return r.prototype.load=function(s,r){var i=t(),o=n.exec(s);if(!o)return this.logger("autoload error type file  ","ERROR"),null;e.call(this,s,o[2]||o[4],i,this.transport,r);return i},r.prototype.logger=function(t,e,s,r){return this.syslog?(s||(s="AUTOLOADER  "),this.syslog.logger(t,e,s,r)):void console.log(t)},r.prototype.unLoad=function(t,e){if(t in this.cache){var s=this.cache[t];return s.parentNode.removeChild(s),delete s,delete this.cache[t],e(t)}this.logger("Autoload unLoad no tag find :"+t,"ERROR")},r});stage.register("kernel",function(){var t={moduleName:"KERNEL",defaultSeverity:"INFO"},i={debug:!1,location:{html5Mode:!1,hashPrefix:"/"}},e=function(e,o){this.container=null,this.modules={},this.settings=stage.extend(!0,{},i,o),this.environment=e,this.debug=this.settings.debug,this.booted=!1,this.container=new stage.Container,this.container.set("kernel",this),this.isDomReady=!1,this.uiContainer=null,this.syslog=this.initializeLog(t),this.container.set("syslog",this.syslog),this.autoloader=new stage.autoload(this,{transport:"script"}),this.container.set("autoloader",this.autoloader),this.notificationsCenter=stage.notificationsCenter.create(),this.container.set("notificationsCenter",this.notificationsCenter),this.initLocation(),this.initRouter(),this.initTwig(),this.initTranslation(),this.initRest(),$(document).ready(this.listen(this,"onDomReady",this.domReady)),$(window).resize(this.listen(this,"onResize")),$(window).unload(this.listen(this,"onUnLoad")),$(window).load(this.listen(this,"onLoad")),this.listen(this,"onBoot",this.boot),this.listen(this,"onReady",this.ready),this.notificationsCenter.settingsToListen(this.settings,this)};e.prototype.set=function(t,i){return this.container.set(t,i)},e.prototype.get=function(t,i){return this.container.get(t,i)},e.prototype.setParameters=function(t,i){return this.container.setParameters(t,i)},e.prototype.getParameters=function(t){return this.container.getParameters(t)},e.prototype.initRouter=function(){this.router=new stage.router(this,this.container),this.container.set("router",this.router)},e.prototype.initLocation=function(){this.locationService=new stage.location(this,this.settings.location),this.container.set("location",this.locationService)},e.prototype.initRest=function(){stage.Rest&&(this.restService=new stage.Rest(this.container),this.set("rest",this.restService))},e.prototype.initTranslation=function(){return stage.i18n?(this.i18n=new stage.i18n(this,this.container),void this.container.set("i18n",this.i18n)):void this.logger("you must load transation i18n services js file !!!!!","ERROR")};var o=function(t,i,e,o,n){var s=e.id,r=(e.method,e.async),a=e.precompiled,h=null;return void 0===r&&(r=!0),void 0===s&&(s=i),e.id=s,t.cache&&t.Templates.registry.hasOwnProperty(s)?(o&&o(t.Templates.registry[s]),t.Templates.registry[s]):($.ajax({url:i,async:r,success:function(n,s,r){var l=this.getModuleName(i);if(a===!0&&(n=JSON.parse(n)),e.url=i,e.data=n,h=new t.Template(e),this.modules[l]){var d=this.modules[l],c=d.getTemplateName(i);d.registerTemplate(c,h,"template")}o&&o(h)}.bind(this),error:function(t,i,e){n(t,i,e)}.bind(this)}),r!==!1||h)};return e.prototype.initTwig=function(){return this.logger("INITIALIZE TWIG SERVICE","DEBUG"),"dev"===this.environment&&(window.Twig.cache=!1),this.templateEngine=twig,window.Twig.extend(function(t){t.log.error=function(t){this.logger(t,"ERROR")}.bind(this)}.bind(this)),window.Twig.extend(function(t){t.Templates.loadRemote=o.bind(this,t)}.bind(this)),window.Twig.extendFunction("controller",function(){var t=Array.prototype.shift.call(arguments),i=t.split(":"),e=this.getModule(i[0]);if(e){var o=e.getController(i[1]);if(o){var n=i[2];if(o[n])return o[n].apply(o,arguments)}}}.bind(this)),this.container.set("twig",this.templateEngine),this.templateEngine},e.prototype.domReady=function(){if(this.booted){this.logger("domReady","DEBUG"),this.fire("onDomLoad",this);var t=this.uiContainer?$(this.uiContainer):$("body");try{this.modules.app&&this.modules.app.initialize(t);for(var i in this.modules)"app"!==i&&this.modules[i].initialize(t);this.fire("onReady",this),this.isDomReady=!0}catch(t){this.logger(t,"ERROR")}}},e.prototype.listen=function(){return this.notificationsCenter.listen.apply(this.notificationsCenter,arguments)},e.prototype.fire=function(t){return this.logger("EVENT : "+t,"DEBUG"),this.notificationsCenter.fire.apply(this.notificationsCenter,arguments)},e.prototype.getModule=function(t){return this.modules[t]},e.prototype.logger=function(t,i,e,o){return e||(e="KERNEL "),this.syslog.logger(t,i,e,o)},e.prototype.initializeLog=function(t){var i=new stage.syslog(t);if("dev"===this.environment){i.listenWithConditions(this,{severity:{data:"CRITIC,ERROR"}},function(t){console.log(t.payload),t.payload.stack?console.error("SYSLOG "+t.severityName+" "+t.msgid+" "+new Date(t.timeStamp)+" "+t.msg+" : "+t.payload.stack):console.error("SYSLOG "+t.severityName+" "+t.msgid+" "+new Date(t.timeStamp)+" "+t.msg+" : "+t.payload)});var e;e=this.debug?"INFO,DEBUG":"INFO",i.listenWithConditions(this,{severity:{data:e}},function(t){console.info("SYSLOG "+t.severityName+" "+t.msgid+" "+new Date(t.timeStamp)+" "+t.msg+" : "+t.payload)}),i.listenWithConditions(this,{severity:{data:"WARNING"}},function(t){console.warn("SYSLOG "+t.severityName+" "+t.msgid+" "+new Date(t.timeStamp)+" "+t.msg+" : "+t.payload)})}return i},e.prototype.boot=function(){this.booted=!0},e.prototype.ready=function(){},e.prototype.loadModule=function(t,i){var e=stage.io.urlToOject(t),o=e.basename;return $.ajax(t,stage.extend({cache:!1,method:"GET",dataType:"xml",success:function(t,i,e){try{var o=stage.xml.parseXml(t),n=o.module["@id"],s=o.module["@type"],r=o.module["@src"];switch(s){case"application/javascript":r&&(n in this.modules?(this.modules[n].initialize(),this.modules[n].fire("onInitialize",n),this.fire("onInitializeModule",n)):this.autoloader.load(r,function(t,i){if(t)throw this.fire("onError",t),t;this.registerModule(n,o),"app"===n&&this.fire("onBoot",this)}.bind(this)))}}catch(t){throw this.logger(t,"ERROR"),this.fire("onError",t),t}}.bind(this),error:function(t,i,e){this.fire("onGetConfigError",o),this.fire("onError",e)}.bind(this)},i))},e.prototype.registerModule=function(t,i){if(t in stage.modules){var e=this,o=stage.modules[t].herite(stage.Module);this.container.addScope(t),o.prototype.name=t;try{this.isDomReady?this.modules[t]=new o(this,i,{onReady:function(){if(this.initialize)try{this.initialize(),this.fire("onInitialize",t),e.fire("onInitializeModule",t)}catch(i){throw this.logger("INITIALIZE MODULE : "+t+" "+i,"ERRROR"),i}}}):this.modules[t]=new o(this,i),this.container.set(t,this.modules[t])}catch(i){throw this.logger("INSTANCE MODULE : "+t+" "+i,"ERRROR"),i}}},e.prototype.getModuleName=function(t){var i=stage.dirname(t),e=i.split("/");return e[e.indexOf("Resources")-1]},e});stage.register("appKernel",function(){var e=function(e,t,r){var n=this.$super;n.constructor(t,r),e?this.loadModule(e,{async:!1}):this.fire("onBoot",this)}.herite(stage.kernel);return e});stage.register("Container",function(){var e=function(e){return null!==e&&void 0!==e},t=function(t,r){switch(stage.typeOf(t)){case"string":return arguments.callee.call(this,t.split("."),r);case"array":switch(t.length){case 1:var s=Array.prototype.shift.call(t);if(this[s]){if(!e(r))return this[s];this[s]=r}else this[s]=r;return r;default:var s=Array.prototype.shift.call(t);return!this[s]&&e(r)&&(this[s]={}),arguments.callee.call(this[s],t,r)}break;default:return!1}},r=function(){this.protoService=function(){},this.protoParameters=function(){},this.scope={},this.services=new this.protoService,this.parameters=new this.protoParameters};r.prototype.logger=function(e,t,r,s){var o=this.get("syslog");return r||(r="CONTAINER SERVICES "),o.logger(e,t,r,s)},r.prototype.set=function(e,t){return this.protoService.prototype[e]=t},r.prototype.get=function(e){return e in this.services?this.services[e]:null},r.prototype.has=function(e){return this.services[e]},r.prototype.addScope=function(e){return this.scope[e]=[]},r.prototype.enterScope=function(e){var t=new s(e,this),r=this.scope[e].push(t);return t.index=r,t},r.prototype.leaveScope=function(e){var t=this.scope[e.name].splice(e.index-1,1);return t[0].parent},r.prototype.setParameters=function(r,s){return"string"!=typeof r?(this.logger(new Error("setParameters : container parameter name must be a string")),!1):e(s)?t.call(this.protoParameters.prototype,r,s)===s?s:(this.logger(new Error("container parameter "+r+" parse error")),!1):(this.logger(new Error("setParameters : "+r+" container parameter value must be define")),!1)},r.prototype.getParameters=function(e){return"string"!=typeof e?(this.logger(new Error("container parameter name must be a string")),!1):t.call(this.parameters,e,null)};var s=function(e,t){this.name=e,this.parent=t,this.mother=this.$super,this.mother.constructor(),this.services=new t.protoService,this.parameters=new t.protoParameters,this.scope=t.scope}.herite(r);return s.prototype.set=function(e,t){return this.services[e]=t,this.mother.set(e,t)},s.prototype.setParameters=function(e,r){return t.call(this.parameters,e,r)===r?this.mother.setParameters(e,r):(this.logger(new Error("container parameter "+e+" parse error")),!1)},s.prototype.leaveScope=function(e){this.mother.leaveScope(this)},r});stage.register("router",function(){var t=function(t){try{return decodeURIComponent(t)}catch(r){return t}},r=function(t,r,e){this.id=t,this.path=r,this.template=null,this.controller=null,this.defaults=e,this.variables=[],this.pattern=this.compile()};r.prototype.compile=function(){var t=this.path.replace(/(\/)?(\.)?\{([^}]+)\}(?:\(([^)]*)\))?(\?)?/g,function(t,r,e,o,i,n,s){var a="/"===(this.path[t.length+s]||"/");return this.variables.push(o),(a?"(?:":"")+(r||"")+(a?"":"(?:")+(e||"")+"("+(i||"[^/]+")+"))"+(n||"")}.bind(this));return t=t.replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.+)"),this.pattern=new RegExp("^"+t+"[\\/]?$","i"),this.pattern},r.prototype.match=function(r){var e=r.match(this.pattern);if(!e)return e;for(var o=[],i=e.slice(1),n=0;n<i.length;n++){var s=this.variables[n]||"wildcard",a=i[n]&&t(i[n]),l=o.push(a);o[s]=o[l-1]}return o&&o.wildcard&&(o["*"]=o.wildcard),o};var e=function(t){this.container=t,this.resolve=!1,this.kernel=this.container.get("kernel"),this.defaultAction=null,this.defaultView=null,this.variables=new Array,this.router=this.container.get("router"),this.browser=this.container.get("browser")};e.prototype.match=function(t,r){var e=t.match(r);return e&&(this.variables=e,this.url=r,this.route=t,this.parsePathernController(t.defaults.controller)),e};var o=/^(.*)Module[\.js]{0,3}$/;e.prototype.getModuleName=function(t){var r=o.exec(t);if(r)return r[1];throw"BAD MODULE PATTERN "},e.prototype.getController=function(t){return this.module.controllers[t+"Controller"]},e.prototype.getAction=function(t){var r=t+"Action";return r in this.controller?this.controller[r]:null},e.prototype.getDefaultView=function(t,r){var e=this.module.name+"Module:"+t+":"+r+".html.twig";return e},e.prototype.parsePathernController=function(t){if("string"!=typeof t)throw new Error("Resolver : pattern : "+t+" MUST be a string");this.route=this.router.getRouteByPattern(t);var r=t.split(":");try{this.module=this.kernel.getModule(this.getModuleName(r[0]))}catch(r){throw new Error("Resolver pattern error module :  "+t+" : "+r)}if(!this.module)throw new Error("Resolver : module not exist :"+r[0]);if(this.controller=this.getController(r[1]),!this.controller)throw new Error("Resolver :controller not exist :"+r[1]);if(r[2]){if(this.action=this.getAction(r[2]),!this.action)throw new Error("Resolver :In CONTROLLER: "+r[1]+" ACTION  :"+r[2]+" not exist")}else this.action=null;this.defaultView=this.getDefaultView(r[1],r[2]),this.resolve=!0},e.prototype.callController=function(t){try{var r=this.action.apply(this.controller,t||[])}catch(t){throw this.controller.logger.call(this.controller,t,"ERROR"),t}return r};var i=(!(!window.history||!window.history.pushState),function(t,r){this.kernel=t,this.container=r,this.notificationsCenter=this.container.get("notificationsCenter"),this.syslog=t.syslog,this.routes={},this.routePattern={},this.location=this.get("location"),this.browser=this.get("browser"),window.Twig.extendFunction("path",function(t,r,e){try{if(e)return this.generateUrl.apply(this,arguments);var o=this.generateUrl.apply(this,arguments);return o?"#"+o:""}catch(t){throw this.logger(t.error),t.error}}.bind(this)),this.notificationsCenter.listen(this,"onUrlChange",function(t,r,e,o){try{var i=this.resolve(t);if(!i.resolve)return void this.forward("appModule:app:404");var n=this.resolveRoute(r);n&&this.notificationsCenter.fire("onRouteChange",{id:i.route.id,route:i.route,args:i.variables},{id:n.route.id,route:n.route,args:n.variables})}catch(t){this.logger(t,"ERROR")}})});i.prototype.createRoute=function(t,e,o){t in this.routes&&this.logger("CREATE ROUTE : "+t+"Already exist ","ERROR");var i=new r(t,e,o);return this.routes[t]=i,this.routePattern[this.routes[t].defaults.controller]={route:this.routes[t],path:e},this.logger("CREATE ROUTE : "+t,"DEBUG"),i},i.prototype.getRoute=function(t){return this.routes[t]?this.routes[t]:null},i.prototype.resolveRoute=function(t){var r=new e(this.container),o=[];for(var i in this.routes){var n=this.routes[i];try{if(o=r.match(n,t))return r}catch(t){continue}}return null};var n=/(.*)\?.*$/;return i.prototype.resolve=function(t){var r=n.exec(t);r&&(t=r[1]);var o=new e(this.container),i=[];for(var s in this.routes){var a=this.routes[s];try{if(i=o.match(a,t)){this.notificationsCenter.fire("onBeforeAction",t,o);var l=o.callController(i);this.notificationsCenter.fire("onAfterAction",t,o,l);break}}catch(r){this.logger("RESOLVE URL : "+t+" "+r,"ERROR"),this.forward("appModule:app:500",[r])}}return o},i.prototype.getRouteByPattern=function(t,r){if(t in this.routePattern){var e=this.routePattern[t].route;return e}return null},i.prototype.resolvePattern=function(t){var r=new e(this.container);r.parsePathernController(t);return r},i.prototype.forward=function(t,r){var e=this.resolvePattern(t);if(e.resolve)try{if(e.route)this.logger("FORWARD PATTERN : "+t+"  FIND ROUTE ==> REDIRECT ","DEBUG"),this.redirect(e.route.path);else{this.logger("FORWARD PATTERN : "+t+"  NO ROUTE FIND  ==> CALL CONTROLLER","DEBUG");e.callController(r)}}catch(r){this.logger("FORWARD "+t+" CALL CONTROLER  "+e.controller.name+" : "+r,"ERROR"),this.forward("appModule:app:500",[r])}else this.logger("Router Can't resolve : "+t,"ERROR");return!1},i.prototype.redirect=function(t){this.location.url(t),this.logger("REDIRECT URL : "+t+" BROWSER  URL :"+this.location.absUrl(),"DEBUG"),this.browser.url(this.location.absUrl(),!0)},i.prototype.generateUrl=function(t,r,e){var o=this.getRoute(t);if(!o)return this.logger("no route to host  :"+t,"WARNING"),null;var i=o.path;if(o.variables.length){if(!r){for(var n="",s=0;s<o.variables.length;s++)n+="{"+o.variables[s]+"} ";return this.logger("router generate path route '"+t+"' must have variable "+n,"ERROR"),null}for(var a in r)if("_keys"!==a){var l=o.variables.indexOf(a);if(!(l>=0))return this.logger("router generate path route '"+t+"' don't  have variable "+a,"WARNING"),null;i=i.replace("{"+a+"}",r[a])}}return e?e+"#"+i:i},i.prototype.logger=function(t,r,e,o){return e||(e="ROUTER "),this.syslog.logger(t,r,e,o)},i.prototype.listen=function(){return this.notificationsCenter.listen.apply(this.notificationsCenter,arguments)},i.prototype.fire=function(){return this.notificationsCenter.fire.apply(this.notificationsCenter,arguments)},i.prototype.set=function(t,r){return this.container.set(t,r)},i.prototype.get=function(t,r){return this.container.get(t,r)},i.prototype.setParameters=function(t,r){return this.container.setParameters(t,r)},i.prototype.getParameters=function(t){return this.container.getParameters},i});stage.register("Controller",function(){var Controller=function(t,e){this.notificationsCenter=this.get("notificationsCenter"),this.kernel=this.get("kernel"),this.i18n=this.kernel.i18n,this.router=this.kernel.router};Controller.prototype.redirect=function(t){return this.router.redirect.apply(this.router,arguments)},Controller.prototype.forward=function(t,e){return this.router.forward(t,e)},Controller.prototype.generateUrl=function(t,e,r){if(r===!0){this.router.url().split("#");r=this.router.url[0]}return this.router.generateUrl.apply(this.router,arguments)},Controller.prototype.evalInContext=function(js,context){var func=function(context){var $controller=context;return function(js){"use strict";return eval(js)}}(this);try{return func.call(context||this,jQuery.trim(js))}catch(t){this.logger("DOM PARSER TWIG ERROR "+t,"ERROR")}};var tabFxEvent=["stage-click","stage-dblclick","stage-focus","stage-blur","stage-mouseover","stage-mouseout","stage-mouseenter","stage-mouseleave","stage-change"];return Controller.prototype.domParser=function(t){var e=this;t.find("["+tabFxEvent.join("],[")+"]").each(function(t,r){var n=r.attributes,o=$(r),i=o.closest("[stage-ctrl]");if(i.length){var a=$(i).attr("stage-ctrl");try{var s=e.router.resolvePattern(a).controller}catch(t){return void e.logger("DOM PARSER ERROR : "+t,"ERROR")}}else var s=e;for(var l=0;l<n.length;l++){var u=n[l];if(tabFxEvent.indexOf(u.name)>-1){(function(){var t=u.value;o.on(u.name.replace("stage-",""),function(){s.evalInContext(t,this)})})()}}})},Controller.prototype.render=function(t,e,r){var n=$(t);try{switch(r){case"append":n.append(e);break;case"prepend":n.prepend(e);break;default:n.empty(),n.html(e)}return this.domParser(n)}catch(t){this.logger("DOM PARSER TWIG ERROR : "+t,"ERROR")}},Controller.prototype.renderPartial=function(t,e){try{var r=this.module.getTemplatePattern(t);return r.render(e)}catch(t){this.logger(t,"ERROR")}},Controller.prototype.set=function(t,e){return this.container.set(t,e)},Controller.prototype.get=function(t,e){return this.container.get(t,e)},Controller.prototype.setParameters=function(t,e){return this.container.setParameters(t,e)},Controller.prototype.getParameters=function(t){return this.container.getParameters(t)},Controller.prototype.logger=function(t,e,r,n){var o=this.get("syslog");return r||(r="MODULE: "+this.module.name+" CONTROLLER: "+this.name),o.logger(t,e,r,n)},Controller.prototype.listen=function(){return this.notificationsCenter.listen.apply(this.notificationsCenter,arguments)},Controller.prototype.fire=function(t){return this.notificationsCenter.fire.apply(this.notificationsCenter,arguments)},Controller});stage.register("Module",function(){var t=function(t){this.rootName="module";var e=this.parser(t);this.name=e.module["@id"]};t.prototype.parser=function(t){switch(stage.typeOf(t)){case"document":var e=stage.xml.parseXml(t);break;case"object":e=t}if(!e[this.rootName])throw new Error("BAD MODULE CONFIG ");return this.config=e[this.rootName],e},t.prototype.registerScript=function(t){this.autoloader.load(t,function(e,r){return e?void this.logger(e,"ERROR"):void this.logger("LOAD SCRIPT : "+t,"DEBUG")}.bind(this))},t.prototype.registerStyle=function(t){this.autoloader.load(t,function(e,r){return e?void this.logger(e,"ERROR"):void this.logger("LOAD STYLE : "+t,"DEBUG")}.bind(this))},t.prototype.cacheFont=function(t){$.ajax({async:!1,cache:!0,url:t,beforeSend:function(t){t.overrideMimeType("application/octet-stream")},success:function(){this.logger("LOAD FONT : "+t,"DEBUG")}.bind(this),error:function(){this.logger(t+" : "+message,"ERROR")}.bind(this)})};var e=function(t,e,r,i,o){var s=e.indexOf("views");if(s<0){var a="URL TEMPLATE BAD PATH :"+e;throw this.logger(a,"ERROR"),new Error(a)}var n=e.slice(s+"views".length+1).split("/");if(n.pop(),n.length)for(var o=t,h=0;h<n.length;h++)o[n[h]]?h!==n.length-1?o=o[n[h]]:o[n[h]][r]=i:h!==n.length-1?(o[n[h]]={},o=o[n[h]]):(o[n[h]]={},o[n[h]][r]=i);else t[r]=i};t.prototype.registerTemplate=function(t,r,i){switch(i){case"application/twig":this.twig({id:this.name+":"+t,href:r,async:!1,load:function(i){e.call(this,this.templates,r,t,i),this.logger("LOAD TEMPLATE : "+t+" ==>"+r,"DEBUG")}.bind(this),error:function(t,e,i){this.logger("TEMPLATE :"+r+" : "+i,"ERROR")}.bind(this)});break;case"text/html":break;case"application/xml":case"text/xml":break;case"template":e.call(this,this.templates,r.url,t,r);this.logger("LOAD IMPORT TEMPLATE : "+t+" ==>"+r.url,"DEBUG");break;default:arguments.callee.call(this,t,r,"application/twig")}},t.prototype.registerView=function(t,e,r){switch(r){case"text/javascript":case"application/javascript":this.autoloader.load(e,function(r,i){if(r)return void this.logger(r,"ERROR");var o=stage.views[t];this.views[t]=new o(this.container,this),this.logger("LOAD VIEW : "+e,"DEBUG")}.bind(this))}},t.prototype.registerController=function(t,e){this.autoloader.load(e,function(r,i){if(r)throw this.logger(r,"ERROR"),r;this.logger("LOAD CONTROLLER : "+t+" ==>"+e,"DEBUG");var o=stage.controllers[t].herite(stage.Controller);o.prototype.container=this.container,o.prototype.name=t,o.prototype.module=this,this.controllers[t]=new o(this.container,this)}.bind(this))},t.prototype.initialiseRest=function(t,e,r){var i=this.kernel.restService,o=i.addApi(t,e,r);this.kernel.set(t,o)};var r=new RegExp("^(.*).(.._..).(.*)$");t.prototype.registerTranslation=function(t,e){var i=this.get("i18n");return i?void $.ajax({url:t,async:!1,success:function(o,s,a){var n=stage.basename(t);this.logger("LOAD TRANSLATION "+e+" : "+n+" URL = "+t,"DEBUG");var h=r.exec(n);if(!h)return void this.logger("SERVICE I18N  abort load Translation : "+t+" Bad File name format","WARNING");var l=h[1],c=h[2];i.registerI18n(n,c,l,o)}.bind(this),dataType:e||"json",error:function(t,e,r){this.logger(r,"ERROR")}.bind(this)}):void this.logger("SERVICE I18N not loaded abort load Translation : "+t,"WARNING")},t.prototype.reader=function(){var t=this.config;for(var e in this.config)switch(e){case"content":break;case"controllers":var r=t[e].controller;if(r)for(var i="object"===stage.typeOf(r)?[r]:r,o=0;o<i.length;o++){var s=i[o]["@name"],a=i[o]["@src"];this.registerController(s,a)}break;case"views":var n=t[e].view;if(n)for(var i="object"===stage.typeOf(n)?[n]:n,o=0;o<i.length;o++){var s=i[o]["@name"],a=i[o]["@src"],h=i[o]["@type"];this.registerView(s,a,h)}break;case"modules":var l=t[e].module;if(l)for(var i="object"===stage.typeOf(l)?[l]:l,o=0;o<i.length;o++){var c=i[o]["@href"];this.isDomReady?this.kernel.loadModule(c):this.kernel.listen(this,"onBoot",function(t){this.kernel.loadModule(t,{async:!1})}.bind(this,c))}break;case"templates":var g=t[e].template;if(g)for(var i="object"===stage.typeOf(g)?[g]:g,o=0;o<i.length;o++){var s=i[o]["@name"],a=i[o]["@src"],h=i[o]["@type"];s||(s=this.getTemplateName(a)),this.registerTemplate(s,a,h)}break;case"styles":var f=t[e].style;if(f)for(var i="object"===stage.typeOf(f)?[f]:f,o=0;o<i.length;o++){var a=i[o]["@src"];this.registerStyle(a)}break;case"scripts":var p=t[e].script;if(p)for(var i="object"===stage.typeOf(p)?[p]:p,o=0;o<i.length;o++){var a=i[o]["@src"];this.registerScript(a)}break;case"fonts":var u=t[e].font;if(u)for(var i="object"===stage.typeOf(u)?[u]:u,o=0;o<i.length;o++){var a=i[o]["@src"];this.cacheFont(a)}break;case"translations":var d=t[e].translation;if(d)for(var i="object"===stage.typeOf(d)?[d]:d,o=0;o<i.length;o++){var a=i[o]["@src"],h=i[o]["@type"];this.registerTranslation(a,h)}break;case"icon":this.icon=t[e]["@src"];break;case"preference":break;case"author":var v=t[e];this.author=v["#text"],this.emailAuthor=v["@email"],this.authorLink=v["@href"];break;case"description":this.description=t[e];break;case"api":for(var R in t[e])for(var E=t[e][R],i="object"===stage.typeOf(E)?[E]:E,o=0;o<i.length;o++)"rest"===R?this.kernel.restService?this.initialiseRest(i[o]["@name"],i[o]["@url"]):this.logger("Api "+R+" SERVICE REST NOT FOUND","ERROR"):this.logger("Api "+R+" not exist for modules","ERROR");break;case"routes":var m=t[e].route;switch(stage.typeOf(m)){case"array":for(var o=0;o<m.length;o++){var y=m[o]["@id"],O=m[o]["@path"],b={};switch(stage.typeOf(m[o].default)){case"array":for(var T=0;T<m[o].default.length;T++)b[m[o].default[T]["@key"]]=m[o].default[T]["#text"];break;case"object":m[o].default["@key"]&&(b[m[o].default["@key"]]=m[o].default["#text"])}this.routes[y]=this.router.createRoute(y,O,b)}break;case"object":for(var w in m)switch(w){case"@id":var y=m[w];break;case"@path":var O=m[w];break;case"default":var b={};switch(stage.typeOf(m[w])){case"array":for(var T=0;T<m[w].length;T++)b[m[w][T]["@key"]]=m[w][T]["#text"];break;case"object":b[m[w]["@key"]]=m[w]["#text"]}}this.routes[y]=this.router.createRoute(y,O,b)}}};var i=function(t,e,r){this.kernel=t,this.container=t.container,this.syslog=this.get("syslog"),this.logger("REGISTER MODULE "+this.name,"DEBUG"),this.autoloader=new stage.autoload(this,{transport:"script"}),this.views={},this.controllers={},this.templates={},this.routes={},this.twig=this.get("twig"),this.model=this.$super,this.model.constructor(e),this.setParameters("module."+this.name,this.config),this.set(this.name,this),this.boot(r)}.herite(t);i.prototype.getController=function(t){return this.controllers[t]},i.prototype.getTemplate=function(t){return this.templates[t]},i.prototype.getTemplateName=function(t){var e=stage.basename(t),r=e.indexOf(".");return r<0?t:e.slice(0,e.indexOf("."))};var o=/(.*)Module:(.*):(.*)$/;return i.prototype.getTemplatePattern=function(t){var e=o.exec(t);if(!e){var r="IN PATTERN :"+t+" BAD FORMAT ";throw this.logger(r,"ERROR"),new Error(r)}var i=e[1],s=e[2],a=e[3],n=this.kernel.getModule(i);if(!n){var r="IN PATTERN :"+t+" MODULE :"+i+" not defined";throw this.logger(r,"ERROR"),new Error(r)}var h=n.templates;if(""!==s)for(var l=s.split("/"),c=0;c<l.length;c++)if(l[c]){if(!(l[c]in h)){var r="IN PATTERN :"+t+" pathName :"+s+" not defined";throw this.logger(r,"ERROR"),new Error(r)}h=h[l[c]]}if(""!==a){var g=this.getTemplateName(a);if(h[g])return h[g];var r="IN PATTERN :"+t+" MODULE :"+i+"  template : "+a+" not defined";throw this.logger(r,"ERROR"),new Error(r)}if(h.index)return h.index;var r="IN PATTERN :"+t+" MODULE :"+i+" default template not defined";throw this.logger(r,"ERROR"),new Error(r)},i.prototype.getView=function(t){return this.views[t]},i.prototype.boot=function(t){this.logger("BOOT "+this.name,"DEBUG"),this.container=this.kernel.container.enterScope(this.name),this.notificationsCenter=stage.notificationsCenter.create(t,this),this.set("notificationsCenter",this.notificationsCenter),this.router=this.kernel.router;try{this.fire("onBoot",this),this.reader(),this.fire("onReady",this)}catch(t){throw this.logger("MODULE : "+this.name+"  "+t,"ERROR"),t}},i.prototype.listen=function(){return this.notificationsCenter.listen.apply(this.notificationsCenter,arguments)},i.prototype.fire=function(t){return this.logger(t+" : "+this.name,"DEBUG","EVENT MODULE"),this.notificationsCenter.fire.apply(this.notificationsCenter,arguments)},i.prototype.logger=function(t,e,r,i){return r||(r="MODULE  "+this.name),this.syslog.logger(t,e,r,i)},i.prototype.get=function(t){return this.container.get(t)},i.prototype.set=function(t,e){return this.container.set(t,e)},i.prototype.setParameters=function(t,e){return this.container.setParameters(t,e)},i.prototype.getParameters=function(t){return this.container.getParameters(t)},i});stage.register("i18n",function(){var t={},e={fr_FR:"franais",en_EN:"english"},n=/(..)-?.*/,a=function(e,a){this.container=a,this.syslog=this.container.get("syslog"),this.logger("INITIALIZE I18N SERVICE","DEBUG"),this.kernel=e,this.container.setParameters("translate",t),this.defaultDomain=this.trans_default_domain();var i=navigator.language||navigator.userLanguage,s=n.exec(i);s?(i=s[1],this.defaultLocale=i+"_"+i.toUpperCase(),t[this.defaultLocale]={}):this.defaultLocale="fr_FR",this.kernel.listen(this,"onBoot",function(){this.boot()}.bind(this))};return a.prototype.logger=function(t,e,n,a){return n||(n="SERVICE I18N "),this.syslog.logger(t,e,n,a)},a.prototype.boot=function(){this.container.getParameters("module.app")&&(this.defaultLocale=this.container.getParameters("module.app").locale),t[this.defaultLocale]||(t[this.defaultLocale]={}),this.logger("DEFAULT LOCALE APPLICATION ==> "+this.defaultLocale,"DEBUG"),window.Twig&&(window.Twig.extendFunction("getLangs",this.getLangs.bind(this)),window.Twig.extendFunction("trans_default_domain",this.trans_default_domain.bind(this)),window.Twig.extendFilter("trans",this.translation.bind(this)),window.Twig.extendFunction("trans",this.translation.bind(this)),window.Twig.extendFilter("getLangs",this.getLangs.bind(this)))},a.prototype.getLangs=function(t,n){var a=[];for(var i in e)a.push({name:e[i],value:i});return a},a.prototype.registerI18n=function(e,n,a,i){n&&(t[n]||(t[n]=stage.extend(!0,{},t[this.defaultLocale]))),a?(t[n][a]||(t[n][a]=stage.extend(!0,{},t[this.defaultLocale][a])),stage.extend(!0,t[n][a],i)):stage.extend(!0,t[n],i)},a.prototype.trans_default_domain=function(t){return t?this.defaultDomain=t:this.defaultDomain="messages"},a.prototype.translation=function(t,e){var n=e&&e[1]?e[1]:this.defaultDomain,a=this.container.getParameters("translate."+this.defaultLocale+"."+n+"."+t)||t;if(e&&e[0])for(var i in e[0])a=a.replace(i,e[0][i]);return a},a});stage.register("location",function(){var t=!(!window.history||!window.history.pushState),i=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,r={http:80,https:443},e=function(t){var i=null,r=this.kernel.locationService,e=this.url();if(e!==this.lastUrl||e!==this.location.href||this.lastUrl===r.initialUrl){if(!t){this.kernel.logger(" FORCE URL CHANGE BROWER EVENT NOT FIRE","WARNING");var s=r.url();return this.kernel.notificationsCenter.fire("onUrlChange",s,this.lastHash,e,i),this.lastUrlr=e,void(this.lastHash=s)}var h=r.parse(e);if(!h)return this.kernel.notificationsCenter.fire("onUrlChange","",this.lastHash,e,i),this.lastUrl="",void(this.lastHash="");var s=r.url();this.kernel.notificationsCenter.fire("onUrlChange",s,this.lastHash,e,i),this.lastUrl=e,this.lastHash=s}},s=function(t,i){this.location=window.location,this.history=window.History,this.lastUrl=this.url(),this.kernel=t,$(window).bind("hashchange",e.bind(this))};s.prototype.url=function(i){return t&&i.html5Mode?function(t,i,r){}:function(t,i,r){if(t){this.kernel&&this.kernel.get("location")&&this.location!==window.location&&(this.location=window.location);var s=t===this.lastUrl&&t===this.location.href;return this.history!==window.history&&(this.history=window.history),this.kernel.logger(i?"REPLACE URL : "+t:"CHANGE URL : "+t,"WARNING"),s?(t===this.kernel.locationService.initialUrl&&e.call(this),t):i?(this.location.replace(t),t):this.location.href=t}return this.location.href.replace(/%27/g,"'")}};var h=function(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))},o=function(t,i){if(0===i.indexOf(t))return i.substr(t.length)},n=function(t,i,r,e){this.settings=e,this.kernel=r,this.browser=t,this.container=this.kernel.container,this.replace=!1,this.initialUrl=this.browser.url(),this.base=i,this.hashPrefix="#"+this.settings.hashPrefix,this.proto=this.stripFile(this.base),this.parseAbsoluteUrl(this.initialUrl),this.parse(this.initialUrl)};n.prototype.logger=function(t,i,r,e){return r||(r="SERVICE LOCATION "),this.kernel.syslog.logger(t,i,r,e)},n.prototype.listen=function(){return this.kernel.notificationsCenter.listen.apply(this.kernel.notificationsCenter,arguments)},n.prototype.fire=function(){return this.kernel.notificationsCenter.fire.apply(this.kernel.notificationsCenter,arguments)},n.prototype.set=function(t,i){return this.container.set(t,i)},n.prototype.get=function(t,i){return this.container.get(t,i)},n.prototype.absUrl=function(){return this._absUrl},n.prototype.url=function(t){if("undefined"==typeof t)return this._url;var r=i.exec(t);r[1]&&this.path(decodeURIComponent(r[1])),(r[2]||r[1])&&this.search(r[3]||""),this.hash(r[5]||"")},n.prototype.protocol=function(){return this._protocol},n.prototype.host=function(){return this._host},n.prototype.port=function(){return this._port},n.prototype.path=function(t){if("undefined"==typeof t)return this._path;this._path=t;try{this.change()}catch(t){throw this.logger(t,"ERROR"),t}return this._path},n.prototype.search=function(t){if("undefined"==typeof t)return this._search;this._search=t;try{this.change()}catch(t){throw this.logger(t,"ERROR"),t}return this._search},n.prototype.hash=function(t){if("undefined"==typeof t)return this._hash;this._hash=t;try{this.change()}catch(t){throw this.logger(t,"ERROR"),t}return this._hash},n.prototype.state=function(){},n.prototype.replace=function(t){return t?this.replace=t:this.replace},n.prototype.encodePath=function(t){for(var i=t.split("/"),r=i.length;r--;)i[r]=stage.io.encodeUriSegment(i[r]);return i.join("/")},n.prototype.stripFile=function(t){return t.substr(0,a(t).lastIndexOf("/")+1)};var a=function(t){var i=t.indexOf("#");return i==-1?t:t.substr(0,i)};n.prototype.parseRelativeUrl=function(t){var i="/"!==t.charAt(0);i&&(t="/"+t);var r=stage.io.urlToOject(t);this._path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),this._search=stage.io.parseKeyValue(r.search),this._hash=decodeURIComponent(r.hash),"undefined"!=typeof this._path&&"/"!=this._path.charAt(0)&&(this._path="/"+this._path)},n.prototype.parseAbsoluteUrl=function(t){var i=stage.io.urlToOject(t);this._protocol=i.protocol.replace(":",""),this._host=i.hostname,this._port=parseInt(i.port,10)||r[this._protocol]||null};var l=function(t,i,r,e){this.mother=this.$super,this.mother.constructor(t,i,r,e)}.herite(n);l.prototype.parse=function(t){var i=o(this.base,t)||o(this.proto,t),r="#"==i.charAt(0)?o(this.hashPrefix,i):"";return"string"!=typeof r?(this.logger("Invalid url "+t+", missing hash prefix "+this.hashPrefix,"ERROR"),null):(this.parseRelativeUrl(r),this.change())},l.prototype.change=function(){var t=stage.io.toKeyValue(this._search),i=this._hash?"#"+this._hash:"";return this._url=this.encodePath(this._path)+(t?"?"+t:"")+i,this._absUrl=this.base+(this._url?"#"+this._url:""),this};var p=function(t,i,r,e){this.mother=this.$super,this.mother.constructor(t,i,r,e)}.herite(l);p.prototype.parse=function(t){return this.change()},p.prototype.change=function(){return this};var c=function(t,i,r,e){this.mother=this.$super,this.mother.constructor(t,i,r,e)}.herite(n);c.prototype.parse=function(t){var i=o(this.proto,t);return i&&this.parseRelativeUrl(i),this._path||(this._path="/"),this.change()},c.prototype.change=function(){var t=stage.io.toKeyValue(this._search),i=this._hash?"#"+stage.io.encodeUriSegment(this._hash):"";return this._url=this.encodePath(this._path)+(t?"?"+t:"")+i,this._absUrl=this.proto+this._url.substr(1),this};var u={html5Mode:!0,hashPrefix:"/"},f=function(i,r){var e=$.extend(u,r);s.prototype.url=s.prototype.url(e);var o=new s(i,e);i.set("browser",o);var n=o.url(),f=e.base||"";if(e.html5Mode)var g=t?c:p,y=h(n)+(f||"/");else var g=l,y=a(n);return new g(o,y,i,e)};return f});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.adapter=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){var n=t[o][1][e];return i(n?n:e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r={};r.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){var t=e.split("\nm=");return t.map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},r.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.getDtlsParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i=n.filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14),a={role:"auto",fingerprints:[{algorithm:i.split(" ")[0],value:i.split(" ")[1]}]};return a},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),a=3;a<i.length;a++){var o=i[a],s=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var c=r.parseRtpMap(s),d=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(c.parameters=d.length?r.parseFmtp(d[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";return n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}),n+="a=rtcp-mux\r\n"},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,d=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});d.length>0&&d[0].length>1&&d[0][0]===c&&(t=d[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{payloadType:e.payloadType,ssrc:t}};n.push(r),a&&(r=JSON.parse(JSON.stringify(r)),r.fec={ssrc:t,mechanism:o?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var p=r.matchPrefix(e,"b=");return p.length&&(0===p[0].indexOf("b=TIAS:")?p=parseInt(p[0].substr(7),10):0===p[0].indexOf("b=AS:")&&(p=parseInt(p[0].substr(5),10)),n.forEach(function(e){e.maxBitrate=p})),n},r.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",a+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},t.exports=r},{}],2:[function(e,t,n){"use strict";!function(){var n=e("./utils").log,r=e("./utils").browserDetails;t.exports.browserDetails=r,t.exports.extractVersion=e("./utils").extractVersion,t.exports.disableLog=e("./utils").disableLog;var i=e("./chrome/chrome_shim")||null,a=e("./edge/edge_shim")||null,o=e("./firefox/firefox_shim")||null,s=e("./safari/safari_shim")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void n("Chrome shim is not included in this adapter release.");n("adapter.js shimming chrome."),t.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!o||!o.shimPeerConnection)return void n("Firefox shim is not included in this adapter release.");n("adapter.js shimming firefox."),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimSourceObject(),o.shimPeerConnection(),o.shimOnTrack();break;case"edge":if(!a||!a.shimPeerConnection)return void n("MS edge shim is not included in this adapter release.");n("adapter.js shimming edge."),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimPeerConnection();break;case"safari":if(!s)return void n("Safari shim is not included in this adapter release.");n("adapter.js shimming safari."),t.exports.browserShim=s,s.shimGetUserMedia();break;default:n("Unsupported browser!")}}()},{"./chrome/chrome_shim":3,"./edge/edge_shim":5,"./firefox/firefox_shim":7,"./safari/safari_shim":9,"./utils":10}],3:[function(e,t,n){"use strict";var r=e("../utils.js").log,i=e("../utils.js").browserDetails,a={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;return this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),void e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,a=arguments;if(arguments.length>0&&"function"==typeof e)return i(e,t);var o=function(e){var t={},n=e.result();return n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));return t=t||e,Object.keys(t).forEach(function(e){n[e]=t[e]}),n};if(arguments.length>=2){var c=function(e){a[1](s(o(e)))};return i.apply(this,[c,arguments[0]])}return new Promise(function(t,n){1===a.length&&"object"==typeof e?i.apply(r,[function(e){t(s(o(e)))},n]):i.apply(r,[function(e){t(s(o(e),e.result()))},n])}).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){t.apply(e,[r,i,n])})}return t.apply(this,arguments)}}),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise(function(r,i){t.apply(n,[e[0],r,i])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)}}};t.exports={shimMediaStream:a.shimMediaStream,shimOnTrack:a.shimOnTrack,shimSourceObject:a.shimSourceObject,shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils.js":10,"./getusermedia":4}],4:[function(e,t,n){"use strict";var r=e("../utils.js").log;t.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[i("min",n)]=r.ideal,t.optional.push(a),a={},a[i("max",n)]=r.ideal,t.optional.push(a)):(a[i("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if(t=JSON.parse(JSON.stringify(t)),t&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var i=t.video.facingMode;if(i=i&&("object"==typeof i?i:{ideal:i}),i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(a){a=a.filter(function(e){return"videoinput"===e.kind});var o=a.find(function(e){return e.label.toLowerCase().indexOf("back")!==-1})||a.length&&a[a.length-1];return o&&(t.video.deviceId=i.exact?{exact:o.deviceId}:{ideal:o.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)});t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(e,r,i){t(e,function(e){navigator.webkitGetUserMedia(e,r,function(e){i(n(e))})})};navigator.getUserMedia=i;var a=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:a,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return o(e).catch(function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return a(e)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":10}],5:[function(e,t,n){"use strict";var r=e("sdp"),i=e("../utils").browserDetails,a={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter(function(e){if(e&&e.urls){var t=e.urls;return"string"==typeof t&&(t=[t]),t=t.filter(function(e){return 0===e.indexOf("turn:")&&e.indexOf("transport=udp")!==-1&&e.indexOf("turn:[")===-1||0===e.indexOf("stun:")&&i.version>=14393})[0],!!t}return!1})}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var r=!n.candidate||0===Object.keys(n.candidate).length;if(r)for(var i=1;i<t.length;i++)t[i].indexOf("\r\na=end-of-candidates\r\n")===-1&&(t[i]+="a=end-of-candidates\r\n");else n.candidate.candidate.indexOf("typ endOfCandidates")===-1&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){var a=e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});a&&(e.iceGatheringState="complete")}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i),i.rtcpFeedback=i.rtcpFeedback.filter(function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),a=new RTCIceTransport(i);i.onlocalcandidate=function(o){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=o.candidate,d=!c||0===Object.keys(c).length;d?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===a.component?2:1,s.candidate.candidate=r.writeCandidate(c));var p=r.splitSections(n.localDescription.sdp);s.candidate.candidate.indexOf("typ endOfCandidates")===-1?p[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":p[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=p.join("");var u=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),d&&u&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),u&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete");break;case"complete":}},a.onicestatechange=function(){n._updateConnectionState()};var o=new RTCDtlsTransport(a);return o.ondtlsstatechange=function(){n._updateConnectionState()},o.onerror=function(){o.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:a,dtlsTransport:o}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&(i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var o=i.transceivers[t],s=o.iceGatherer,c=o.iceTransport,d=o.dtlsTransport,p=o.localCapabilities,u=o.remoteCapabilities,f="0"===e.split("\n",1)[0].split(" ",2)[1];if(!f){var l=r.getIceParameters(e,n);if(a){var m=r.matchPrefix(e,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});m.length&&c.setRemoteCandidates(m)}var h=r.getDtlsParameters(e,n);a&&(h.role="server"),i.usingBundle&&0!==t||(c.start(s,l,a?"controlling":"controlled"),d.start(h));var v=i._getCommonCapabilities(p,u);i._transceive(o,v.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&"function"==typeof arguments[1];if(o){var s=arguments[1];window.setTimeout(function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var c=Promise.resolve();return c.then(function(){o||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],a=r.splitSections(e.sdp),o=a.shift(),s=r.matchPrefix(o,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(o,"a=group:BUNDLE ").length>0,a.forEach(function(a,c){var d,p,u,f,l,m,h,v,g,w,C,y,b=r.splitLines(a),T=b[0].substr(2).split(" "),P=T[0],S="0"===T[1],R=r.getDirection(a,o),E=r.parseRtpParameters(a);S||(C=r.getIceParameters(a,o),y=r.getDtlsParameters(a,o),y.role="client"),v=r.parseRtpEncodingParameters(a);var k=r.matchPrefix(a,"a=mid:");k=k.length?k[0].substr(6):r.generateIdentifier();var x,O=r.matchPrefix(a,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];O&&(x=O.value);var D=r.matchPrefix(a,"a=end-of-candidates",o).length>0,M=r.matchPrefix(a,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||S)"answer"!==e.type||S||(d=t.transceivers[c],p=d.iceGatherer,u=d.iceTransport,f=d.dtlsTransport,l=d.rtpSender,m=d.rtpReceiver,h=d.sendEncodingParameters,g=d.localCapabilities,t.transceivers[c].recvEncodingParameters=v,t.transceivers[c].remoteCapabilities=E,t.transceivers[c].cname=x,(s||D)&&M.length&&u.setRemoteCandidates(M),t.usingBundle&&0!==c||(u.start(p,C,"controlling"),f.start(y)),t._transceive(d,"sendrecv"===R||"recvonly"===R,"sendrecv"===R||"sendonly"===R),!m||"sendrecv"!==R&&"sendonly"!==R?delete d.rtpReceiver:(w=m.track,i.push([w,m]),n.addTrack(w)));else{var j=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(k,c);if(D&&j.iceTransport.setRemoteCandidates(M),g=RTCRtpReceiver.getCapabilities(P),h=[{ssrc:1001*(2*c+2)}],m=new RTCRtpReceiver(j.dtlsTransport,P),w=m.track,i.push([w,m]),n.addTrack(w),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c){var L;"audio"===P?L=t.localStreams[0].getAudioTracks()[0]:"video"===P&&(L=t.localStreams[0].getVideoTracks()[0]),L&&(l=new RTCRtpSender(L,j.dtlsTransport))}t.transceivers[c]={iceGatherer:j.iceGatherer,iceTransport:j.iceTransport,dtlsTransport:j.dtlsTransport,localCapabilities:g,remoteCapabilities:E,rtpSender:l,rtpReceiver:m,kind:P,mid:k,cname:x,sendEncodingParameters:h,recvEncodingParameters:v},t._transceive(t.transceivers[c],!1,"sendrecv"===R||"sendonly"===R)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(r){var i=r[0],a=r[1],o=new Event("track");o.track=i,o.receiver=a,o.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n.new>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var n=[],i=0,a=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,a=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.offerToReceiveAudio&&(i=t.offerToReceiveAudio),void 0!==t.offerToReceiveVideo&&(a=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:a>0}),"audio"===e.kind?i--:"video"===e.kind&&a--});i>0||a>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),a>0&&(n.push({kind:"video",wantReceive:!0}),a--);var o=r.writeSessionBoilerplate(),s=[];n.forEach(function(t,n){var i,a,o=t.track,c=t.kind,d=r.generateIdentifier(),p=e.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:e._createIceAndDtlsTransports(d,n),u=RTCRtpSender.getCapabilities(c),f=[{ssrc:1001*(2*n+1)}];o&&(i=new RTCRtpSender(o,p.dtlsTransport)),t.wantReceive&&(a=new RTCRtpReceiver(p.dtlsTransport,c)),s[n]={iceGatherer:p.iceGatherer,iceTransport:p.iceTransport,dtlsTransport:p.dtlsTransport,localCapabilities:u,remoteCapabilities:null,rtpSender:i,rtpReceiver:a,kind:c,mid:d,sendEncodingParameters:f,recvEncodingParameters:null}}),this.usingBundle&&(o+="a=group:BUNDLE "+s.map(function(e){return e.mid}).join(" ")+"\r\n"),n.forEach(function(t,n){var i=s[n];o+=r.writeMediaSection(i,i.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:o});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach(function(e){e.iceTransport.addRemoteCandidate({})});else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var a=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===a.protocol&&(0===a.port||9===a.port))return;if("1"!==a.component)return;"endOfCandidates"===a.type&&(a={}),i.iceTransport.addRemoteCandidate(a);var o=r.splitSections(this.remoteDescription.sdp);o[t+1]+=(a.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=o.join("")}}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];
this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){r.set(t,e[t]),r[t]=e[t]})}),t&&window.setTimeout(t,0,r),n(r)})})}}};t.exports={shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":6,sdp:1}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n).catch(function(t){return Promise.reject(e(t))})}}},{}],7:[function(e,t,n){"use strict";var r=e("../utils").browserDetails,i={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(r.version<38&&e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];if(a.hasOwnProperty("urls"))for(var o=0;o<a.urls.length;o++){var s={url:a.urls[o]};0===a.urls[o].indexOf("turn")&&(s.username=a.username,s.credential=a.credential),n.push(s)}else n.push(e.iceServers[i])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,r,i){return n.apply(this,[e||null]).then(function(e){return t(e)}).then(r,i)}}}};t.exports={shimOnTrack:i.shimOnTrack,shimSourceObject:i.shimSourceObject,shimPeerConnection:i.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":8}],8:[function(e,t,n){"use strict";var r=e("../utils").log,i=e("../utils").browserDetails;t.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,a){var o=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),i.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=o(t.audio)),t.video&&(t.video=o(t.video)),r("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,function(t){a(e(t))})},n=function(e){return new Promise(function(n,r){t(e,n,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})},i.version<41){var a=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return a().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(i.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).catch(function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,r){return i.version<44?t(e,n,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(e).then(n,r))}}},{"../utils":10}],9:[function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};t.exports={shimGetUserMedia:r.shimGetUserMedia}},{}],10:[function(e,t,n){"use strict";var r=!0,i={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(r)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return e}};t.exports={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},{}]},{},[2])(2)});stage.register("media",function(){var t=null,e=function(){return t=window.AudioContext||window.webkitAudioContext,!!t}(),i={gain:!0,panner:!0,filter:!1,analyser:!1,connect:!0},s=function(t,e,s){this.media=t,this.bus=e,this.settings=stage.extend({},i,s),this.audioNodes={},this.audioBus={},this.transport=null,this.context=e.audioContext,this.source=null,this.buffer=null,this.out=null,this.in=null,this.name=this.settings.name,this.id=this.generateId(),this.sync=0,this.retry=0,this.ready=!1,this.muted=!1,this.currentTime=0,this.eventsManager=stage.notificationsCenter.create(this.settings,this),this.createNodes(),this.settings.connect&&this.connect(this.bus.in),this.listen(this,"onReady",function(){this.bus.mixer.fire("onReadyTrack",this.bus,this)});var n=stage.typeOf(t);switch(n){case"object":switch(!0){case t instanceof u:this.mediaType="stream",this.buffer=t.stream,this.url=stage.io.urlToOject(t.urlStream),this.ready=!0,this.fire("onReady",this);break;case t instanceof AudioNode:this.mediaType="audioNode",this.buffer=t,this.ready=!0,this.fire("onReady",this);break;default:var r=new Error("media type not allowed ");throw this.fire("onError",r),r}break;case"element":this.mediaType="element",this.media.oncanplay=function(){this.connectSource(this.media),this.ready=!0,this.fire("onReady",this)}.bind(this);break;case"string":this.url=stage.io.urlToOject(t),this.load(t);break;default:var r=new Error("Track media type error");throw this.fire("onError",r),r}};s.prototype.generateId=function(){return parseInt(1e9*Math.random(),10)},s.prototype.setName=function(t){this.name=t},s.prototype.listen=function(){return this.eventsManager.listen.apply(this.eventsManager,arguments)},s.prototype.unListen=function(){return this.eventsManager.unListen.apply(this.eventsManager,arguments)},s.prototype.fire=function(){return this.eventsManager.fire.apply(this.eventsManager,arguments)},s.prototype.createNodes=function(){this.audioNodes.mute=this.bus.createGain(),this.in=this.audioNodes.mute,this.out=this.audioNodes.mute,this.settings.gain&&(this.audioNodes.gain=this.bus.createGain(),this.out.connect(this.audioNodes.gain),this.out=this.audioNodes.gain),this.settings.filter&&(this.audioNodes.filter=this.bus.createFilter(),this.out.connect(this.audioNodes.filter),this.out=this.audioNodes.filter),this.settings.panner&&(this.audioNodes.panner=this.bus.createStereoPanner(),this.out.connect(this.audioNodes.panner),this.out=this.audioNodes.panner),this.settings.analyser&&(this.audioNodes.analyser=this.bus.createAnalyser(),this.audioNodes.analyser.smoothingTimeConstant=.85,this.out.connect(this.audioNodes.analyser))},s.prototype.setGain=function(t){return this.audioNodes.gain.gain.value=t,this.fire("onSetGain",t),this},s.prototype.getGain=function(){return this.audioNodes.gain.gain.value},s.prototype.mute=function(){return this.audioNodes.mute.gain.value=0,this.muted=!0,this.fire("onMute",this),this},s.prototype.unmute=function(){return this.audioNodes.mute.gain.value=1,this.muted=!1,this.fire("onUnMute",this),this},s.prototype.pause=function(t){switch(this.mediaType){case"element":this.media.pause(),this.fire("onPause",this);break;default:this.source&&(this.source.node&&this.source.playbackState==this.source.node.PLAYING_STATE&&this.source.node.stop(t||0),this.disconnectSource(),this.fire("onPause",this))}return this},s.prototype.play=function(t,e){switch(this.mediaType){case"element":this.media.play(),this.fire("onPlay",this);break;default:this.pause().connectSource(),e&&(this.source.loop=!0),this.source.noteOn&&this.source.noteOn(this.context.currentTime,t),this.source.start&&this.source.start(this.context.currentTime,t)}return this.fire("onPlay",this),this},s.prototype.connectSource=function(){this.source=this.createSource(),this.source.connect(this.in)},s.prototype.disconnectSource=function(){this.source.disconnect(this.in),this.source=null,this.fire("onDisconnectSource",this)},s.prototype.connect=function(t){this.destination=t,this.out.connect(t),this.fire("onConnect",t,this)},s.prototype.disconnect=function(){this.out.disconnect(this.destination),this.destination=null,this.fire("onDisconnect",this)},s.prototype.createSource=function(t){switch(this.mediaType){case"audioNode":var e=t||this.buffer;break;case"video":case"audio":var e=this.context.createBufferSource();e.buffer=t||this.buffer;break;case"decode":this.rawBuffer=t,this.urlStream=URL.createObjectURL(new Blob([this.rawBuffer])),this.context.decodeAudioData(t,function(t){this.buffer=t,this.ready=!0,this.fire("onReady",this)}.bind(this),function(t){console.log(arguments),this.eventsManager.fire("onError",this,t)}.bind(this));break;case"stream":var e=this.context.createMediaStreamSource(t||this.buffer);break;case"element":var e=this.context.createMediaElementSource(this.media)}return e},s.prototype.syncStream=function(){var t=new Uint8Array(this.buffer);Uint8Array.prototype.indexOf=Array.prototype.indexOf;for(var e=this.sync,i=t;;){if(this.retry++,nodeGain,e=i.indexOf(255,e),e==-1||i[e+1]&!0)break;e++}if(e!=-1){var s=this.buffer.slice(e);return delete this.buffer,this.buffer=null,this.buffer=s,this.sync=e,!0}return!1},s.prototype.load=function(t){this.transport=new XMLHttpRequest,this.transport.open("GET",t,!0),this.transport.responseType="arraybuffer",this.transport.onload=function(){switch(this.mediaType="decode",this.createSource(this.transport.response),this.contentType=this.transport.getResponseHeader("content-type").split(";")[0],this.contentType){case/audio\/.*/.test(this.contentType)?this.contentType:null:this.mediaType="audio";break;case/video\/.*/.test(this.contentType)?this.contentType:null:this.mediaType="video"}}.bind(this),this.transport.onerror=function(){console.error("BufferLoader: XHR error")},this.transport.send()};var n={panner:!1,analyser:!1},r=function(e,i,s){this.name=e,this.mixer=i,this.settings=stage.extend({},n,s),this.eventsManager=stage.notificationsCenter.create(this.settings,this),this.audioContext=new t,this.tracks=[],this.nbTracks=0,this.audioNodes={},this.in=null,this.out=null,this.destination=null,this.muted=!1,this.createNodes()};r.prototype.listen=function(){return this.eventsManager.listen.apply(this.eventsManager,arguments)},r.prototype.unListen=function(){return this.eventsManager.unListen.apply(this.eventsManager,arguments)},r.prototype.fire=function(){return this.eventsManager.fire.apply(this.eventsManager,arguments)},r.prototype.createNodes=function(){this.audioNodes.mute=this.createGain(),this.in=this.audioNodes.mute,this.audioNodes.gain=this.createGain(),this.in.connect(this.audioNodes.gain),this.out=this.audioNodes.gain,this.settings.analyser&&(this.audioNodes.splitter=this.createChannelSplitter(2),this.out.connect(this.audioNodes.splitter),this.audioNodes.analyserLeft=this.createAnalyser(),this.audioNodes.analyserLeft.smoothingTimeConstant=.85,this.audioNodes.splitter.connect(this.audioNodes.analyserLeft,0,0),this.audioNodes.analyserRight=this.createAnalyser(),this.audioNodes.analyserRight.smoothingTimeConstant=.85,this.audioNodes.splitter.connect(this.audioNodes.analyserRight,1,0)),this.settings.panner&&(this.audioNodes.panner=this.createStereoPanner(),this.out.connect(this.audioNodes.panner),this.out=this.audioNodes.panner)},r.prototype.connect=function(t){this.destination=t,this.out.connect(t),this.fire("onConnect",t,this)},r.prototype.disconnect=function(t){this.destination&&(this.out.disconnect(this.destination),this.destination=null,this.fire("onDisconnect",this))},r.prototype.setGain=function(t){return this.audioNodes.gain.gain.value=t,this.fire("onSetGain",t),this},r.prototype.getGain=function(){return this.audioNodes.gain.gain.value},r.prototype.mute=function(){return this.audioNodes.mute.gain.value=0,this.muted=!0,this.fire("onMute",this),this},r.prototype.unmute=function(){return this.audioNodes.mute.gain.value=1,this.muted=!1,this.fire("onUnMute",this),this},r.prototype.createGain=function(){return this.audioContext.createGain()},r.prototype.createPanner=function(){return this.audioContext.createPanner()},r.prototype.createStereoPanner=function(){return this.audioContext.createStereoPanner()},r.prototype.createFilter=function(){return this.audioContext.createBiquadFilter()},r.prototype.createAnalyser=function(){return this.audioContext.createAnalyser()},r.prototype.createChannelSplitter=function(t){return this.audioContext.createChannelSplitter(t)},r.prototype.createChannelMerger=function(t){return this.audioContext.createChannelMerger(t)},r.prototype.createOscillator=function(){return this.audioContext.createOscillator()},r.prototype.createMediaStreamDestination=function(){var t=this.audioContext.createMediaStreamDestination();return this.disconnect(),this.connect(t),t},r.prototype.createTrack=function(t,e){var i=new s(t,this,e);return this.tracks.push(i),this.nbTracks++,this.fire("onCreateTrack",i,this),i},r.prototype.removeTrack=function(t){var e=null;switch(!0){case t instanceof s:for(var i=0;i<this.tracks.length;i++)if(this.tracks[i]===t){var n=t.name;t.pause(),t.disconnect(),e=this.tracks.splice(i,1),this.nbTracks--,this.fire("onRemoveTrack",e[0],this),delete e[0];break}break;case"number"==typeof t:case"string"==typeof t:for(var n=t,i=0;i<this.tracks.length;i++)if(this.tracks[i].name===n){this.tracks[i].pause(),this.tracks[i].disconnect(),e=this.tracks.splice(i,1),this.nbTracks--,this.fire("onRemoveTrack",e[0],this),delete e[0];break}}if(!e)throw new Error("this track doesn't exist in  bus : "+this.name);return!0};var o={},a=function(t){this.audioBus={},this.nbBus=0,this.settings=stage.extend({},o,t),this.eventsManager=new stage.notificationsCenter.create(this.settings,this),this.createAudioBus("MASTER",{panner:!0,analyser:!0}),this.masterBus=this.audioBus.MASTER,this.tracks=this.masterBus.tracks,this.audioContext=this.masterBus.audioContext,this.muted=this.masterBus.muted,this.panner=this.masterBus.audioNodes.panner,this.analyserLeft=this.masterBus.audioNodes.analyserLeft,this.analyserRight=this.masterBus.audioNodes.analyserRight,this.gain=this.masterBus.audioNodes.gain,this.connect(this.audioContext.destination)};a.prototype.listen=function(){return this.eventsManager.listen.apply(this.eventsManager,arguments)},a.prototype.unListen=function(){return this.eventsManager.unListen.apply(this.eventsManager,arguments)},a.prototype.fire=function(){return this.eventsManager.fire.apply(this.eventsManager,arguments)},a.prototype.createAudioBus=function(t,e){try{var i=new r(t,this,e)}catch(t){throw t}return this.audioBus[t]=i,this.nbBus++,i.listen(this,"onCreateTrack",function(t,e){this.fire("onCreateTrack",t,e,this)}),i.listen(this,"onRemoveTrack",function(t,e){this.fire("onRemoveTrack",t,e,this)}),i},a.prototype.removeAudioBus=function(t){var e=null;switch(!0){case t instanceof r:break;case"number"==typeof track:case"string"==typeof track:}if(!e)throw new Error("remove bus : this bus doesn't exist in  mixer  ");return!0},a.prototype.connect=function(t){this.destination=t;var e=this.masterBus.connect(t);return this.fire("onConnect",t,this),e},a.prototype.disconnect=function(){this.masterBus.disconnect(),this.destination=null,this.fire("onDisconnect",this)},a.prototype.setGain=function(t){return this.masterBus.setGain(t),this},a.prototype.getGain=function(){return this.masterBus.getGain()},a.prototype.mute=function(){return this.masterBus.mute(),this.muted=this.masterBus.muted,this},a.prototype.unmute=function(){return this.masterBus.unmute(),this.muted=this.masterBus.muted,this},a.prototype.createTrack=function(t,e){return this.masterBus.createTrack(t,e)},a.prototype.removeTrack=function(t){return this.masterBus.removeTrack(t)},a.prototype.playTracks=function(t,e){for(var i=0;i<this.tracks.length;i++)this.tracks[i].play(t,e)},a.prototype.createGain=function(){return this.audioContext.createGain()},a.prototype.createPanner=function(){return this.audioContext.createPanner()},a.prototype.createStereoPanner=function(){return this.audioContext.createStereoPanner()},a.prototype.createFilter=function(){return this.audioContext.createBiquadFilter()},a.prototype.createAnalyser=function(){return this.audioContext.createAnalyser()},a.prototype.createChannelSplitter=function(t){return this.audioContext.createChannelSplitter(t)},a.prototype.createChannelMerger=function(t){return this.audioContext.createChannelMerger(t)},a.prototype.createOscillator=function(){return this.audioContext.createOscillator()};var u=null,h=null,c=(function(){try{if(stage.browser.Webkit)return h=function(t){return URL.createObjectURL(t)},u=webkitMediaStream,webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks},webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks}),!0;if(stage.browser.Gecko)return h=function(t){return window.URL.createObjectURL(t)},u=MediaStream,MediaStream.prototype.getVideoTracks||(MediaStream.prototype.getVideoTracks=function(){return[]}),MediaStream.prototype.getAudioTracks||(MediaStream.prototype.getAudioTracks=function(){return[]}),!0;if(stage.browser.Opera)return h=function(t){return t},MediaStream.prototype.getVideoTracks||(MediaStream.prototype.getVideoTracks=function(){return[]}),MediaStream.prototype.getAudioTracks||(MediaStream.prototype.getAudioTracks=function(){return[]}),!0;console.error("Browser does not appear to be mediaStream-capable")}catch(t){console.log(t)}}(),{audio:!0,video:!0}),u=function(t,e){this.settings=stage.extend({},c,e),this.notificationsCenter=stage.notificationsCenter.create(this.settings,this),this.urlStream=null,this.stream=this.settings.stream?this.setStream(this.settings.stream):null,this.mediaElement=t?t:null};return u.prototype.getUserMedia=function(t,e,i){return t&&(this.settings=stage.extend({},c,t),this.notificationsCenter.settingsToListen(t)),navigator.getUserMedia({video:this.settings.video,audio:this.settings.audio},function(t){this.setStream(t),e&&e(this),this.notificationsCenter.fire("onSucces",t,this)}.bind(this),function(t){i&&i(t),this.notificationsCenter.listen(this,"onError")}.bind(this))},u.prototype.setStream=function(t){return this.stream=t,this.urlStream=this.getMediaStream(t),this.videotracks=this.getVideoTracks(),this.audiotracks=this.getAudioTracks(),t},u.prototype.stop=function(){this.stream&&this.stream.stop()},u.prototype.getMediaStream=h,u.prototype.attachMediaStream=function(){return stage.browser.Webkit||stage.browser.Opera?function(t){this.mediaElement=t,t.src=this.getMediaStream(this.stream),t.play()}:stage.browser.Gecko?function(t){this.mediaElement=t,t.mozSrcObject=this.stream,t.play()}:void 0}(),u.prototype.reattachMediaStream=function(){return stage.browser.Webkit?function(t){this.mediaElement.src=this.getMediaStream(this.stream),this.mediaElement.play()}:stage.browser.Gecko?function(t){t.mozSrcObject=this.mediaElement.mozSrcObject,t.play(),this.mediaElement=t}:void 0}(),u.prototype.getVideoTracks=function(){return this.stream.getVideoTracks()},u.prototype.getAudioTracks=function(){return this.stream.getAudioTracks()},{mediaStream:u,webAudioApi:e,mediaMix:a,Track:s,audioBus:r}});